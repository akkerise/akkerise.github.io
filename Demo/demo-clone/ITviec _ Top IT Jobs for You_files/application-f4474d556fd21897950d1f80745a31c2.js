/*! jQuery UI - v1.10.3 - 2013-05-03
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.effect.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.position.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
function registerLongDescriptionToggler(){$(".see_more").click(function(){$(".see_more").addClass("hidden"),$(".long_description").toggleClass("max_lines",200),$(".see_less").removeClass("hidden")}),$(".see_less").click(function(){$(".see_more").removeClass("hidden"),$(".long_description").toggleClass("max_lines",200),$(".see_less").addClass("hidden")})}!function(t,e){function i(e,i){var s,o,a,r=e.nodeName.toLowerCase();return"area"===r?(s=e.parentNode,o=s.name,e.href&&o&&"map"===s.nodeName.toLowerCase()?(a=t("img[usemap=#"+o+"]")[0],!!a&&n(a)):!1):(/input|select|textarea|button|object/.test(r)?!e.disabled:"a"===r?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var s=0,o=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var n,s,o=t(this[0]);o.length&&o[0]!==document;){if(n=o.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(s=parseInt(o.css("zIndex"),10),!isNaN(s)&&0!==s))return s;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(e,!s)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,n){function s(e,i,n,s){return t.each(o,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),s&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var o="Width"===n?["Left","Right"]:["Top","Bottom"],a=n.toLowerCase(),r={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(i){return i===e?r["inner"+n].call(this):this.each(function(){t(this).css(a,s(this,i)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?r["outer"+n].call(this,e):this.each(function(){t(this).css(a,s(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,n){var s,o=t.ui[e].prototype;for(s in n)o.plugins[s]=o.plugins[s]||[],o.plugins[s].push([i,n[s]])},call:function(t,e,i){var n,s=t.plugins[e];if(s&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(n=0;n<s.length;n++)t.options[s[n][0]]&&s[n][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return e[n]>0?!0:(e[n]=1,s=e[n]>0,e[n]=0,s)}})}(jQuery),function(t,e){var i=0,n=Array.prototype.slice,s=t.cleanData;t.cleanData=function(e){for(var i,n=0;null!=(i=e[n]);n++)try{t(i).triggerHandler("remove")}catch(o){}s(e)},t.widget=function(e,i,n){var s,o,a,r,l={},h=e.split(".")[0];e=e.split(".")[1],s=h+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][s.toLowerCase()]=function(e){return!!t.data(e,s)},t[h]=t[h]||{},o=t[h][e],a=t[h][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new a(t,e)},t.extend(a,o,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),r=new i,r.options=t.widget.extend({},r.options),t.each(n,function(e,n){return t.isFunction(n)?(l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},s=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=s,e=n.apply(this,arguments),this._super=i,this._superApply=o,e}}(),void 0):(l[e]=n,void 0)}),a.prototype=t.widget.extend(r,{widgetEventPrefix:o?r.widgetEventPrefix:e},l,{constructor:a,namespace:h,widgetName:e,widgetFullName:s}),o?(t.each(o._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,a,i._proto)}),delete o._childConstructors):i._childConstructors.push(a),t.widget.bridge(e,a)},t.widget.extend=function(i){for(var s,o,a=n.call(arguments,1),r=0,l=a.length;l>r;r++)for(s in a[r])o=a[r][s],a[r].hasOwnProperty(s)&&o!==e&&(i[s]=t.isPlainObject(o)?t.isPlainObject(i[s])?t.widget.extend({},i[s],o):t.widget.extend({},o):o);return i},t.widget.bridge=function(i,s){var o=s.prototype.widgetFullName||i;t.fn[i]=function(a){var r="string"==typeof a,l=n.call(arguments,1),h=this;return a=!r&&l.length?t.widget.extend.apply(null,[a].concat(l)):a,r?this.each(function(){var n,s=t.data(this,o);return s?t.isFunction(s[a])&&"_"!==a.charAt(0)?(n=s[a].apply(s,l),n!==s&&n!==e?(h=n&&n.jquery?h.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+a+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+a+"'")}):this.each(function(){var e=t.data(this,o);e?e.option(a||{})._init():t.data(this,o,new s(a,this))}),h}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,n){var s,o,a,r=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(r={},s=i.split("."),i=s.shift(),s.length){for(o=r[i]=t.widget.extend({},this.options[i]),a=0;a<s.length-1;a++)o[s[a]]=o[s[a]]||{},o=o[s[a]];if(i=s.pop(),n===e)return o[i]===e?null:o[i];o[i]=n}else{if(n===e)return this.options[i]===e?null:this.options[i];r[i]=n}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,i,n){var s,o=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=s=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),t.each(n,function(n,a){function r(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var l=n.match(/^(\w+)\s*(.*)$/),h=l[1]+o.eventNamespace,c=l[2];c?s.delegate(c,h,r):i.bind(h,r)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var s,o,a=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(s in o)s in i||(i[s]=o[s]);return this.element.trigger(i,n),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,s,o){"string"==typeof s&&(s={effect:s});var a,r=s?s===!0||"number"==typeof s?i:s.effect||i:e;s=s||{},"number"==typeof s&&(s={duration:s}),a=!t.isEmptyObject(s),s.complete=o,s.delay&&n.delay(s.delay),a&&t.effects&&t.effects.effect[r]?n[e](s):r!==e&&n[r]?n[r](s.duration,s.easing,o):n.queue(function(i){t(this)[e](),o&&o.call(n[0]),i()})}})}(jQuery),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,s=1===i.which,o="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return s&&!o&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"original"!==this.options.helper||t.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,s=this.options;return s.containment?"window"===s.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===s.containment?(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):s.containment.constructor===Array?(this.containment=s.containment,void 0):("parent"===s.containment&&(s.containment=this.helper[0].parentNode),i=t(s.containment),n=i[0],n&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:s.scrollTop(),left:s.scrollLeft()}),{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(e){var i,n,s,o,a=this.options,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=e.pageX,h=e.pageY;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),a.grid&&(s=a.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,h=i?s-this.offset.click.top>=i[1]||s-this.offset.click.top>i[3]?s:s-this.offset.click.top>=i[1]?s-a.grid[1]:s+a.grid[1]:s,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var n=t(this).data("ui-draggable"),s=n.options,o=t.extend({},i,{item:n.element});n.sortables=[],t(s.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,o))})},stop:function(e,i){var n=t(this).data("ui-draggable"),s=t.extend({},i,{item:n.element});t.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,s))})},drag:function(e,i){var n=t(this).data("ui-draggable"),s=this;t.each(n.sortables,function(){var o=!1,a=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,t.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==a&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(a.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(s).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",e),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",e),n.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var n=t(i.helper),s=t(this).data("ui-draggable").options;n.css("opacity")&&(s._opacity=n.css("opacity")),n.css("opacity",s.opacity)},stop:function(e,i){var n=t(this).data("ui-draggable").options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("ui-draggable"),n=i.options,s=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(document).scrollTop()<n.scrollSensitivity?s=t(document).scrollTop(t(document).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<n.scrollSensitivity&&(s=t(document).scrollTop(t(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(document).scrollLeft()<n.scrollSensitivity?s=t(document).scrollLeft(t(document).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<n.scrollSensitivity&&(s=t(document).scrollLeft(t(document).scrollLeft()+n.scrollSpeed)))),s!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),n=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(e,i){var n,s,o,a,r,l,h,c,u,d,p=t(this).data("ui-draggable"),f=p.options,m=f.snapTolerance,g=i.offset.left,v=g+p.helperProportions.width,_=i.offset.top,b=_+p.helperProportions.height;for(u=p.snapElements.length-1;u>=0;u--)r=p.snapElements[u].left,l=r+p.snapElements[u].width,h=p.snapElements[u].top,c=h+p.snapElements[u].height,r-m>v||g>l+m||h-m>b||_>c+m||!t.contains(p.snapElements[u].item.ownerDocument,p.snapElements[u].item)?(p.snapElements[u].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=!1):("inner"!==f.snapMode&&(n=Math.abs(h-b)<=m,s=Math.abs(c-_)<=m,o=Math.abs(r-v)<=m,a=Math.abs(l-g)<=m,n&&(i.position.top=p._convertPositionTo("relative",{top:h-p.helperProportions.height,left:0}).top-p.margins.top),s&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r-p.helperProportions.width}).left-p.margins.left),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),d=n||s||o||a,"outer"!==f.snapMode&&(n=Math.abs(h-_)<=m,s=Math.abs(c-b)<=m,o=Math.abs(r-g)<=m,a=Math.abs(l-v)<=m,n&&(i.position.top=p._convertPositionTo("relative",{top:h,left:0}).top-p.margins.top),s&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r}).left-p.margins.left),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[u].snapping&&(n||s||o||a||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=n||s||o||a||d)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,n=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});n.length&&(e=parseInt(t(n[0]).css("zIndex"),10)||0,t(n).each(function(i){t(this).css("zIndex",e+i)}),this.css("zIndex",e+n.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var n=t(i.helper),s=t(this).data("ui-draggable").options;n.css("zIndex")&&(s._zIndex=n.css("zIndex")),n.css("zIndex",s.zIndex)},stop:function(e,i){var n=t(this).data("ui-draggable").options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}})}(jQuery),function(t){function e(t,e,i){return t>e&&e+i>t}t.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e=this.options,i=e.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},t.ui.ddmanager.droppables[e.scope]=t.ui.ddmanager.droppables[e.scope]||[],t.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,i=t.ui.ddmanager.droppables[this.options.scope];e<i.length;e++)i[e]===this&&i.splice(e,1);
this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){"accept"===e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,s=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable");return e.options.greedy&&!e.options.disabled&&e.options.scope===n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(s=!0,!1):void 0}),s?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,i,n){if(!i.offset)return!1;var s,o,a=(t.positionAbs||t.position.absolute).left,r=a+t.helperProportions.width,l=(t.positionAbs||t.position.absolute).top,h=l+t.helperProportions.height,c=i.offset.left,u=c+i.proportions.width,d=i.offset.top,p=d+i.proportions.height;switch(n){case"fit":return a>=c&&u>=r&&l>=d&&p>=h;case"intersect":return c<a+t.helperProportions.width/2&&r-t.helperProportions.width/2<u&&d<l+t.helperProportions.height/2&&h-t.helperProportions.height/2<p;case"pointer":return s=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,o=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,e(o,d,i.proportions.height)&&e(s,c,i.proportions.width);case"touch":return(l>=d&&p>=l||h>=d&&p>=h||d>l&&h>p)&&(a>=c&&u>=a||r>=c&&u>=r||c>a&&r>u);default:return!1}},t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var n,s,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;n<o.length;n++)if(!(o[n].options.disabled||e&&!o[n].accept.call(o[n].element[0],e.currentItem||e.element))){for(s=0;s<r.length;s++)if(r[s]===o[n].element[0]){o[n].proportions.height=0;continue t}o[n].visible="none"!==o[n].element.css("display"),o[n].visible&&("mousedown"===a&&o[n]._activate.call(o[n],i),o[n].offset=o[n].element.offset(),o[n].proportions={width:o[n].element[0].offsetWidth,height:o[n].element[0].offsetHeight})}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,s,o,a=t.ui.intersect(e,this,this.options.tolerance),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(s=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t.data(this,"ui-droppable").options.scope===s}),o.length&&(n=t.data(o[0],"ui-droppable"),n.greedyChild="isover"===r)),n&&"isover"===r&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),n&&"isout"===r&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}}(jQuery),function(t){function e(t){return parseInt(t,10)||0}function i(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,n,s,o,a=this,r=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;i<e.length;i++)n=t.trim(e[i]),o="ui-resizable-"+n,s=t("<div class='ui-resizable-handle "+o+"'></div>"),s.css({zIndex:r.zIndex}),"se"===n&&s.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(s);this._renderAxis=function(e){var i,n,s,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),s=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(s,o),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=s&&s[1]?s[1]:"se")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(t(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){r.disabled||a.resizing||(t(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,n,s=!1;for(i in this.handles)n=t(this.handles[i])[0],(n===e.target||t.contains(n,e.target))&&(s=!0);return!this.options.disabled&&s},_mouseStart:function(i){var n,s,o,a=this.options,r=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:r.top,left:r.left}),this._renderProxy(),n=e(this.helper.css("left")),s=e(this.helper.css("top")),a.containment&&(n+=t(a.containment).scrollLeft()||0,s+=t(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:s},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:n,top:s},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===o?this.axis+"-resize":o),l.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(e){var i,n=this.helper,s={},o=this.originalMousePosition,a=this.axis,r=this.position.top,l=this.position.left,h=this.size.width,c=this.size.height,u=e.pageX-o.left||0,d=e.pageY-o.top||0,p=this._change[a];return p?(i=p.apply(this,[e,u,d]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),this.position.top!==r&&(s.top=this.position.top+"px"),this.position.left!==l&&(s.left=this.position.left+"px"),this.size.width!==h&&(s.width=this.size.width+"px"),this.size.height!==c&&(s.height=this.size.height+"px"),n.css(s),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||this._trigger("resize",e,this.ui()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,n,s,o,a,r,l,h=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),s=n&&t.ui.hasScroll(i[0],"left")?0:c.sizeDiff.height,o=n?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-s},r=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,l=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,h.animate||this.element.css(t.extend(a,{top:l,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!h.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,n,s,o,a,r=this.options;a={minWidth:i(r.minWidth)?r.minWidth:0,maxWidth:i(r.maxWidth)?r.maxWidth:1/0,minHeight:i(r.minHeight)?r.minHeight:0,maxHeight:i(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=a.minHeight*this.aspectRatio,s=a.minWidth/this.aspectRatio,n=a.maxHeight*this.aspectRatio,o=a.maxWidth/this.aspectRatio,e>a.minWidth&&(a.minWidth=e),s>a.minHeight&&(a.minHeight=s),n<a.maxWidth&&(a.maxWidth=n),o<a.maxHeight&&(a.maxHeight=o)),this._vBoundaries=a},_updateCache:function(t){this.offset=this.helper.offset(),i(t.left)&&(this.position.left=t.left),i(t.top)&&(this.position.top=t.top),i(t.height)&&(this.size.height=t.height),i(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,s=this.axis;return i(t.height)?t.width=t.height*this.aspectRatio:i(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,s=i(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=i(t.height)&&e.maxHeight&&e.maxHeight<t.height,a=i(t.width)&&e.minWidth&&e.minWidth>t.width,r=i(t.height)&&e.minHeight&&e.minHeight>t.height,l=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return a&&(t.width=e.minWidth),r&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),a&&c&&(t.left=l-e.minWidth),s&&c&&(t.left=l-e.maxWidth),r&&u&&(t.top=h-e.minHeight),o&&u&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,n,s,o=this.helper||this.element;for(t=0;t<this._proportionallyResizeElements.length;t++){if(s=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[s.css("borderTopWidth"),s.css("borderRightWidth"),s.css("borderBottomWidth"),s.css("borderLeftWidth")],n=[s.css("paddingTop"),s.css("paddingRight"),s.css("paddingBottom"),s.css("paddingLeft")],e=0;e<i.length;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(n[e],10)||0);s.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,n=this.originalPosition;return{left:n.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize,s=this.originalPosition;return{top:s.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("ui-resizable"),n=i.options,s=i._proportionallyResizeElements,o=s.length&&/textarea/i.test(s[0].nodeName),a=o&&t.ui.hasScroll(s[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,l={width:i.size.width-r,height:i.size.height-a},h=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,c&&h?{top:c,left:h}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};s&&s.length&&t(s[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var i,n,s,o,a,r,l,h=t(this).data("ui-resizable"),c=h.options,u=h.element,d=c.containment,p=d instanceof t?d.get(0):/parent/.test(d)?u.parent().get(0):d;p&&(h.containerElement=t(p),/document/.test(d)||d===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(i=t(p),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){n[t]=e(i.css("padding"+s))}),h.containerOffset=i.offset(),h.containerPosition=i.position(),h.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},s=h.containerOffset,o=h.containerSize.height,a=h.containerSize.width,r=t.ui.hasScroll(p,"left")?p.scrollWidth:a,l=t.ui.hasScroll(p)?p.scrollHeight:o,h.parentData={element:p,left:s.left,top:s.top,width:r,height:l}))},resize:function(e){var i,n,s,o,a=t(this).data("ui-resizable"),r=a.options,l=a.containerOffset,h=a.position,c=a._aspectRatio||e.shiftKey,u={top:0,left:0},d=a.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(u=l),h.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-u.left),c&&(a.size.height=a.size.width/a.aspectRatio),a.position.left=r.helper?l.left:0),h.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio),a.position.top=a._helper?l.top:0),a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top,i=Math.abs((a._helper?a.offset.left-u.left:a.offset.left-u.left)+a.sizeDiff.width),n=Math.abs((a._helper?a.offset.top-u.top:a.offset.top-l.top)+a.sizeDiff.height),s=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),s&&o&&(i-=a.parentData.left),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio)),n+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-n,c&&(a.size.width=a.size.height*a.aspectRatio))},stop:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.containerOffset,s=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),l=a.outerWidth()-e.sizeDiff.width,h=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-s.left-n.left,width:l,height:h}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-s.left-n.left,width:l,height:h})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,n=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):t.each(i.alsoResize,function(t){n(t)})},resize:function(e,i){var n=t(this).data("ui-resizable"),s=n.options,o=n.originalSize,a=n.originalPosition,r={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-a.top||0,left:n.position.left-a.left||0},l=function(e,n){t(e).each(function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),o={},a=n&&n.length?n:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(a,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(o[e]=i||null)}),e.css(o)})};"object"!=typeof s.alsoResize||s.alsoResize.nodeType?l(s.alsoResize):t.each(s.alsoResize,function(t,e){l(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.size,s=e.originalSize,o=e.originalPosition,a=e.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=r[0]||1,h=r[1]||1,c=Math.round((n.width-s.width)/l)*l,u=Math.round((n.height-s.height)/h)*h,d=s.width+c,p=s.height+u,f=i.maxWidth&&i.maxWidth<d,m=i.maxHeight&&i.maxHeight<p,g=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>p;i.grid=r,g&&(d+=l),v&&(p+=h),f&&(d-=l),m&&(p-=h),/^(se|s|e)$/.test(a)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.top=o.top-u):/^(sw)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.left=o.left-c):(e.size.width=d,e.size.height=p,e.position.top=o.top-u,e.position.left=o.left-c)}})}(jQuery),function(t){t.widget("ui.selectable",t.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=t.data(this,"selectable-item");n.startselected=!0,e.metaKey||e.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))}),t(e.target).parents().addBack().each(function(){var n,s=t.data(this,"selectable-item");return s?(n=!e.metaKey&&!e.ctrlKey||!s.$element.hasClass("ui-selected"),s.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),s.unselecting=!n,s.selecting=n,s.selected=n,n?i._trigger("selecting",e,{selecting:s.element}):i._trigger("unselecting",e,{unselecting:s.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,s=this.options,o=this.opos[0],a=this.opos[1],r=e.pageX,l=e.pageY;return o>r&&(i=r,r=o,o=i),a>l&&(i=l,l=a,a=i),this.helper.css({left:o,top:a,width:r-o,height:l-a}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),h=!1;i&&i.element!==n.element[0]&&("touch"===s.tolerance?h=!(i.left>r||i.right<o||i.top>l||i.bottom<a):"fit"===s.tolerance&&(h=i.left>o&&i.right<r&&i.top>a&&i.bottom<l),h?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}})}(jQuery),function(t){function e(t,e,i){return t>e&&e+i>t}function i(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var n=null,s=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(n=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(n=t(e.target)),n?!this.options.handle||i||(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(s=!0)}),s)?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,n){var s,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,s,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-t(document).scrollTop()<a.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-a.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<a.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+a.scrollSpeed)),e.pageX-t(document).scrollLeft()<a.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-a.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<a.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],s=n.item[0],o=this._intersectsWithPointer(n),o&&n.instance===this.currentContainer&&s!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==s&&!t.contains(this.placeholder[0],s)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],s):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,s=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){n._clear(e)
})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,l=r+t.height,h=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||n+h>r&&l>n+h,d="y"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:o<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<a&&r<n+this.helperProportions.height/2&&s-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),s=i&&n,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return s?this.floating?a&&"right"===a||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(t){var i=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:s&&("down"===s&&i||"up"===s&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i,n,s,o,a=[],r=[],l=this._connectWith();if(l&&e)for(i=l.length-1;i>=0;i--)for(s=t(l[i]),n=s.length-1;n>=0;n--)o=t.data(s[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&r.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(r.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=r.length-1;i>=0;i--)r[i][0].each(function(){a.push(this)});return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,s,o,a,r,l,h,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(s=t(d[i]),n=s.length-1;n>=0;n--)o=t.data(s[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],n=0,h=r.length;h>n;n++)l=t(r[n]),l.data(this.widgetName+"-item",a),c.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,s,o;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=s.outerWidth(),n.height=s.outerHeight()),o=s.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),s=t("<"+n+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(s)}):"img"===n&&s.attr("src",e.currentItem.attr("src")),i||s.css("visibility","hidden"),s},update:function(t,s){(!i||n.forcePlaceholderSize)&&(s.height()||s.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),s.width()||s.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_contactContainers:function(n){var s,o,a,r,l,h,c,u,d,p,f=null,m=null;for(s=this.containers.length-1;s>=0;s--)if(!t.contains(this.currentItem[0],this.containers[s].element[0]))if(this._intersectsWith(this.containers[s].containerCache)){if(f&&t.contains(this.containers[s].element[0],f.element[0]))continue;f=this.containers[s],m=s}else this.containers[s].containerCache.over&&(this.containers[s]._trigger("out",n,this._uiHash(this)),this.containers[s].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",n,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(a=1e4,r=null,p=f.floating||i(this.currentItem),l=p?"left":"top",h=p?"width":"height",c=this.positionAbs[l]+this.offset.click[l],o=this.items.length-1;o>=0;o--)t.contains(this.containers[m].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!p||e(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(u=this.items[o].item.offset()[l],d=!1,Math.abs(u-c)>Math.abs(u+this.items[o][h]-c)&&(d=!0,u+=this.items[o][h]),Math.abs(u-c)<a&&(a=Math.abs(u-c),r=this.items[o],this.direction=d?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;r?this._rearrange(n,r,null,!0):this._rearrange(n,null,this.containers[m].element,!0),this._trigger("change",n,this._uiHash()),this.containers[m]._trigger("change",n,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",n,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),("document"===s.containment||"window"===s.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===s.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===s.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(e=t(s.containment)[0],i=t(s.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*n}},_generatePosition:function(e){var i,n,s=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),s.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/s.grid[1])*s.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-s.grid[1]:i+s.grid[1]:i,n=this.originalPageX+Math.round((o-this.originalPageX)/s.grid[0])*s.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-s.grid[0]:n+s.grid[0]:n)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:r.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||n.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}(jQuery),function(t,e){var i="ui-effects-";t.effects={effect:{}},/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
function(t,e){function i(t,e,i){var n=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:n.max<t?n.max:t)}function n(e){var i=h(),n=i._rgba=[];return e=e.toLowerCase(),f(l,function(t,s){var o,a=s.re.exec(e),r=a&&s.parse(a),l=s.space||"rgba";return r?(o=i[l](r),i[c[l].cache]=o[c[l].cache],n=i._rgba=o._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&t.extend(n,o.transparent),i):o[e]}function s(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],h=t.Color=function(e,i,n,s){return new t.Color.fn.parse(e,i,n,s)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=h.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),h.fn=t.extend(h.prototype,{parse:function(s,a,r,l){if(s===e)return this._rgba=[null,null,null,null],this;(s.jquery||s.nodeType)&&(s=t(s).css(a),a=e);var u=this,d=t.type(s),p=this._rgba=[];return a!==e&&(s=[s,a,r,l],d="array"),"string"===d?this.parse(n(s)||o._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(s[e.idx],e)}),this):"object"===d?(s instanceof h?f(c,function(t,e){s[e.cache]&&(u[e.cache]=s[e.cache].slice())}):f(c,function(e,n){var o=n.cache;f(n.props,function(t,e){if(!u[o]&&n.to){if("alpha"===t||null==s[t])return;u[o]=n.to(u._rgba)}u[o][e.idx]=i(s[t],e,!0)}),u[o]&&t.inArray(null,u[o].slice(0,3))<0&&(u[o][3]=1,n.from&&(u._rgba=n.from(u[o])))}),this):void 0},is:function(t){var e=h(t),i=!0,n=this;return f(c,function(t,s){var o,a=e[s.cache];return a&&(o=n[s.cache]||s.to&&s.to(n._rgba)||[],f(s.props,function(t,e){return null!=a[e.idx]?i=a[e.idx]===o[e.idx]:void 0})),i}),i},_space:function(){var t=[],e=this;return f(c,function(i,n){e[n.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var n=h(t),s=n._space(),o=c[s],a=0===this.alpha()?h("transparent"):this,r=a[o.cache]||o.to(a._rgba),l=r.slice();return n=n[o.cache],f(o.props,function(t,s){var o=s.idx,a=r[o],h=n[o],c=u[s.type]||{};null!==h&&(null===a?l[o]=h:(c.mod&&(h-a>c.mod/2?a+=c.mod:a-h>c.mod/2&&(a-=c.mod)),l[o]=i((h-a)*e+a,s)))}),this[s](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),s=h(e)._rgba;return h(t.map(i,function(t,e){return(1-n)*s[e]+n*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),h.fn.parse.prototype=h.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,s=t[1]/255,o=t[2]/255,a=t[3],r=Math.max(n,s,o),l=Math.min(n,s,o),h=r-l,c=r+l,u=.5*c;return e=l===r?0:n===r?60*(s-o)/h+360:s===r?60*(o-n)/h+120:60*(n-s)/h+240,i=0===h?0:.5>=u?h/c:h/(2-c),[Math.round(e)%360,i,u,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],o=t[3],a=.5>=n?n*(1+i):n+i-n*i,r=2*n-a;return[Math.round(255*s(r,a,e+1/3)),Math.round(255*s(r,a,e)),Math.round(255*s(r,a,e-1/3)),o]},f(c,function(n,s){var o=s.props,a=s.cache,l=s.to,c=s.from;h.fn[n]=function(n){if(l&&!this[a]&&(this[a]=l(this._rgba)),n===e)return this[a].slice();var s,r=t.type(n),u="array"===r||"object"===r?n:arguments,d=this[a].slice();return f(o,function(t,e){var n=u["object"===r?t:e.idx];null==n&&(n=d[e.idx]),d[e.idx]=i(n,e)}),c?(s=h(c(d)),s[a]=d,s):h(d)},f(o,function(e,i){h.fn[e]||(h.fn[e]=function(s){var o,a=t.type(s),l="alpha"===e?this._hsla?"hsla":"rgba":n,h=this[l](),c=h[i.idx];return"undefined"===a?c:("function"===a&&(s=s.call(this,c),a=t.type(s)),null==s&&i.empty?this:("string"===a&&(o=r.exec(s),o&&(s=c+parseFloat(o[2])*("+"===o[1]?1:-1))),h[i.idx]=s,this[l](h)))})})}),h.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,s){var o,a,r="";if("transparent"!==s&&("string"!==t.type(s)||(o=n(s)))){if(s=h(o||s),!d.rgba&&1!==s._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&a&&a.style;)try{r=t.css(a,"backgroundColor"),a=a.parentNode}catch(l){}s=s.blend(r&&"transparent"!==r?r:"_default")}s=s.toRgbaString()}try{e.style[i]=s}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=h(e.elem,i),e.end=h(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},h.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,n){e["border"+n+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(e){var i,n,s=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(s&&s.length&&s[0]&&s[s[0]])for(n=s.length;n--;)i=s[n],"string"==typeof s[i]&&(o[t.camelCase(i)]=s[i]);else for(i in s)"string"==typeof s[i]&&(o[i]=s[i]);return o}function n(e,i){var n,s,a={};for(n in i)s=i[n],e[n]!==s&&(o[n]||(t.fx.step[n]||!isNaN(parseFloat(s)))&&(a[n]=s));return a}var s=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,o,a,r){var l=t.speed(o,a,r);return this.queue(function(){var o,a=t(this),r=a.attr("class")||"",h=l.children?a.find("*").addBack():a;h=h.map(function(){var e=t(this);return{el:e,start:i(this)}}),o=function(){t.each(s,function(t,i){e[i]&&a[i+"Class"](e[i])})},o(),h=h.map(function(){return this.end=i(this.el[0]),this.diff=n(this.start,this.end),this}),a.attr("class",r),h=h.map(function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()}),t.when.apply(t,h.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(i,n,s,o){return n?t.effects.animateClass.call(this,{add:i},n,s,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,n,s,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,s,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(i){return function(n,s,o,a,r){return"boolean"==typeof s||s===e?o?t.effects.animateClass.call(this,s?{add:n}:{remove:n},o,a,r):i.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},s,o,a)}}(t.fn.toggleClass),switchClass:function(e,i,n,s,o){return t.effects.animateClass.call(this,{add:i,remove:e},n,s,o)}})}(),function(){function n(e,i,n,s){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(s=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(s=n,n=i,i={}),t.isFunction(n)&&(s=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=s||i.complete,e}function s(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}t.extend(t.effects,{version:"1.10.3",save:function(t,e){for(var n=0;n<e.length;n++)null!==e[n]&&t.data(i+e[n],t[0].style[e[n]])},restore:function(t,n){var s,o;for(o=0;o<n.length;o++)null!==n[o]&&(s=t.data(i+n[o]),s===e&&(s=""),t.css(n[o],s))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(n),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(s),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,n,s){return s=s||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(s[i]=o[0]*n+o[1])}),s}}),t.fn.extend({effect:function(){function e(e){function n(){t.isFunction(o)&&o.call(s[0]),t.isFunction(e)&&e()}var s=t(this),o=i.complete,r=i.mode;(s.is(":hidden")?"hide"===r:"show"===r)?(s[r](),n()):a.call(s[0],i,n)}var i=n.apply(this,arguments),s=i.mode,o=i.queue,a=t.effects.effect[i.effect];return t.fx.off||!a?s?this[s](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):o===!1?this.each(e):this.queue(o||"fx",e)},show:function(t){return function(e){if(s(e))return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(t.fn.show),hide:function(t){return function(e){if(s(e))return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(t.fn.hide),toggle:function(t){return function(e){if(s(e)||"boolean"==typeof e)return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])}),n}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}()}(jQuery),function(t){var e=0,i={},n={};i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="show",t.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t(),content:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),"disabled"===t&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e),void 0)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,n=this.headers.length,s=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(s+1)%n];break;case i.LEFT:case i.UP:o=this.headers[(s-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[n-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),o.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var i,n=this.options,s=n.heightStyle,o=this.element.parent(),a=this.accordionId="ui-accordion-"+(this.element.attr("id")||++e);this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(e){var i=t(this),n=i.attr("id"),s=i.next(),o=s.attr("id");n||(n=a+"-header-"+e,i.attr("id",n)),o||(o=a+"-panel-"+e,s.attr("id",o)),i.attr("aria-controls",o),s.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===s?(i=o.height(),this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))}),this.headers.each(function(){i-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===s&&(i=0,this.headers.next().each(function(){i=Math.max(i,t(this).css("height","").height())}).height(i))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i=this.options,n=this.active,s=t(e.currentTarget),o=s[0]===n[0],a=o&&i.collapsible,r=a?t():s.next(),l=n.next(),h={oldHeader:n,oldPanel:l,newHeader:a?t():s,newPanel:r};e.preventDefault(),o&&!i.collapsible||this._trigger("beforeActivate",e,h)===!1||(i.active=a?!1:this.headers.index(s),this.active=o?t():s,this._toggle(h),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),o||(s.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),s.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-expanded":"false","aria-hidden":"true"}),n.prev().attr("aria-selected","false"),i.length&&n.length?n.prev().attr("tabIndex",-1):i.length&&this.headers.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(t,e,s){var o,a,r,l=this,h=0,c=t.length&&(!e.length||t.index()<e.index()),u=this.options.animate||{},d=c&&u.down||u,p=function(){l._toggleComplete(s)};return"number"==typeof d&&(r=d),"string"==typeof d&&(a=d),a=a||d.easing||u.easing,r=r||d.duration||u.duration,e.length?t.length?(o=t.show().outerHeight(),e.animate(i,{duration:r,easing:a,step:function(t,e){e.now=Math.round(t)}}),t.hide().animate(n,{duration:r,easing:a,complete:p,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?h+=i.now:"content"!==l.options.heightStyle&&(i.now=Math.round(o-e.outerHeight()-h),h=0)}}),void 0):e.animate(i,r,a,p):t.animate(n,r,a,p)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}})}(jQuery),function(t){var e=0;t.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,i,n,s=this.element[0].nodeName.toLowerCase(),o="textarea"===s,a="input"===s;this.isMultiLine=o?!0:a?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(s){if(this.element.prop("readOnly"))return e=!0,n=!0,i=!0,void 0;e=!1,n=!1,i=!1;var o=t.ui.keyCode;switch(s.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",s);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",s);break;case o.UP:e=!0,this._keyEvent("previous",s);break;case o.DOWN:e=!0,this._keyEvent("next",s);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(e=!0,s.preventDefault(),this.menu.select(s));break;case o.TAB:this.menu.active&&this.menu.select(s);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(s),s.preventDefault());break;default:i=!0,this._searchTimeout(s)}},keypress:function(n){if(e)return e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault(),void 0;if(!i){var s=t.ui.keyCode;switch(n.keyCode){case s.PAGE_UP:this._move("previousPage",n);break;case s.PAGE_DOWN:this._move("nextPage",n);break;case s.UP:this._keyEvent("previous",n);break;case s.DOWN:this._keyEvent("next",n)}}},input:function(t){return n?(n=!1,t.preventDefault(),void 0):(this._searchTimeout(t),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(t),this._change(t),void 0)}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(n){n.target===e.element[0]||n.target===i||t.contains(i,n.target)||e.close()})})},menufocus:function(e,i){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)}),void 0;var n=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",e,{item:n})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,s){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){s(t)},error:function(){s([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var t=this,i=++e;return function(n){i===e&&t.__response(n),t.pending--,t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<a>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),this.menu.blur(),void 0):(this.menu[t](e),void 0):(this.search(null,e),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(jQuery),function(t){var e,i,n,s,o="ui-button ui-widget ui-state-default ui-corner-all",a="ui-state-hover ui-state-active ",r="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},h=function(e){var i=e.name,n=e.form,s=t([]);return i&&(i=i.replace(/'/g,"\\'"),s=n?t(n).find("[name='"+i+"']"):t("[name='"+i+"']",e.ownerDocument).filter(function(){return!this.form})),s};t.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var a=this,r=this.options,c="checkbox"===this.type||"radio"===this.type,u=c?"":"ui-state-active",d="ui-state-focus";null===r.label&&(r.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(o).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){r.disabled||this===e&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){r.disabled||t(this).removeClass(u)}).bind("click"+this.eventNamespace,function(t){r.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){a.buttonElement.addClass(d)}).bind("blur"+this.eventNamespace,function(){a.buttonElement.removeClass(d)}),c&&(this.element.bind("change"+this.eventNamespace,function(){s||a.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(t){r.disabled||(s=!1,i=t.pageX,n=t.pageY)}).bind("mouseup"+this.eventNamespace,function(t){r.disabled||(i!==t.pageX||n!==t.pageY)&&(s=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return r.disabled||s?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(r.disabled||s)return!1;t(this).addClass("ui-state-active"),a.buttonElement.attr("aria-pressed","true");var e=a.element[0];h(e).not(e).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return r.disabled?!1:(t(this).addClass("ui-state-active"),e=this,a.document.one("mouseup",function(){e=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return r.disabled?!1:(t(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(e){return r.disabled?!1:((e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",r.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(o+" "+a+" "+r).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")
},_setOption:function(t,e){return this._super(t,e),"disabled"===t?(e?this.element.prop("disabled",!0):this.element.prop("disabled",!1),void 0):(this._resetButton(),void 0)},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?h(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var e=this.buttonElement.removeClass(r),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),n=this.options.icons,s=n.primary&&n.secondary,o=[];n.primary||n.secondary?(this.options.text&&o.push("ui-button-text-icon"+(s?"s":n.primary?"-primary":"-secondary")),n.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(o.push(s?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):o.push("ui-button-text-only"),e.addClass(o.join(" "))}}),t.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(t,e){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){t.datepicker._isDisabledDatepicker(o.inline?e.parent()[0]:o.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))})}function s(e,i){t.extend(e,i);for(var n in i)null==i[n]&&(e[n]=i[n]);return e}t.extend(t.ui,{datepicker:{version:"1.10.3"}});var o,a="datepicker";t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return s(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,s,o;n=e.nodeName.toLowerCase(),s="div"===n||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),s),o.settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,o):s&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var s=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,a,i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,s,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&e.focus(this._showDatepicker),("button"===n||"both"===n)&&(s=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:s,title:s}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:s,title:s}):s)),e[r?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,s,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,n=0,s=0;s<t.length;s++)t[s].length>i&&(i=t[s].length,n=s);return n},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,a,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,o,r){var l,h,c,u,d,p=this._dialogInst;return p||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},t.data(this._dialogInput[0],a,p)),s(p.settings,o||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(h=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+u,c/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],a,p),this},_destroyDatepicker:function(e){var i,n=t(e),s=t.data(e,a);n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,a),"input"===i?(s.append.remove(),s.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var i,n,s=t(e),o=t.data(e,a);s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=s.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,n,s=t(e),o=t.data(e,a);s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=s.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,a)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,n,o){var a,r,l,h,c=this._getInst(i);return 2===arguments.length&&"string"==typeof n?"defaults"===n?t.extend({},t.datepicker._defaults):c?"all"===n?t.extend({},c.settings):this._get(c,n):null:(a=n||{},"string"==typeof n&&(a={},a[n]=o),c&&(this._curInst===c&&this._hideDatepicker(),r=this._getDateDatepicker(i,!0),l=this._getMinMaxDate(c,"min"),h=this._getMinMaxDate(c,"max"),s(c.settings,a),null!==l&&a.dateFormat!==e&&a.minDate===e&&(c.settings.minDate=this._formatDate(c,l)),null!==h&&a.dateFormat!==e&&a.maxDate===e&&(c.settings.maxDate=this._formatDate(c,h)),"disabled"in a&&(a.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(t(i),c),this._autoSize(c),this._setDate(c,r),this._updateAlternate(c),this._updateDatepicker(c)),void 0)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,s,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return s=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),s[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,s[0]),i=t.datepicker._get(o,"onSelect"),i?(n=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[n,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,s=t.datepicker._getInst(e.target);return t.datepicker._get(s,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(s,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n)),i&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(s){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,n,o,a,r,l,h;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(i,"beforeShow"),o=n?n.apply(e,[e,i]):{},o!==!1&&(s(i.settings,o),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),a=!1,t(e).parents().each(function(){return a|="fixed"===t(this).css("position"),!a}),r={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),r=t.datepicker._checkOffset(i,r,a),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),i.inline||(l=t.datepicker._get(i,"showAnim"),h=t.datepicker._get(i,"duration"),i.dpDiv.zIndex(t(e).zIndex()+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?i.dpDiv.show(l,t.datepicker._get(i,"showOptions"),h):i.dpDiv[l||"show"](l?h:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,o=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,n=this._getNumberOfMonths(e),s=n[1],a=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&e.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",a*s+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var s=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),h=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?s-a:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+s>l&&l>s?Math.abs(i.left+s-l):0),i.top-=Math.min(i.top,i.top+o>h&&h>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,n=this._getInst(e),s=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[s?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,n,s,o,r=this._curInst;!r||e&&r!==t.data(e,a)||this._datepickerShowing&&(i=this._get(r,"showAnim"),n=this._get(r,"duration"),s=function(){t.datepicker._tidyDialog(r)},t.effects&&(t.effects.effect[i]||t.effects[i])?r.dpDiv.hide(i,t.datepicker._get(r,"showOptions"),n,s):r.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,s),i||s(),this._datepickerShowing=!1,o=this._get(r,"onClose"),o&&o.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==n)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var s=t(e),o=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(o,i+("M"===n?this._get(o,"showCurrentAtPos"):0),n),this._updateDatepicker(o))},_gotoToday:function(e){var i,n=t(e),s=this._getInst(n[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(i=new Date,s.selectedDay=i.getDate(),s.drawMonth=s.selectedMonth=i.getMonth(),s.drawYear=s.selectedYear=i.getFullYear()),this._notifyChange(s),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var s=t(e),o=this._getInst(s[0]);o["selected"+("M"===n?"Month":"Year")]=o["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(s)},_selectDay:function(e,i,n,s){var o,a=t(e);t(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",s).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=n,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,s=t(e),o=this._getInst(s[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),n=this._get(o,"onSelect"),n?n.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,n,s,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),s=this.formatDate(i,n,this._getFormatConfig(e)),t(o).each(function(){t(this).val(s)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,n){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?i.toString():i+"",""===i)return null;var s,o,a,r,l=0,h=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),u=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,d=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,_=-1,b=!1,$=function(t){var i=s+1<e.length&&e.charAt(s+1)===t;return i&&s++,i},y=function(t){var e=$(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,s=new RegExp("^\\d{1,"+n+"}"),o=i.substring(l).match(s);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},w=function(e,n,s){var o=-1,a=t.map($(e)?s:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var n=e[1];return i.substr(l,n.length).toLowerCase()===n.toLowerCase()?(o=e[0],l+=n.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+l},C=function(){if(i.charAt(l)!==e.charAt(s))throw"Unexpected literal at position "+l;l++};for(s=0;s<e.length;s++)if(b)"'"!==e.charAt(s)||$("'")?C():b=!1;else switch(e.charAt(s)){case"d":v=y("d");break;case"D":w("D",u,d);break;case"o":_=y("o");break;case"m":g=y("m");break;case"M":g=w("M",p,f);break;case"y":m=y("y");break;case"@":r=new Date(y("@")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"!":r=new Date((y("!")-this._ticksTo1970)/1e4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"'":$("'")?C():b=!0;break;default:C()}if(l<i.length&&(a=i.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=m?0:-100)),_>-1)for(g=1,v=_;;){if(o=this._getDaysInMonth(m,g-1),o>=v)break;g++,v-=o}if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var n,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=n+1<t.length&&t.charAt(n+1)===e;return i&&n++,i},h=function(t,e,i){var n=""+e;if(l(t))for(;n.length<i;)n="0"+n;return n},c=function(t,e,i,n){return l(t)?n[e]:i[e]},u="",d=!1;if(e)for(n=0;n<t.length;n++)if(d)"'"!==t.charAt(n)||l("'")?u+=t.charAt(n):d=!1;else switch(t.charAt(n)){case"d":u+=h("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),s,o);break;case"o":u+=h("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=h("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),a,r);break;case"y":u+=l("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":d=!0;break;default:u+=t.charAt(n)}return u},_possibleChars:function(t){var e,i="",n=!1,s=function(i){var n=e+1<t.length&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;e<t.length;e++)if(n)"'"!==t.charAt(e)||s("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":s("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,i){return t.settings[i]!==e?t.settings[i]:this._defaults[i]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,s=this._getDefaultDate(t),o=s,a=this._getFormatConfig(t);try{o=this.parseDate(i,n,a)||s}catch(r){n=e?"":n}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=n?o.getDate():0,t.currentMonth=n?o.getMonth():0,t.currentYear=n?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var s=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(n){}for(var s=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=s.getFullYear(),a=s.getMonth(),r=s.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,h=l.exec(i);h;){switch(h[2]||"d"){case"d":case"D":r+=parseInt(h[1],10);break;case"w":case"W":r+=7*parseInt(h[1],10);break;case"m":case"M":a+=parseInt(h[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(h[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a))}h=l.exec(i)}return new Date(o,a,r)},a=null==i||""===i?n:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?n:s(i):new Date(i.getTime());return a=a&&"Invalid Date"===a.toString()?n:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,s=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),s===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,s,o,a,r,l,h,c,u,d,p,f,m,g,v,_,b,$,y,w,C,x,k,S,T,I,D,E,P,j,A,M,O,L,z,H,N,R=new Date,F=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),W=this._get(t,"isRTL"),V=this._get(t,"showButtonPanel"),B=this._get(t,"hideIfNoPrevNext"),G=this._get(t,"navigationAsDateFormat"),q=this._getNumberOfMonths(t),Y=this._get(t,"showCurrentAtPos"),U=this._get(t,"stepMonths"),Q=1!==q[0]||1!==q[1],J=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),K=this._getMinMaxDate(t,"min"),X=this._getMinMaxDate(t,"max"),Z=t.drawMonth-Y,te=t.drawYear;if(0>Z&&(Z+=12,te--),X)for(e=this._daylightSavingAdjust(new Date(X.getFullYear(),X.getMonth()-q[0]*q[1]+1,X.getDate())),e=K&&K>e?K:e;this._daylightSavingAdjust(new Date(te,Z,1))>e;)Z--,0>Z&&(Z=11,te--);for(t.drawMonth=Z,t.drawYear=te,i=this._get(t,"prevText"),i=G?this.formatDate(i,this._daylightSavingAdjust(new Date(te,Z-U,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,te,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>":B?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>",s=this._get(t,"nextText"),s=G?this.formatDate(s,this._daylightSavingAdjust(new Date(te,Z+U,1)),this._getFormatConfig(t)):s,o=this._canAdjustMonth(t,1,te,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+s+"</span></a>":B?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+s+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?J:F,a=G?this.formatDate(a,r,this._getFormatConfig(t)):a,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",h=V?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(W?l:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(W?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),_=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),$="",w=0;w<q[0];w++){for(C="",this.maxRows=4,x=0;x<q[1];x++){if(k=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),S=" ui-corner-all",T="",Q){if(T+="<div class='ui-datepicker-group",q[1]>1)switch(x){case 0:T+=" ui-datepicker-group-first",S=" ui-corner-"+(W?"right":"left");break;case q[1]-1:T+=" ui-datepicker-group-last",S=" ui-corner-"+(W?"left":"right");break;default:T+=" ui-datepicker-group-middle",S=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===w?W?o:n:"")+(/all|right/.test(S)&&0===w?W?n:o:"")+this._generateMonthYearHeader(t,Z,te,K,X,w>0||x>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",I=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",y=0;7>y;y++)D=(y+c)%7,I+="<th"+((y+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+d[D]+"'>"+p[D]+"</span></th>";for(T+=I+"</tr></thead><tbody>",E=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,E)),P=(this._getFirstDayOfMonth(te,Z)-c+7)%7,j=Math.ceil((P+E)/7),A=Q?this.maxRows>j?this.maxRows:j:j,this.maxRows=A,M=this._daylightSavingAdjust(new Date(te,Z,1-P)),O=0;A>O;O++){for(T+="<tr>",L=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(M)+"</td>":"",y=0;7>y;y++)z=g?g.apply(t.input?t.input[0]:null,[M]):[!0,""],H=M.getMonth()!==Z,N=H&&!_||!z[0]||K&&K>M||X&&M>X,L+="<td class='"+((y+c+6)%7>=5?" ui-datepicker-week-end":"")+(H?" ui-datepicker-other-month":"")+(M.getTime()===k.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===M.getTime()&&b.getTime()===k.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(H&&!v?"":" "+z[1]+(M.getTime()===J.getTime()?" "+this._currentClass:"")+(M.getTime()===F.getTime()?" ui-datepicker-today":""))+"'"+(H&&!v||!z[2]?"":" title='"+z[2].replace(/'/g,"&#39;")+"'")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+M.getMonth()+"' data-year='"+M.getFullYear()+"'")+">"+(H&&!v?"&#xa0;":N?"<span class='ui-state-default'>"+M.getDate()+"</span>":"<a class='ui-state-default"+(M.getTime()===F.getTime()?" ui-state-highlight":"")+(M.getTime()===J.getTime()?" ui-state-active":"")+(H?" ui-priority-secondary":"")+"' href='#'>"+M.getDate()+"</a>")+"</td>",M.setDate(M.getDate()+1),M=this._daylightSavingAdjust(M);
T+=L+"</tr>"}Z++,Z>11&&(Z=0,te++),T+="</tbody></table>"+(Q?"</div>"+(q[0]>0&&x===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),C+=T}$+=C}return $+=h,t._keyEvent=!1,$},_generateMonthYearHeader:function(t,e,i,n,s,o,a,r){var l,h,c,u,d,p,f,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),_=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",$="";if(o||!g)$+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(l=n&&n.getFullYear()===i,h=s&&s.getFullYear()===i,$+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!l||c>=n.getMonth())&&(!h||c<=s.getMonth())&&($+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");$+="</select>"}if(_||(b+=$+(!o&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(u[0]),m=Math.max(f,p(u[1]||"")),f=n?Math.max(f,n.getFullYear()):f,m=s?Math.min(m,s.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),_&&(b+=(!o&&g&&v?"":"&#xa0;")+$),b+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"===i?e:0),s=t.drawMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(n,s))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,s,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),s=i&&i>e?i:e;return n&&s>n?n:s},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var s=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,n+(0>e?e:s[0]*s[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,n,s=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=n),i[1].match(/[+\-].*/)&&(r+=n)),(!s||e.getTime()>=s.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||e.getFullYear()<=r)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var s=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),s,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.10.3"}(jQuery),function(t){var e={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};t.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||t(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!e&&this._trigger("focus",t),i},open:function(){var e=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._trigger("open"),void 0)},_focusTabbable:function(){var t=this.element.find("[autofocus]");t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement,i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),this.close(e),void 0;if(e.keyCode===t.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),s=i.filter(":last");e.target!==s[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(s.focus(1),e.preventDefault()):(n.focus(1),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(t.each(i,function(i,n){var s,o;n=t.isFunction(n)?{click:n,text:i}:n,n=t.extend({type:"button"},n),s=n.click,n.click=function(){s.apply(e.element[0],arguments)},o={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,t("<button></button>",n).button(o).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,s){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,e(s))},drag:function(t,n){i._trigger("drag",t,e(n))},stop:function(s,o){n.position=[o.position.left-i.document.scrollLeft(),o.position.top-i.document.scrollTop()],t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",s,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,n=this.options,s=n.resizable,o=this.uiDialog.css("position"),a="string"==typeof s?s:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:a,start:function(n,s){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,e(s))},resize:function(t,n){i._trigger("resize",t,e(n))},stop:function(s,o){n.height=t(this).height(),n.width=t(this).width(),t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",s,e(o))}}).css("position",o)},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(n){var s=this,o=!1,a={};t.each(n,function(t,n){s._setOption(t,n),t in e&&(o=!0),t in i&&(a[t]=n)}),o&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",a)},_setOption:function(t,e){var i,n,s=this.uiDialog;"dialogClass"===t&&s.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(i=s.is(":data(ui-draggable)"),i&&!e&&s.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(n=s.is(":data(ui-resizable)"),n&&!e&&s.resizable("destroy"),n&&"string"==typeof e&&s.resizable("option","handles",e),n||e===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),e=Math.max(0,n.minHeight-t),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=this,i=this.widgetFullName;t.ui.dialog.overlayInstances||this._delay(function(){t.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(n){e._allowInteraction(n)||(n.preventDefault(),t(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),t.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(t.ui.dialog.overlayInstances--,t.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),t.ui.dialog.overlayInstances=0,t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{_position:function(){var e,i=this.options.position,n=[],s=[0,0];i?(("string"==typeof i||"object"==typeof i&&"0"in i)&&(n=i.split?i.split(" "):[i[0],i[1]],1===n.length&&(n[1]=n[0]),t.each(["left","top"],function(t,e){+n[t]===n[t]&&(s[t]=n[t],n[t]=e)}),i={my:n[0]+(s[0]<0?s[0]:"+"+s[0])+" "+n[1]+(s[1]<0?s[1]:"+"+s[1]),at:n.join(" ")}),i=t.extend({},t.ui.dialog.prototype.options.position,i)):i=t.ui.dialog.prototype.options.position,e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.position(i),e||this.uiDialog.hide()}})}(jQuery),function(t){var e=/up|down|vertical/,i=/up|left|vertical|horizontal/;t.effects.effect.blind=function(n,s){var o,a,r,l=t(this),h=["position","top","bottom","left","right","height","width"],c=t.effects.setMode(l,n.mode||"hide"),u=n.direction||"up",d=e.test(u),p=d?"height":"width",f=d?"top":"left",m=i.test(u),g={},v="show"===c;l.parent().is(".ui-effects-wrapper")?t.effects.save(l.parent(),h):t.effects.save(l,h),l.show(),o=t.effects.createWrapper(l).css({overflow:"hidden"}),a=o[p](),r=parseFloat(o.css(f))||0,g[p]=v?a:0,m||(l.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),g[f]=v?r:a+r),v&&(o.css(p,0),m||o.css(f,r+a)),o.animate(g,{duration:n.duration,easing:n.easing,queue:!1,complete:function(){"hide"===c&&l.hide(),t.effects.restore(l,h),t.effects.removeWrapper(l),s()}})}}(jQuery),function(t){t.effects.effect.bounce=function(e,i){var n,s,o,a=t(this),r=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(a,e.mode||"effect"),h="hide"===l,c="show"===l,u=e.direction||"up",d=e.distance,p=e.times||5,f=2*p+(c||h?1:0),m=e.duration/f,g=e.easing,v="up"===u||"down"===u?"top":"left",_="up"===u||"left"===u,b=a.queue(),$=b.length;for((c||h)&&r.push("opacity"),t.effects.save(a,r),a.show(),t.effects.createWrapper(a),d||(d=a["top"===v?"outerHeight":"outerWidth"]()/3),c&&(o={opacity:1},o[v]=0,a.css("opacity",0).css(v,_?2*-d:2*d).animate(o,m,g)),h&&(d/=Math.pow(2,p-1)),o={},o[v]=0,n=0;p>n;n++)s={},s[v]=(_?"-=":"+=")+d,a.animate(s,m,g).animate(o,m,g),d=h?2*d:d/2;h&&(s={opacity:0},s[v]=(_?"-=":"+=")+d,a.animate(s,m,g)),a.queue(function(){h&&a.hide(),t.effects.restore(a,r),t.effects.removeWrapper(a),i()}),$>1&&b.splice.apply(b,[1,0].concat(b.splice($,f+1))),a.dequeue()}}(jQuery),function(t){t.effects.effect.clip=function(e,i){var n,s,o,a=t(this),r=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(a,e.mode||"hide"),h="show"===l,c=e.direction||"vertical",u="vertical"===c,d=u?"height":"width",p=u?"top":"left",f={};t.effects.save(a,r),a.show(),n=t.effects.createWrapper(a).css({overflow:"hidden"}),s="IMG"===a[0].tagName?n:a,o=s[d](),h&&(s.css(d,0),s.css(p,o/2)),f[d]=h?o:0,f[p]=h?0:o/2,s.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){h||a.hide(),t.effects.restore(a,r),t.effects.removeWrapper(a),i()}})}}(jQuery),function(t){t.effects.effect.drop=function(e,i){var n,s=t(this),o=["position","top","bottom","left","right","opacity","height","width"],a=t.effects.setMode(s,e.mode||"hide"),r="show"===a,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l?"pos":"neg",u={opacity:r?1:0};t.effects.save(s,o),s.show(),t.effects.createWrapper(s),n=e.distance||s["top"===h?"outerHeight":"outerWidth"](!0)/2,r&&s.css("opacity",0).css(h,"pos"===c?-n:n),u[h]=(r?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+n,s.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&s.hide(),t.effects.restore(s,o),t.effects.removeWrapper(s),i()}})}}(jQuery),function(t){t.effects.effect.explode=function(e,i){function n(){b.push(this),b.length===u*d&&s()}function s(){p.css({visibility:"visible"}),t(b).remove(),m||p.hide(),i()}var o,a,r,l,h,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=t.effects.setMode(p,e.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),_=Math.ceil(p.outerHeight()/u),b=[];for(o=0;u>o;o++)for(l=g.top+o*_,c=o-(u-1)/2,a=0;d>a;a++)r=g.left+a*v,h=a-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*v,top:-o*_}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:_,left:r+(m?h*v:0),top:l+(m?c*_:0),opacity:m?0:1}).animate({left:r+(m?0:h*v),top:l+(m?0:c*_),opacity:m?1:0},e.duration||500,e.easing,n)}}(jQuery),function(t){t.effects.effect.fade=function(e,i){var n=t(this),s=t.effects.setMode(n,e.mode||"toggle");n.animate({opacity:s},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}}(jQuery),function(t){t.effects.effect.fold=function(e,i){var n,s,o=t(this),a=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(o,e.mode||"hide"),l="show"===r,h="hide"===r,c=e.size||15,u=/([0-9]+)%/.exec(c),d=!!e.horizFirst,p=l!==d,f=p?["width","height"]:["height","width"],m=e.duration/2,g={},v={};t.effects.save(o,a),o.show(),n=t.effects.createWrapper(o).css({overflow:"hidden"}),s=p?[n.width(),n.height()]:[n.height(),n.width()],u&&(c=parseInt(u[1],10)/100*s[h?0:1]),l&&n.css(d?{height:0,width:c}:{height:c,width:0}),g[f[0]]=l?s[0]:c,v[f[1]]=l?s[1]:0,n.animate(g,m,e.easing).animate(v,m,e.easing,function(){h&&o.hide(),t.effects.restore(o,a),t.effects.removeWrapper(o),i()})}}(jQuery),function(t){t.effects.effect.highlight=function(e,i){var n=t(this),s=["backgroundImage","backgroundColor","opacity"],o=t.effects.setMode(n,e.mode||"show"),a={backgroundColor:n.css("backgroundColor")};"hide"===o&&(a.opacity=0),t.effects.save(n,s),n.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&n.hide(),t.effects.restore(n,s),i()}})}}(jQuery),function(t){t.effects.effect.pulsate=function(e,i){var n,s=t(this),o=t.effects.setMode(s,e.mode||"show"),a="show"===o,r="hide"===o,l=a||"hide"===o,h=2*(e.times||5)+(l?1:0),c=e.duration/h,u=0,d=s.queue(),p=d.length;for((a||!s.is(":visible"))&&(s.css("opacity",0).show(),u=1),n=1;h>n;n++)s.animate({opacity:u},c,e.easing),u=1-u;s.animate({opacity:u},c,e.easing),s.queue(function(){r&&s.hide(),i()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,h+1))),s.dequeue()}}(jQuery),function(t){t.effects.effect.puff=function(e,i){var n=t(this),s=t.effects.setMode(n,e.mode||"hide"),o="hide"===s,a=parseInt(e.percent,10)||150,r=a/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:s,complete:i,percent:o?a:100,from:o?l:{height:l.height*r,width:l.width*r,outerHeight:l.outerHeight*r,outerWidth:l.outerWidth*r}}),n.effect(e)},t.effects.effect.scale=function(e,i){var n=t(this),s=t.extend(!0,{},e),o=t.effects.setMode(n,e.mode||"effect"),a=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===o?0:100),r=e.direction||"both",l=e.origin,h={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},c={y:"horizontal"!==r?a/100:1,x:"vertical"!==r?a/100:1};s.effect="size",s.queue=!1,s.complete=i,"effect"!==o&&(s.origin=l||["middle","center"],s.restore=!0),s.from=e.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:h),s.to={height:h.height*c.y,width:h.width*c.x,outerHeight:h.outerHeight*c.y,outerWidth:h.outerWidth*c.x},s.fade&&("show"===o&&(s.from.opacity=0,s.to.opacity=1),"hide"===o&&(s.from.opacity=1,s.to.opacity=0)),n.effect(s)},t.effects.effect.size=function(e,i){var n,s,o,a=t(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],h=["width","height","overflow"],c=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(a,e.mode||"effect"),f=e.restore||"effect"!==p,m=e.scale||"both",g=e.origin||["middle","center"],v=a.css("position"),_=f?r:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&a.show(),n={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===e.mode&&"show"===p?(a.from=e.to||b,a.to=e.from||n):(a.from=e.from||("show"===p?b:n),a.to=e.to||("hide"===p?b:n)),o={from:{y:a.from.height/n.height,x:a.from.width/n.width},to:{y:a.to.height/n.height,x:a.to.width/n.width}},("box"===m||"both"===m)&&(o.from.y!==o.to.y&&(_=_.concat(u),a.from=t.effects.setTransition(a,u,o.from.y,a.from),a.to=t.effects.setTransition(a,u,o.to.y,a.to)),o.from.x!==o.to.x&&(_=_.concat(d),a.from=t.effects.setTransition(a,d,o.from.x,a.from),a.to=t.effects.setTransition(a,d,o.to.x,a.to))),("content"===m||"both"===m)&&o.from.y!==o.to.y&&(_=_.concat(c).concat(h),a.from=t.effects.setTransition(a,c,o.from.y,a.from),a.to=t.effects.setTransition(a,c,o.to.y,a.to)),t.effects.save(a,_),a.show(),t.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),g&&(s=t.effects.getBaseline(g,n),a.from.top=(n.outerHeight-a.outerHeight())*s.y,a.from.left=(n.outerWidth-a.outerWidth())*s.x,a.to.top=(n.outerHeight-a.to.outerHeight)*s.y,a.to.left=(n.outerWidth-a.to.outerWidth)*s.x),a.css(a.from),("content"===m||"both"===m)&&(u=u.concat(["marginTop","marginBottom"]).concat(c),d=d.concat(["marginLeft","marginRight"]),h=r.concat(u).concat(d),a.find("*[width]").each(function(){var i=t(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&t.effects.save(i,h),i.from={height:n.height*o.from.y,width:n.width*o.from.x,outerHeight:n.outerHeight*o.from.y,outerWidth:n.outerWidth*o.from.x},i.to={height:n.height*o.to.y,width:n.width*o.to.x,outerHeight:n.height*o.to.y,outerWidth:n.width*o.to.x},o.from.y!==o.to.y&&(i.from=t.effects.setTransition(i,u,o.from.y,i.from),i.to=t.effects.setTransition(i,u,o.to.y,i.to)),o.from.x!==o.to.x&&(i.from=t.effects.setTransition(i,d,o.from.x,i.from),i.to=t.effects.setTransition(i,d,o.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){f&&t.effects.restore(i,h)})})),a.animate(a.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===p&&a.hide(),t.effects.restore(a,_),f||("static"===v?a.css({position:"relative",top:a.to.top,left:a.to.left}):t.each(["top","left"],function(t,e){a.css(e,function(e,i){var n=parseInt(i,10),s=t?a.to.left:a.to.top;return"auto"===i?s+"px":n+s+"px"})})),t.effects.removeWrapper(a),i()}})}}(jQuery),function(t){t.effects.effect.shake=function(e,i){var n,s=t(this),o=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(s,e.mode||"effect"),r=e.direction||"left",l=e.distance||20,h=e.times||3,c=2*h+1,u=Math.round(e.duration/c),d="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},m={},g={},v=s.queue(),_=v.length;for(t.effects.save(s,o),s.show(),t.effects.createWrapper(s),f[d]=(p?"-=":"+=")+l,m[d]=(p?"+=":"-=")+2*l,g[d]=(p?"-=":"+=")+2*l,s.animate(f,u,e.easing),n=1;h>n;n++)s.animate(m,u,e.easing).animate(g,u,e.easing);s.animate(m,u,e.easing).animate(f,u/2,e.easing).queue(function(){"hide"===a&&s.hide(),t.effects.restore(s,o),t.effects.removeWrapper(s),i()}),_>1&&v.splice.apply(v,[1,0].concat(v.splice(_,c+1))),s.dequeue()}}(jQuery),function(t){t.effects.effect.slide=function(e,i){var n,s=t(this),o=["position","top","bottom","left","right","width","height"],a=t.effects.setMode(s,e.mode||"show"),r="show"===a,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,u={};t.effects.save(s,o),s.show(),n=e.distance||s["top"===h?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(s).css({overflow:"hidden"}),r&&s.css(h,c?isNaN(n)?"-"+n:-n:n),u[h]=(r?c?"+=":"-=":c?"-=":"+=")+n,s.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&s.hide(),t.effects.restore(s,o),t.effects.removeWrapper(s),i()}})}}(jQuery),function(t){t.effects.effect.transfer=function(e,i){var n=t(this),s=t(e.to),o="fixed"===s.css("position"),a=t("body"),r=o?a.scrollTop():0,l=o?a.scrollLeft():0,h=s.offset(),c={top:h.top-r,left:h.left-l,height:s.innerHeight(),width:s.innerWidth()},u=n.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:u.top-r,left:u.left-l,height:n.innerHeight(),width:n.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),i()})}}(jQuery),function(t){t.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var i=t(e.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(e),i.has(".ui-menu").length?this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,s,o,a,r,l=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:l=!1,s=this.previousFilter||"",o=String.fromCharCode(e.keyCode),a=!1,clearTimeout(this.filterTimer),o===s?a=!0:o=s+o,r=new RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())}),n=a&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(o=String.fromCharCode(e.keyCode),r=new RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())})),n.length?(this.focus(e,n),n.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,n=this.element.find(this.options.menus);n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev("a"),s=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",n.attr("id"))}),e=n.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]
},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var i,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,s,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,s=e.offset().top-this.activeMenu.offset().top-i-n,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.height(),0>s?this.activeMenu.scrollTop(o+s):s+r>a&&this.activeMenu.scrollTop(o+s-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(i,n)},nextPage:function(e){var i,n,s;return this.active?(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n-s<0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),void 0):(this.next(e),void 0)},previousPage:function(e){var i,n,s;return this.active?(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+s>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first())),void 0):(this.next(e),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}})}(jQuery),function(t,e){function i(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function n(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var o,a=Math.max,r=Math.abs,l=Math.round,h=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(o!==e)return o;var i,n,s=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=s.children()[0];return t("body").append(s),i=a.offsetWidth,s.css("overflow","scroll"),n=a.offsetWidth,i===n&&(n=s[0].clientWidth),s.remove(),o=i-n},getScrollInfo:function(e){var i=e.isWindow?"":e.element.css("overflow-x"),n=e.isWindow?"":e.element.css("overflow-y"),s="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:s?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var o,p,m,g,v,_,b=t(e.of),$=t.position.getWithinInfo(e.within),y=t.position.getScrollInfo($),w=(e.collision||"flip").split(" "),C={};return _=s(b),b[0].preventDefault&&(e.at="left top"),p=_.width,m=_.height,g=_.offset,v=t.extend({},g),t.each(["my","at"],function(){var t,i,n=(e[this]||"").split(" ");1===n.length&&(n=h.test(n[0])?n.concat(["center"]):c.test(n[0])?["center"].concat(n):["center","center"]),n[0]=h.test(n[0])?n[0]:"center",n[1]=c.test(n[1])?n[1]:"center",t=u.exec(n[0]),i=u.exec(n[1]),C[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(n[0])[0],d.exec(n[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=m:"center"===e.at[1]&&(v.top+=m/2),o=i(C.at,p,m),v.left+=o[0],v.top+=o[1],this.each(function(){var s,h,c=t(this),u=c.outerWidth(),d=c.outerHeight(),f=n(this,"marginLeft"),_=n(this,"marginTop"),x=u+f+n(this,"marginRight")+y.width,k=d+_+n(this,"marginBottom")+y.height,S=t.extend({},v),T=i(C.my,c.outerWidth(),c.outerHeight());"right"===e.my[0]?S.left-=u:"center"===e.my[0]&&(S.left-=u/2),"bottom"===e.my[1]?S.top-=d:"center"===e.my[1]&&(S.top-=d/2),S.left+=T[0],S.top+=T[1],t.support.offsetFractions||(S.left=l(S.left),S.top=l(S.top)),s={marginLeft:f,marginTop:_},t.each(["left","top"],function(i,n){t.ui.position[w[i]]&&t.ui.position[w[i]][n](S,{targetWidth:p,targetHeight:m,elemWidth:u,elemHeight:d,collisionPosition:s,collisionWidth:x,collisionHeight:k,offset:[o[0]+T[0],o[1]+T[1]],my:e.my,at:e.at,within:$,elem:c})}),e.using&&(h=function(t){var i=g.left-S.left,n=i+p-u,s=g.top-S.top,o=s+m-d,l={target:{element:b,left:g.left,top:g.top,width:p,height:m},element:{element:c,left:S.left,top:S.top,width:u,height:d},horizontal:0>n?"left":i>0?"right":"center",vertical:0>o?"top":s>0?"bottom":"middle"};u>p&&r(i+n)<p&&(l.horizontal="center"),d>m&&r(s+o)<m&&(l.vertical="middle"),l.important=a(r(i),r(n))>a(r(s),r(o))?"horizontal":"vertical",e.using.call(this,t,l)}),c.offset(t.extend(S,{using:h}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,s=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,r=t.left-e.collisionPosition.marginLeft,l=s-r,h=r+e.collisionWidth-o-s;e.collisionWidth>o?l>0&&0>=h?(i=t.left+l+e.collisionWidth-o-s,t.left+=l-i):t.left=h>0&&0>=l?s:l>h?s+o-e.collisionWidth:s:l>0?t.left+=l:h>0?t.left-=h:t.left=a(t.left-r,t.left)},top:function(t,e){var i,n=e.within,s=n.isWindow?n.scrollTop:n.offset.top,o=e.within.height,r=t.top-e.collisionPosition.marginTop,l=s-r,h=r+e.collisionHeight-o-s;e.collisionHeight>o?l>0&&0>=h?(i=t.top+l+e.collisionHeight-o-s,t.top+=l-i):t.top=h>0&&0>=l?s:l>h?s+o-e.collisionHeight:s:l>0?t.top+=l:h>0?t.top-=h:t.top=a(t.top-r,t.top)}},flip:{left:function(t,e){var i,n,s=e.within,o=s.offset.left+s.scrollLeft,a=s.width,l=s.isWindow?s.scrollLeft:s.offset.left,h=t.left-e.collisionPosition.marginLeft,c=h-l,u=h+e.collisionWidth-a-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-a-o,(0>i||i<r(c))&&(t.left+=d+p+f)):u>0&&(n=t.left-e.collisionPosition.marginLeft+d+p+f-l,(n>0||r(n)<u)&&(t.left+=d+p+f))},top:function(t,e){var i,n,s=e.within,o=s.offset.top+s.scrollTop,a=s.height,l=s.isWindow?s.scrollTop:s.offset.top,h=t.top-e.collisionPosition.marginTop,c=h-l,u=h+e.collisionHeight-a-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];0>c?(n=t.top+p+f+m+e.collisionHeight-a-o,t.top+p+f+m>c&&(0>n||n<r(c))&&(t.top+=p+f+m)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+m-l,t.top+p+f+m>u&&(i>0||r(i)<u)&&(t.top+=p+f+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,s,o,a=document.getElementsByTagName("body")[0],r=document.createElement("div");e=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in n)e.style[o]=n[o];e.appendChild(r),i=a||document.documentElement,i.insertBefore(e,i.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",s=t(r).offset().left,t.support.offsetFractions=s>10&&11>s,e.innerHTML="",i.removeChild(e)}()}(jQuery),function(t,e){t.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return t===e?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),void 0)},_constrainedValue:function(t){return t===e&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})}(jQuery),function(t){var e=5;t.widget("ui.slider",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,s=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",a=[];for(i=n.values&&n.values.length||1,s.length>i&&(s.slice(i).remove(),s=s.slice(0,i)),e=s.length;i>e;e++)a.push(o);this.handles=s.add(t(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):this.range=t([])},_setupEvents:function(){var t=this.handles.add(this.range).filter("a");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,n,s,o,a,r,l,h,c=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),s=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-c.values(e));(s>i||s===i&&(e===c._lastChangedValue||c.values(e)===u.min))&&(s=i,o=t(this),a=e)}),r=this._start(e,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,o.addClass("ui-state-active").focus(),l=o.offset(),h=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=h?{left:0,top:0}:{left:e.pageX-l.left-o.width()/2,top:e.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,s,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),s=this._valueMax()-this._valueMin(),o=this._valueMin()+n*s,this._trimAlignValue(o)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,s,o;this.options.values&&this.options.values.length?(n=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>n||1===e&&n>i)&&(i=n),i!==this.values(e)&&(s=this.values(),s[e]=i,o=this._trigger("slide",t,{handle:this.handles[e],value:i,values:s}),n=this.values(e?0:1),o!==!1&&this.values(e,i,!0))):i!==this.value()&&(o=this._trigger("slide",t,{handle:this.handles[e],value:i}),o!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(e,i){var n,s,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,s=arguments[0],o=0;o<n.length;o+=1)n[o]=this._trimAlignValue(s[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var n,s=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(s=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;s>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,n,s,o,a=this.options.range,r=this.options,l=this,h=this._animateOff?!1:r.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=100*((l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())),c["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[h?"animate":"css"](c,r.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[h?"animate":"css"]({left:i+"%"},r.animate),1===n&&l.range[h?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===n&&l.range.stop(1,1)[h?"animate":"css"]({bottom:i+"%"},r.animate),1===n&&l.range[h?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(n=this.value(),s=this._valueMin(),o=this._valueMax(),i=o!==s?100*((n-s)/(o-s)):0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[h?"animate":"css"](c,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range[h?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range[h?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(i){var n,s,o,a,r=t(i.target).data("ui-slider-handle-index");switch(i.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(i.target).addClass("ui-state-active"),n=this._start(i,r),n===!1))return}switch(a=this.options.step,s=o=this.options.values&&this.options.values.length?this.values(r):this.value(),i.keyCode){case t.ui.keyCode.HOME:o=this._valueMin();break;case t.ui.keyCode.END:o=this._valueMax();break;case t.ui.keyCode.PAGE_UP:o=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:o=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(s===this._valueMax())return;o=this._trimAlignValue(s+a);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(s===this._valueMin())return;o=this._trimAlignValue(s-a)}this._slide(i,r,o)},click:function(t){t.preventDefault()},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}})}(jQuery),function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,n){var s=i.attr(n);void 0!==s&&s.length&&(e[n]=s)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t),void 0)},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var t=this.element[0]===this.document[0].activeElement;t||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:(this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,n=this.options;return e=null!==n.min?n.min:0,i=t-e,i=Math.round(i/n.step)*n.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==n.max&&t>n.max?n.max:null!==n.min&&t<n.min?n.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,this.element.val(this._format(i)),void 0}("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(e?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:e(function(t){this._super(t),this._value(this.element.val())}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?(e(this._value).call(this,t),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(t,e){function i(){return++s}function n(t){return t.hash.length>1&&decodeURIComponent(t.href.replace(o,""))===decodeURIComponent(location.href.replace(o,""))}var s=0,o=/#.*$/;t.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===e&&(n&&this.tabs.each(function(i,s){return t(s).attr("aria-controls")===n?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),s=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:s=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),this._activate(n),void 0;case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),this._activate(n===this.options.active?!1:n),void 0;default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,s),e.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function n(){return e>s&&(e=0),0>e&&(e=s),e}for(var s=this.tabs.length-1;-1!==t.inArray(n(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):"disabled"===t?(this._setupDisabled(e),void 0):(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e),void 0)},_tabId:function(t){return t.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""
},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,s){var o,a,r,l=t(s).uniqueId().attr("id"),h=t(s).closest("li"),c=h.attr("aria-controls");n(s)?(o=s.hash,a=e.element.find(e._sanitizeSelector(o))):(r=e._tabId(h),o="#"+r,a=e.element.find(o),a.length||(a=e._createPanel(r),a.insertAfter(e.panels[i-1]||e.tablist)),a.attr("aria-live","polite")),a.length&&(e.panels=e.panels.add(a)),c&&h.data("ui-tabs-aria-controls",c),h.attr({"aria-controls":o.substring(1),"aria-labelledby":l}),a.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,n=0;i=this.tabs[n];n++)e===!0||-1!==t.inArray(n,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={click:function(t){t.preventDefault()}};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();"fill"===e?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,s=t(e.currentTarget),o=s.closest("li"),a=o[0]===n[0],r=a&&i.collapsible,l=r?t():this._getPanelForTab(o),h=n.length?this._getPanelForTab(n):t(),c={oldTab:n,oldPanel:h,newTab:r?t():o,newPanel:l};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=r?!1:this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),h.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,i){function n(){o.running=!1,o._trigger("activate",e,i)}function s(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,n):(a.show(),n())}var o=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),s()),r.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var n=this.options.disabled;n!==!1&&(i===e?n=!1:(i=this._getIndex(i),n=t.isArray(n)?t.map(n,function(t){return t!==i?t:null}):t.map(this.tabs,function(t,e){return e!==i?e:null})),this._setupDisabled(n))},disable:function(i){var n=this.options.disabled;if(n!==!0){if(i===e)n=!0;else{if(i=this._getIndex(i),-1!==t.inArray(i,n))return;n=t.isArray(n)?t.merge([i],n).sort():[i]}this._setupDisabled(n)}},load:function(e,i){e=this._getIndex(e);var s=this,o=this.tabs.eq(e),a=o.find(".ui-tabs-anchor"),r=this._getPanelForTab(o),l={tab:o,panel:r};n(a[0])||(this.xhr=t.ajax(this._ajaxSettings(a,i,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(o.addClass("ui-tabs-loading"),r.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){r.html(t),s._trigger("load",i,l)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&s.panels.stop(!1,!0),o.removeClass("ui-tabs-loading"),r.removeAttr("aria-busy"),t===s.xhr&&delete s.xhr},1)})))},_ajaxSettings:function(e,i,n){var s=this;return{url:e.attr("href"),beforeSend:function(e,o){return s._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(jQuery),function(t){function e(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(n.join(" ")))}function i(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),s=t.inArray(i,n);-1!==s&&n.splice(s,1),e.removeData("ui-tooltip-id"),n=t.trim(n.join(" ")),n?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")}var n=0;t.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(e,i){var n=this;return"disabled"===e?(this[i?"_disable":"_enable"](),this.options[e]=i,void 0):(this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){n._updateContent(e)}),void 0)},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var s=t.Event("blur");s.target=s.currentTarget=n[0],e.close(s,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&n.parents().each(function(){var e,n=t(this);n.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._updateContent(n,e))},_updateContent:function(t,e){var i,n=this.options.content,s=this,o=e?e.type:null;return"string"==typeof n?this._open(e,t,n):(i=n.call(t[0],function(i){t.data("ui-tooltip-open")&&s._delay(function(){e&&(e.type=o),this._open(e,t,i)})}),i&&this._open(e,t,i),void 0)},_open:function(i,n,s){function o(t){h.of=t,a.is(":hidden")||a.position(h)}var a,r,l,h=t.extend({},this.options.position);if(s){if(a=this._find(n),a.length)return a.find(".ui-tooltip-content").html(s),void 0;n.is("[title]")&&(i&&"mouseover"===i.type?n.attr("title",""):n.removeAttr("title")),a=this._tooltip(n),e(n,a.attr("id")),a.find(".ui-tooltip-content").html(s),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:o}),o(i)):a.position(t.extend({of:n},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(l=this.delayedShow=setInterval(function(){a.is(":visible")&&(o(h.of),clearInterval(l))},t.fx.interval)),this._trigger("open",i,{tooltip:a}),r={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}},remove:function(){this._removeTooltip(a)}},i&&"mouseover"!==i.type||(r.mouseleave="close"),i&&"focusin"!==i.type||(r.focusout="close"),this._on(!0,n,r)}},close:function(e){var n=this,s=t(e?e.currentTarget:this.element),o=this._find(s);this.closing||(clearInterval(this.delayedShow),s.data("ui-tooltip-title")&&s.attr("title",s.data("ui-tooltip-title")),i(s),o.stop(!0),this._hide(o,this.options.hide,function(){n._removeTooltip(t(this))}),s.removeData("ui-tooltip-open"),this._off(s,"mouseleave focusout keyup"),s[0]!==this.element[0]&&this._off(s,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete n.parents[e]}),this.closing=!0,this._trigger("close",e,{tooltip:o}),this.closing=!1)},_tooltip:function(e){var i="ui-tooltip-"+n++,s=t("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return t("<div>").addClass("ui-tooltip-content").appendTo(s),s.appendTo(this.document[0].body),this.tooltips[i]=e,s},_find:function(e){var i=e.data("ui-tooltip-id");return i?t("#"+i):t()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var s=t.Event("blur");s.target=s.currentTarget=n[0],e.close(s,!0),t("#"+i).remove(),n.data("ui-tooltip-title")&&(n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))})}})}(jQuery),function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i;t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var i=t('meta[name="csrf-token"]').attr("content");i&&e.setRequestHeader("X-CSRF-Token",i)},fire:function(e,i,n){var s=t.Event(i);return e.trigger(s,n),s.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(n){var s,o,a,r,l,h,c,u;if(i.fire(n,"ajax:before")){if(r=n.data("cross-domain"),l=r===e?null:r,h=n.data("with-credentials")||null,c=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){s=n.attr("method"),o=n.attr("action"),a=n.serializeArray();var d=n.data("ujs:submit-button");d&&(a.push(d),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(s=n.data("method"),o=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(s=n.data("method")||"get",o=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):(s=n.data("method"),o=i.href(n),a=n.data("params")||null);u={type:s||"GET",data:a,dataType:c,beforeSend:function(t,s){return s.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+s.accepts.script),i.fire(n,"ajax:beforeSend",[t,s])},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:l},h&&(u.xhrFields={withCredentials:h}),o&&(u.url=o);var p=i.ajax(u);return n.trigger("ajax:send",p),p}return!1},handleMethod:function(n){var s=i.href(n),o=n.data("method"),a=n.attr("target"),r=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),h=t('<form method="post" action="'+s+'"></form>'),c='<input name="_method" value="'+o+'" type="hidden" />';l!==e&&r!==e&&(c+='<input name="'+l+'" value="'+r+'" type="hidden" />'),a&&h.attr("target",a),h.hide().append(c).appendTo("body"),h.submit()},disableFormElements:function(e){e.find(i.disableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with",e[i]()),e[i](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(i.enableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[i](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,n=t.data("confirm"),s=!1;return n?(i.fire(t,"confirm")&&(s=i.confirm(n),e=i.fire(t,"confirm:complete",[s])),s&&e):!0},blankInputs:function(e,i,n){var s,o,a=t(),r=i||"input,textarea",l=e.find(r);return l.each(function(){if(s=t(this),o=s.is("input[type=checkbox],input[type=radio]")?s.is(":checked"):s.val(),!o==!n){if(s.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+s.attr("name")+'"]').length)return!0;a=a.add(s)}}),a.length?a:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return i.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},i.fire(t(document),"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),t(document).delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),t(document).delegate(i.linkClickSelector,"click.rails",function(n){var s=t(this),o=s.data("method"),a=s.data("params");if(!i.allowAction(s))return i.stopEverything(n);if(s.is(i.linkDisableSelector)&&i.disableElement(s),s.data("remote")!==e){if(!(!n.metaKey&&!n.ctrlKey||o&&"GET"!==o||a))return!0;var r=i.handleRemote(s);return r===!1?i.enableElement(s):r.error(function(){i.enableElement(s)}),!1}return s.data("method")?(i.handleMethod(s),!1):void 0}),t(document).delegate(i.buttonClickSelector,"click.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),t(document).delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),t(document).delegate(i.formSubmitSelector,"submit.rails",function(n){var s=t(this),o=s.data("remote")!==e,a=i.blankInputs(s,i.requiredInputSelector),r=i.nonBlankInputs(s,i.fileInputSelector);if(!i.allowAction(s))return i.stopEverything(n);if(a&&s.attr("novalidate")==e&&i.fire(s,"ajax:aborted:required",[a]))return i.stopEverything(n);if(o){if(r){setTimeout(function(){i.disableFormElements(s)},13);var l=i.fire(s,"ajax:aborted:file",[r]);return l||setTimeout(function(){i.enableFormElements(s)},13),l}return i.handleRemote(s),!1}setTimeout(function(){i.disableFormElements(s)},13)}),t(document).delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var s=n.attr("name"),o=s?{name:s,value:n.val()}:null;n.closest("form").data("ujs:submit-button",o)}),t(document).delegate(i.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&i.disableFormElements(t(this))}),t(document).delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&i.enableFormElements(t(this))}),t(function(){var e=t("meta[name=csrf-token]").attr("content"),i=t("meta[name=csrf-param]").attr("content");t('form input[name="'+i+'"]').val(e)}))}(jQuery),// copyright chris wanstrath
function(t){function e(e,n,s){var o=this;return this.on("click.pjax",e,function(e){var a=t.extend({},d(n,s));a.container||(a.container=t(this).attr("data-pjax")||o),i(e,a)})}function i(e,i,n){n=d(i,n);var o=e.currentTarget;if("A"!==o.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||location.protocol!==o.protocol||location.host!==o.host||o.hash&&o.href.replace(o.hash,"")===location.href.replace(location.hash,"")||o.href===location.href+"#")){var a={url:o.href,container:t(o).attr("data-pjax"),target:o,fragment:null};s(t.extend({},a,n)),e.preventDefault()}}function n(e,i,n){n=d(i,n);var o=e.currentTarget;if("FORM"!==o.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var a={type:o.method,url:o.action,data:t(o).serializeArray(),container:t(o).attr("data-pjax"),target:o,fragment:null,timeout:0};s(t.extend({},a,n)),e.preventDefault()}function s(e){function i(e,i){var s=t.Event(e,{relatedTarget:n});return r.trigger(s,i),!s.isDefaultPrevented()}e=t.extend(!0,{},t.ajaxSettings,s.defaults,e),t.isFunction(e.url)&&(e.url=e.url());var n=e.target,o=u(e.url).hash,r=e.context=p(e.container);e.data||(e.data={}),e.data._pjax=r.selector;var l;e.beforeSend=function(t,n){return"GET"!==n.type&&(n.timeout=0),n.timeout>0&&(l=setTimeout(function(){i("pjax:timeout",[t,e])&&t.abort("timeout")},n.timeout),n.timeout=0),t.setRequestHeader("X-PJAX","true"),t.setRequestHeader("X-PJAX-Container",r.selector),i("pjax:beforeSend",[t,n])?(e.requestUrl=u(n.url).href,void 0):!1},e.complete=function(t,n){l&&clearTimeout(l),i("pjax:complete",[t,n,e]),i("pjax:end",[t,e])},e.error=function(t,n,s){var o=m("",t,e),r=i("pjax:error",[t,n,s,e]);"GET"==e.type&&"abort"!==n&&r&&a(o.url)},e.success=function(n,l,c){var d=m(n,c,e);if(!d.contents)return a(d.url),void 0;if(s.state={id:e.id||h(),url:d.url,title:d.title,container:r.selector,fragment:e.fragment,timeout:e.timeout},(e.push||e.replace)&&window.history.replaceState(s.state,d.title,d.url),d.title&&(document.title=d.title),r.html(d.contents),"number"==typeof e.scrollTo&&t(window).scrollTop(e.scrollTo),(e.replace||e.push)&&window._gaq&&_gaq.push(["_trackPageview"]),""!==o){var p=u(d.url);p.hash=o,s.state.url=p.href,window.history.replaceState(s.state,d.title,p.href);var f=t(p.hash);f.length&&t(window).scrollTop(f.offset().top)}i("pjax:success",[n,l,c,e])},s.state||(s.state={id:h(),url:window.location.href,title:document.title,container:r.selector,fragment:e.fragment,timeout:e.timeout},window.history.replaceState(s.state,document.title));var d=s.xhr;d&&d.readyState<4&&(d.onreadystatechange=t.noop,d.abort()),s.options=e;var d=s.xhr=t.ajax(e);return d.readyState>0&&(e.push&&!e.replace&&(g(s.state.id,r.clone().contents()),window.history.pushState(null,"",c(e.requestUrl))),i("pjax:start",[d,e]),i("pjax:send",[d,e])),s.xhr}function o(e,i){var n={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return s(t.extend(n,d(e,i)))}function a(t){window.history.replaceState(null,"","#"),window.location.replace(t)}function r(e){var i=e.state;if(i&&i.container){var n=t(i.container);if(n.length){var o=$[i.id];if(s.state){var r=s.state.id<i.id?"forward":"back";v(r,s.state.id,n.clone().contents())}var l=t.Event("pjax:popstate",{state:i,direction:r});n.trigger(l);var h={id:i.id,url:i.url,container:n,push:!1,fragment:i.fragment,timeout:i.timeout,scrollTo:!1};o?(n.trigger("pjax:start",[null,h]),i.title&&(document.title=i.title),n.html(o),s.state=i,n.trigger("pjax:end",[null,h])):s(h),n[0].offsetHeight}else a(location.href)}}function l(e){var i=t.isFunction(e.url)?e.url():e.url,n=e.type?e.type.toUpperCase():"GET",s=t("<form>",{method:"GET"===n?"GET":"POST",action:i,style:"display:none"});"GET"!==n&&"POST"!==n&&s.append(t("<input>",{type:"hidden",name:"_method",value:n.toLowerCase()}));var o=e.data;if("string"==typeof o)t.each(o.split("&"),function(e,i){var n=i.split("=");s.append(t("<input>",{type:"hidden",name:n[0],value:n[1]}))});else if("object"==typeof o)for(key in o)s.append(t("<input>",{type:"hidden",name:key,value:o[key]}));t(document.body).append(s),s.submit()}function h(){return(new Date).getTime()}function c(t){return t.replace(/\?_pjax=[^&]+&?/,"?").replace(/_pjax=[^&]+&?/,"").replace(/[\?&]$/,"")}function u(t){var e=document.createElement("a");return e.href=t,e}function d(e,i){return e&&i?i.container=e:i=t.isPlainObject(e)?e:{container:e},i.container&&(i.container=p(i.container)),i}function p(e){if(e=t(e),e.length){if(""!==e.selector&&e.context===document)return e;if(e.attr("id"))return t("#"+e.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+e.selector}function f(t,e){return t.filter(e).add(t.find(e))}function m(e,i,n){var s={};if(s.url=c(i.getResponseHeader("X-PJAX-URL")||n.requestUrl),/<html/i.test(e))var o=t(e.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0]),a=t(e.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]);else var o=a=t(e);if(0===a.length)return s;if(s.title=f(o,"title").last().text(),n.fragment){if("body"===n.fragment)var r=a;else var r=f(a,n.fragment).first();r.length&&(s.contents=r.contents(),s.title||(s.title=r.attr("title")||r.data("title")))}else/<html/i.test(e)||(s.contents=a);return s.contents&&(s.contents=s.contents.not("title"),s.contents.find("title").remove()),s.title&&(s.title=t.trim(s.title)),s}function g(t,e){for($[t]=e,w.push(t);y.length;)delete $[y.shift()];for(;w.length>s.defaults.maxCacheLength;)delete $[w.shift()]}function v(t,e,i){var n,s;$[e]=i,"forward"===t?(n=w,s=y):(n=y,s=w),n.push(e),(e=s.pop())&&delete $[e]}function _(){t.fn.pjax=e,t.pjax=s,t.pjax.enable=t.noop,t.pjax.disable=b,t.pjax.click=i,t.pjax.submit=n,t.pjax.reload=o,t.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20},t(window).bind("popstate.pjax",r)}function b(){t.fn.pjax=function(){return this},t.pjax=l,t.pjax.enable=_,t.pjax.disable=t.noop,t.pjax.click=t.noop,t.pjax.submit=t.noop,t.pjax.reload=function(){window.location.reload()},t(window).unbind("popstate.pjax",r)}var $={},y=[],w=[];t.inArray("state",t.event.props)<0&&t.event.props.push("state"),t.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]|WebApps\/.+CFNetwork)/),t.support.pjax?_():b()}(jQuery),/* ========================================================================
 * Bootstrap: affix.js v3.1.1
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";var e=function(i,n){this.options=t.extend({},e.DEFAULTS,n),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(i),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(e.RESET).addClass("affix");var t=this.$window.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-t},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var i=t(document).height(),n=this.$window.scrollTop(),s=this.$element.offset(),o=this.options.offset,a=o.top,r=o.bottom;"top"==this.affixed&&(s.top+=n),"object"!=typeof o&&(r=a=o),"function"==typeof a&&(a=o.top(this.$element)),"function"==typeof r&&(r=o.bottom(this.$element));var l=null!=this.unpin&&n+this.unpin<=s.top?!1:null!=r&&s.top+this.$element.height()>=i-r?"bottom":null!=a&&a>=n?"top":!1;if(this.affixed!==l){this.unpin&&this.$element.css("top","");var h="affix"+(l?"-"+l:""),c=t.Event(h+".bs.affix");this.$element.trigger(c),c.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(e.RESET).addClass(h).trigger(t.Event(h.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:i-r-this.$element.height()}))}}};var i=t.fn.affix;t.fn.affix=function(i){return this.each(function(){var n=t(this),s=n.data("bs.affix"),o="object"==typeof i&&i;s||n.data("bs.affix",s=new e(this,o)),"string"==typeof i&&s[i]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.affix(i)})})}(jQuery),/* ========================================================================
 * Bootstrap: alert.js v3.1.1
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){function i(){o.trigger("closed.bs.alert").remove()}var n=t(this),s=n.attr("data-target");s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var o=t(s);e&&e.preventDefault(),o.length||(o=n.hasClass("alert")?n:n.parent()),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one(t.support.transition.end,i).emulateTransitionEnd(150):i())};var n=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var n=t(this),s=n.data("bs.alert");s||n.data("bs.alert",s=new i(this)),"string"==typeof e&&s[e].call(n)})},t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",e,i.prototype.close)}(jQuery),/* ========================================================================
 * Bootstrap: button.js v3.1.1
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,n),this.isLoading=!1};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(e){var i="disabled",n=this.$element,s=n.is("input")?"val":"html",o=n.data();e+="Text",o.resetText||n.data("resetText",n[s]()),n[s](o[e]||this.options[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},e.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=function(i){return this.each(function(){var n=t(this),s=n.data("bs.button"),o="object"==typeof i&&i;s||n.data("bs.button",s=new e(this,o)),"toggle"==i?s.toggle():i&&s.setState(i)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle"),e.preventDefault()})}(jQuery),/* ========================================================================
 * Bootstrap: carousel.js v3.1.1
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";var e=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var i=this,n=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,i){var n=this.$element.find(".item.active"),s=i||n[e](),o=this.interval,a="next"==e?"left":"right",r="next"==e?"first":"last",l=this;if(!s.length){if(!this.options.wrap)return;s=this.$element.find(".item")[r]()}if(s.hasClass("active"))return this.sliding=!1;var h=t.Event("slide.bs.carousel",{relatedTarget:s[0],direction:a});return this.$element.trigger(h),h.isDefaultPrevented()?void 0:(this.sliding=!0,o&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,n.addClass(a),s.addClass(a),n.one(t.support.transition.end,function(){s.removeClass([e,a].join(" ")).addClass("active"),n.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(1e3*n.css("transition-duration").slice(0,-1))):(n.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),o&&this.cycle(),this)};var i=t.fn.carousel;t.fn.carousel=function(i){return this.each(function(){var n=t(this),s=n.data("bs.carousel"),o=t.extend({},e.DEFAULTS,n.data(),"object"==typeof i&&i),a="string"==typeof i?i:o.slide;s||n.data("bs.carousel",s=new e(this,o)),"number"==typeof i?s.to(i):a?s[a]():o.interval&&s.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var i,n=t(this),s=t(n.attr("data-target")||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),o=t.extend({},s.data(),n.data()),a=n.attr("data-slide-to");a&&(o.interval=!1),s.carousel(o),(a=n.attr("data-slide-to"))&&s.data("bs.carousel").to(a),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: collapse.js v3.1.1
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,n),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var n=i.data("bs.collapse");if(n&&n.transitioning)return;i.collapse("hide"),n||i.data("bs.collapse",null)}var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return o.call(this);var a=t.camelCase(["scroll",s].join("-"));this.$element.one(t.support.transition.end,t.proxy(o,this)).emulateTransitionEnd(350)[s](this.$element[0][a])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?(this.$element[i](0).one(t.support.transition.end,t.proxy(n,this)).emulateTransitionEnd(350),void 0):n.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=t.fn.collapse;t.fn.collapse=function(i){return this.each(function(){var n=t(this),s=n.data("bs.collapse"),o=t.extend({},e.DEFAULTS,n.data(),"object"==typeof i&&i);!s&&o.toggle&&"show"==i&&(i=!i),s||n.data("bs.collapse",s=new e(this,o)),"string"==typeof i&&s[i]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var i,n=t(this),s=n.attr("data-target")||e.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),o=t(s),a=o.data("bs.collapse"),r=a?"toggle":n.data(),l=n.attr("data-parent"),h=l&&t(l);a&&a.transitioning||(h&&h.find('[data-toggle=collapse][data-parent="'+l+'"]').not(n).addClass("collapsed"),n[o.hasClass("in")?"addClass":"removeClass"]("collapsed")),o.collapse(r)})}(jQuery),/* ========================================================================
 * Bootstrap: dropdown.js v3.1.1
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){t(n).remove(),t(s).each(function(){var n=i(t(this)),s={relatedTarget:this};n.hasClass("open")&&(n.trigger(e=t.Event("hide.bs.dropdown",s)),e.isDefaultPrevented()||n.removeClass("open").trigger("hidden.bs.dropdown",s))})}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}var n=".dropdown-backdrop",s="[data-toggle=dropdown]",o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.prototype.toggle=function(n){var s=t(this);if(!s.is(".disabled, :disabled")){var o=i(s),a=o.hasClass("open");if(e(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var r={relatedTarget:this};if(o.trigger(n=t.Event("show.bs.dropdown",r)),n.isDefaultPrevented())return;o.toggleClass("open").trigger("shown.bs.dropdown",r),s.focus()}return!1}},o.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var n=t(this);if(e.preventDefault(),e.stopPropagation(),!n.is(".disabled, :disabled")){var o=i(n),a=o.hasClass("open");if(!a||a&&27==e.keyCode)return 27==e.which&&o.find(s).focus(),n.click();var r=" li:not(.divider):visible a",l=o.find("[role=menu]"+r+", [role=listbox]"+r);if(l.length){var h=l.index(l.filter(":focus"));38==e.keyCode&&h>0&&h--,40==e.keyCode&&h<l.length-1&&h++,~h||(h=0),l.eq(h).focus()}}}};var a=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new o(this)),"string"==typeof e&&n[e].call(i)})},t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,o.prototype.toggle).on("keydown.bs.dropdown.data-api",s+", [role=menu], [role=listbox]",o.prototype.keydown)}(jQuery),/* ========================================================================
 * Bootstrap: tab.js v3.1.1
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var s=i.find(".active:last a")[0],o=t.Event("show.bs.tab",{relatedTarget:s});if(e.trigger(o),!o.isDefaultPrevented()){var a=t(n);this.activate(e.parent("li"),i),this.activate(a,a.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:s})})}}},e.prototype.activate=function(e,i,n){function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),n&&n()}var o=i.find("> .active"),a=n&&t.support.transition&&o.hasClass("fade");a?o.one(t.support.transition.end,s).emulateTransitionEnd(150):s(),o.removeClass("in")};var i=t.fn.tab;t.fn.tab=function(i){return this.each(function(){var n=t(this),s=n.data("bs.tab");s||n.data("bs.tab",s=new e(this)),"string"==typeof i&&s[i]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(jQuery),/* ========================================================================
 * Bootstrap: transition.js v3.1.1
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one(t.support.transition.end,function(){i=!0});var s=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(s,e),this},t(function(){t.support.transition=e()})}(jQuery),/* ========================================================================
 * Bootstrap: scrollspy.js v3.1.1
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(i,n){var s,o=t.proxy(this.process,this);this.$element=t(i).is("body")?t(window):t(i),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",o),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||(s=t(i).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);var i=this;this.$body.find(this.selector).map(function(){var n=t(this),s=n.data("target")||n.attr("href"),o=/^#./.test(s)&&t(s);return o&&o.length&&o.is(":visible")&&[[o[e]().top+(!t.isWindow(i.$scrollElement.get(0))&&i.$scrollElement.scrollTop()),s]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=i-this.$scrollElement.height(),s=this.offsets,o=this.targets,a=this.activeTarget;if(e>=n)return a!=(t=o.last()[0])&&this.activate(t);if(a&&e<=s[0])return a!=(t=o[0])&&this.activate(t);for(t=s.length;t--;)a!=o[t]&&e>=s[t]&&(!s[t+1]||e<=s[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")};var i=t.fn.scrollspy;t.fn.scrollspy=function(i){return this.each(function(){var n=t(this),s=n.data("bs.scrollspy"),o="object"==typeof i&&i;s||n.data("bs.scrollspy",s=new e(this,o)),"string"==typeof i&&s[i]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: modal.js v3.1.1
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";var e=function(e,i){this.options=i,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var i=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var n=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(document.body),i.$element.show().scrollTop(0),n&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});n?i.$element.find(".modal-dialog").one(t.support.transition.end,function(){i.$element.focus().trigger(s)}).emulateTransitionEnd(300):i.$element.focus().trigger(s)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var i=t.fn.modal;t.fn.modal=function(i,n){return this.each(function(){var s=t(this),o=s.data("bs.modal"),a=t.extend({},e.DEFAULTS,s.data(),"object"==typeof i&&i);o||s.data("bs.modal",o=new e(this,a)),"string"==typeof i?o[i](n):a.show&&o.show(n)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),n=i.attr("href"),s=t(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},s.data(),i.data());i.is("a")&&e.preventDefault(),s.modal(o,this).one("hide",function(){i.is(":visible")&&i.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(jQuery),/* ========================================================================
 * Bootstrap: tooltip.js v3.1.1
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,i,n){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n);for(var s=this.options.trigger.split(" "),o=s.length;o--;){var a=s[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},e.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show),void 0):i.show()},e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide),void 0):i.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var i=this,n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,o=/\s?auto?\s?/i,a=o.test(s);a&&(s=s.replace(o,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(s),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var r=this.getPosition(),l=n[0].offsetWidth,h=n[0].offsetHeight;if(a){var c=this.$element.parent(),u=s,d=document.documentElement.scrollTop||document.body.scrollTop,p="body"==this.options.container?window.innerWidth:c.outerWidth(),f="body"==this.options.container?window.innerHeight:c.outerHeight(),m="body"==this.options.container?0:c.offset().left;s="bottom"==s&&r.top+r.height+h-d>f?"top":"top"==s&&r.top-d-h<0?"bottom":"right"==s&&r.right+l>p?"left":"left"==s&&r.left-l<m?"right":s,n.removeClass(u).addClass(s)}var g=this.getCalculatedOffset(s,r,l,h);this.applyPlacement(g,s),this.hoverState=null;var v=function(){i.$element.trigger("shown.bs."+i.type)};t.support.transition&&this.$tip.hasClass("fade")?n.one(t.support.transition.end,v).emulateTransitionEnd(150):v()}},e.prototype.applyPlacement=function(e,i){var n,s=this.tip(),o=s[0].offsetWidth,a=s[0].offsetHeight,r=parseInt(s.css("margin-top"),10),l=parseInt(s.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(l)&&(l=0),e.top=e.top+r,e.left=e.left+l,t.offset.setOffset(s[0],t.extend({using:function(t){s.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),s.addClass("in");var h=s[0].offsetWidth,c=s[0].offsetHeight;if("top"==i&&c!=a&&(n=!0,e.top=e.top+a-c),/bottom|top/.test(i)){var u=0;e.left<0&&(u=-2*e.left,e.left=0,s.offset(e),h=s[0].offsetWidth,c=s[0].offsetHeight),this.replaceArrow(u-o+h,h,"left")}else this.replaceArrow(c-a,c,"top");n&&s.offset(e)},e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=i.hoverState&&n.detach(),i.$element.trigger("hidden.bs."+i.type)}var i=this,n=this.tip(),s=t.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?n.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.hoverState=null,this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var i=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},e.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var n=t(this),s=n.data("bs.tooltip"),o="object"==typeof i&&i;(s||"destroy"!=i)&&(s||n.data("bs.tooltip",s=new e(this,o)),"string"==typeof i&&s[i]())})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),/* ========================================================================
 * Bootstrap: popover.js v3.1.1
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var n=t(this),s=n.data("bs.popover"),o="object"==typeof i&&i;(s||"destroy"!=i)&&(s||n.data("bs.popover",s=new e(this,o)),"string"==typeof i&&s[i]())})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),function(t,e){function i(e){v.inited||(v.inited=!0,e&&t.extend(v,e),u=v.container,d=t(u),v.pagination&&t(v.pagination).remove(),r())}function n(t){p=t,c&&(p?c.fadeIn("normal"):c.fadeOut("normal"))}function s(){return u===e?t(document).height()-d.scrollTop()-d.height():d[0].scrollHeight-d.scrollTop()-d.height()}function o(e){var i=v[e];return t.isFunction(v[e])?i():i}function a(){d.unbind(f)}function r(){d.bind(m+" "+g,l).trigger(m)}function l(){var e=o("currentPage"),i=o("totalPages");if(e>=i)return t.isFunction(v.currentPage)||t.isFunction(v.totalPages)||(a(),v.end&&v.end.call()),void 0;if(!p&&s()<v.distance){var r=o("url"),l=o("params");n(!0),e++,t.isFunction(v.currentPage)||(v.currentPage=e),t.extend(l,{page:e}),t.ajax({data:l,dataType:"html",url:r,method:v.method,success:function(e){t.isFunction(v.scrape)&&(e=v.scrape(e)),c?c.before(e):h.append(e),n(!1),v.complete&&v.complete.call()}})}}var h,c,u,d,p=!1,f=".pageless",m="scroll"+f,g="resize"+f,v={container:e,currentPage:1,distance:100,pagination:".pagination",params:{},url:location.href,loaderImage:"/images/load.gif",method:"get"};t.pageless=function(e){t.isFunction(e)?e.call():i(e)},t.pagelessReset=function(){v={container:e,currentPage:1,distance:100,pagination:".pagination",params:{},url:location.href,loaderImage:"/images/load.gif",method:"get"},a(),v.end&&v.end.call()};var _=function(){return v.loaderHtml||'<div id="pageless-loader" style="display:none;text-align:center;width:100%;"><div class="msg" style="color:#e9e9e9;font-size:2em"></div><img src="'+v.loaderImage+'" alt="loading more results" style="margin:10px auto" />'+"</div>"};t.fn.pageless=function(e){var n=t(this),s=t(e.loader,n);i(e),h=n,e.loader&&s.length?c=s:(c=t(_()),n.append(c),e.loaderHtml||t("#pageless-loader .msg").html(e.loaderMsg).css(e.msgStyles||{}))}}(jQuery,window),TinyMCE_editor={ids:["job_description","job_your_skills_and_experience","job_employer_culture_description","job_employer_long_description","employer_culture_description","employer_long_description"],init:function(){$.each(this.ids,function(t,e){$("#"+e).addClass("tinymce itviec-editor");var i=$("#"+e+"_input iframe")[0],n=$("#tinymce",$(i).contents())[0];$(n).tooltip({placement:"right",title:$("#"+e).data("original-title"),trigger:"focus",html:!0})}),tinyMCE.init({selector:"textarea.itviec-editor",plugins:["paste"],toolbar:"bold italic bullist numlist",inline_styles:!1,content_css:"/assets/active_admin.css",verify_html:!0,force_p_newlines:!1,force_br_newlines:!0,forced_root_block:!1,convert_newlines_to_brs:!1,remove_linebreaks:!0,statusbar:!1,menubar:!1,theme:"modern",valid_elements:"b,i,ul,ol,li,div,br,strong,em,p",setup:function(t){t.on("saveContent",function(t){t.content=t.content.replace(new RegExp(String.fromCharCode(10),"g"),""),t.content=t.content.replace("&nbsp;"," ")}),t.on("blur",function(t){var e=$("#"+t.target.id+"_ifr").contents().find(".mce-content-body").text();if($("#"+t.target.id).val(e),$("#"+t.target.id).trigger("change"),$("#"+t.target.id).blur(),$("#"+t.target.id+"_input .valid_hint").remove(),$("#"+t.target.id+"_input_too_long").remove(),parseInt($("#"+t.target.id+"_counter").text())<0){var i="<p class='inline-errors' id='"+t.target.id+"_input_too_long"+"'>Too many characters</p>";$("#"+t.target.id+"_counter_wrapper").after(i)}else if(!$("#"+t.target.id+"_input").hasClass("error")){var n=$("<div/>",{"class":"valid_hint",text:"Looks good"});$("#"+t.target.id+"_input").append(n)}})}})}},/*
* jQuery UI Tag-it!
*
* @version v2.0 (06/2011)
*
* Copyright 2011, Levy Carneiro Jr.
* Released under the MIT license.
* http://aehlke.github.com/tag-it/LICENSE
*
* Homepage:
*   http://aehlke.github.com/tag-it/
*
* Authors:
*   Levy Carneiro Jr.
*   Martin Rehfeld
*   Tobias Schmidt
*   Skylar Challand
*   Alex Ehlke
*
* Maintainer:
*   Alex Ehlke - Twitter: @aehlke
*
* Dependencies:
*   jQuery v1.4+
*   jQuery UI v1.8+
*/
function(t){t.widget("ui.tagit",{options:{allowDuplicates:!1,caseSensitive:!0,fieldName:"tags",placeholderText:null,readOnly:!1,removeConfirmation:!1,tagLimit:null,availableTags:[],autocomplete:{},showAutocompleteOnFocus:!1,allowSpaces:!1,singleField:!1,singleFieldDelimiter:",",singleFieldNode:null,animate:!0,tabIndex:null,beforeTagAdded:null,afterTagAdded:null,beforeTagRemoved:null,afterTagRemoved:null,onTagClicked:null,onTagLimitExceeded:null,onTagAdded:null,onTagRemoved:null,tagSource:null},_create:function(){var e=this;this.element.is("input")?(this.tagList=t("<ul></ul>").insertAfter(this.element),this.options.singleField=!0,this.options.singleFieldNode=this.element,this.element.css("display","none")):this.tagList=this.element.find("ul, ol").andSelf().last(),this.tagInput=t('<input type="text" />').addClass("ui-widget-content"),this.options.readOnly&&this.tagInput.attr("disabled","disabled"),this.options.tabIndex&&this.tagInput.attr("tabindex",this.options.tabIndex),this.options.placeholderText&&this.tagInput.attr("placeholder",this.options.placeholderText),this.options.autocomplete.source||(this.options.autocomplete.source=function(e,i){var n=e.term.toLowerCase(),s=t.grep(this.options.availableTags,function(t){return 0===t.toLowerCase().indexOf(n)});i(this._subtractArray(s,this.assignedTags()))}),this.options.showAutocompleteOnFocus&&(this.tagInput.focus(function(){e._showAutocomplete()}),"undefined"==typeof this.options.autocomplete.minLength&&(this.options.autocomplete.minLength=0)),t.isFunction(this.options.autocomplete.source)&&(this.options.autocomplete.source=t.proxy(this.options.autocomplete.source,this)),t.isFunction(this.options.tagSource)&&(this.options.tagSource=t.proxy(this.options.tagSource,this)),this.tagList.addClass("tagit").addClass("ui-widget ui-widget-content ui-corner-all").append(t('<li class="tagit-new"></li>').append(this.tagInput)).click(function(i){var n=t(i.target);if(n.hasClass("tagit-label")){var s=n.closest(".tagit-choice");s.hasClass("removed")||e._trigger("onTagClicked",i,{tag:s,tagLabel:e.tagLabel(s)})}else e.tagInput.focus()});var i=!1;if(this.options.singleField)if(this.options.singleFieldNode){var n=t(this.options.singleFieldNode),s=n.val().split(this.options.singleFieldDelimiter);n.val(""),t.each(s,function(t,n){e.createTag(n,null,!0),i=!0})}else this.options.singleFieldNode=t('<input type="hidden" style="display:none;" value="" name="'+this.options.fieldName+'" />'),this.tagList.after(this.options.singleFieldNode);if(i||this.tagList.children("li").each(function(){t(this).hasClass("tagit-new")||(e.createTag(t(this).text(),t(this).attr("class"),!0),t(this).remove())}),this.tagInput.keydown(function(i){if(i.which==t.ui.keyCode.BACKSPACE&&""===e.tagInput.val()){var n=e._lastTag();!e.options.removeConfirmation||n.hasClass("remove")?e.removeTag(n):e.options.removeConfirmation&&n.addClass("remove ui-state-highlight")}else e.options.removeConfirmation&&e._lastTag().removeClass("remove ui-state-highlight");(i.which===t.ui.keyCode.COMMA||i.which===t.ui.keyCode.ENTER||i.which==t.ui.keyCode.TAB&&""!==e.tagInput.val()||i.which==t.ui.keyCode.SPACE&&e.options.allowSpaces!==!0&&('"'!=t.trim(e.tagInput.val()).replace(/^s*/,"").charAt(0)||'"'==t.trim(e.tagInput.val()).charAt(0)&&'"'==t.trim(e.tagInput.val()).charAt(t.trim(e.tagInput.val()).length-1)&&0!==t.trim(e.tagInput.val()).length-1))&&((i.which!==t.ui.keyCode.ENTER||""!==e.tagInput.val())&&i.preventDefault(),e.createTag(e._cleanedInput()),e.tagInput.autocomplete("close"))}).blur(function(){e.tagInput.data("autocomplete-open")||e.createTag(e._cleanedInput())}),this.options.availableTags||this.options.tagSource||this.options.autocomplete.source){var o={select:function(t,i){return e.createTag(i.item.value),!1}};t.extend(o,this.options.autocomplete),o.source=this.options.tagSource||o.source,this.tagInput.autocomplete(o).bind("autocompleteopen",function(){e.tagInput.data("autocomplete-open",!0)}).bind("autocompleteclose",function(){e.tagInput.data("autocomplete-open",!1)})}},_cleanedInput:function(){return t.trim(this.tagInput.val().replace(/^"(.*)"$/,"$1"))},_lastTag:function(){return this.tagList.find(".tagit-choice:last:not(.removed)")},_tags:function(){return this.tagList.find(".tagit-choice:not(.removed)")},assignedTags:function(){var e=this,i=[];return this.options.singleField?(i=t(this.options.singleFieldNode).val().split(this.options.singleFieldDelimiter),""===i[0]&&(i=[])):this._tags().each(function(){i.push(e.tagLabel(this))}),i},_updateSingleTagsField:function(e){t(this.options.singleFieldNode).val(e.join(this.options.singleFieldDelimiter)).trigger("change")},_subtractArray:function(e,i){for(var n=[],s=0;s<e.length;s++)-1==t.inArray(e[s],i)&&n.push(e[s]);return n},tagLabel:function(e){return this.options.singleField?t(e).find(".tagit-label:first").text():t(e).find("input:first").val()},_showAutocomplete:function(){this.tagInput.autocomplete("search","")},_findTagByLabel:function(e){var i=this,n=null;return this._tags().each(function(){return i._formatStr(e)==i._formatStr(i.tagLabel(this))?(n=t(this),!1):void 0}),n},_isNew:function(t){return!this._findTagByLabel(t)},_formatStr:function(e){return this.options.caseSensitive?e:t.trim(e.toLowerCase())},_effectExists:function(e){return Boolean(t.effects&&(t.effects[e]||t.effects.effect&&t.effects.effect[e]))},createTag:function(e,i,n){var s=this;if(e=t.trim(e),this.options.preprocessTag&&(e=this.options.preprocessTag(e)),""===e)return!1;if(!this.options.allowDuplicates&&!this._isNew(e)){var o=this._findTagByLabel(e);return this._trigger("onTagExists",null,{existingTag:o,duringInitialization:n})!==!1&&this._effectExists("highlight")&&o.effect("highlight"),!1}if(this.options.tagLimit&&this._tags().length>=this.options.tagLimit)return this._trigger("onTagLimitExceeded",null,{duringInitialization:n}),!1;var a=t(this.options.onTagClicked?'<a class="tagit-label"></a>':'<span class="tagit-label"></span>').text(e),r=t("<li></li>").addClass("tagit-choice ui-widget-content ui-state-default ui-corner-all").addClass(i).append(a);if(this.options.readOnly)r.addClass("tagit-choice-read-only");else{r.addClass("tagit-choice-editable");var l=t("<span></span>").addClass("ui-icon ui-icon-close"),h=t('<a><span class="text-icon">×</span></a>').addClass("tagit-close").append(l).click(function(){s.removeTag(r)});r.append(h)}if(!this.options.singleField){var c=a.html();r.append('<input type="hidden" style="display:none;" value="'+c+'" name="'+this.options.fieldName+'" />')}if(this._trigger("beforeTagAdded",null,{tag:r,tagLabel:this.tagLabel(r),duringInitialization:n})!==!1){if(this.options.singleField){var u=this.assignedTags();u.push(e),this._updateSingleTagsField(u)}this._trigger("onTagAdded",null,r),this.tagInput.val(""),this.tagInput.parent().before(r),this._trigger("afterTagAdded",null,{tag:r,tagLabel:this.tagLabel(r),duringInitialization:n}),this.options.showAutocompleteOnFocus&&!n&&setTimeout(function(){s._showAutocomplete()},0)}},removeTag:function(e,i){if(i="undefined"==typeof i?this.options.animate:i,e=t(e),this._trigger("onTagRemoved",null,e),this._trigger("beforeTagRemoved",null,{tag:e,tagLabel:this.tagLabel(e)})!==!1){if(this.options.singleField){var n=this.assignedTags(),s=this.tagLabel(e);n=t.grep(n,function(t){return t!=s}),this._updateSingleTagsField(n)}if(i){e.addClass("removed");var o=this._effectExists("blind")?["blind",{direction:"horizontal"},"fast"]:["fast"],a=this;o.push(function(){e.remove(),a._trigger("afterTagRemoved",null,{tag:e,tagLabel:a.tagLabel(e)})}),e.fadeOut("fast").hide.apply(e,o).dequeue()}else e.remove(),this._trigger("afterTagRemoved",null,{tag:e,tagLabel:this.tagLabel(e)})}},removeTagByLabel:function(t,e){var i=this._findTagByLabel(t);if(!i)throw"No such tag exists with the name '"+t+"'";this.removeTag(i,e)},removeAll:function(){var t=this;this._tags().each(function(e,i){t.removeTag(i,!1)})}})}(jQuery),$.ui.tagit.prototype.updatePlaceholderText=function(){0==this._tags().length?this.tagInput.attr("placeholder",this.options.placeholderText):this.tagInput.attr("placeholder",null)},function(){var t,e;e=this,t=function(){function t(e,i){this.form_field=e,this.options=null!=i?i:{},t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup())}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1},t.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(){var t=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return t.blur_test()},100))},t.prototype.results_option_build=function(t){var e,i,n,s,o;for(e="",o=this.results_data,n=0,s=o.length;s>n;n++)i=o[n],i.group&&(i.search_match||i.group_match)?e+=this.result_add_group(i):!i.empty&&i.search_match&&(e+=this.result_add_option(i)),(null!=t?t.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(i.text));return e},t.prototype.result_add_option=function(t){var e,i;return e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),i=""!==t.style.cssText?' style="'+t.style+'"':"",'<li class="'+e.join(" ")+'"'+i+' data-option-array-index="'+t.array_index+'">'+t.search_text+"</li>"},t.prototype.result_add_group=function(t){return'<li class="group-result">'+t.search_text+"</li>"},t.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build(),this.results_showing?this.winnow_results():void 0},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(){var t,e,i,n,s,o,a,r,l,h,c;for(this.no_results_clear(),n=0,s=this.get_search_text(),i=this.search_contains?"":"^",e=new RegExp(i+s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),r=new RegExp(s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),c=this.results_data,l=0,h=c.length;h>l;l++)t=c[l],t.empty||(t.group&&(t.group_match=!1),(!t.group||this.group_search)&&(t.search_match=!1,t.search_text=t.group?t.label:t.html,t.search_match=this.search_string_match(t.search_text,e),t.search_match&&(n+=1),t.search_match?(s.length&&(o=t.search_text.search(r),a=t.search_text.substr(0,o+s.length)+"</em>"+t.search_text.substr(o+s.length),t.search_text=a.substr(0,o)+"<em>"+a.substr(o)),null!=t.group_array_index&&(this.results_data[t.group_array_index].group_match=!0)):null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)));return 1>n&&s.length?(this.update_results_content(""),this.result_clear_highlight(),this.no_results(s)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},t.prototype.search_string_match=function(t,e){var i,n,s,o;if(e.test(t))return!0;if(this.enable_split_word_search&&(t.indexOf(" ")>=0||0===t.indexOf("["))&&(n=t.replace(/\[|\]/g,"").split(" "),n.length))for(s=0,o=n.length;o>s;s++)if(i=n[s],e.test(i))return!0},t.prototype.choices_count=function(){var t,e,i,n;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,n=this.form_field.options,e=0,i=n.length;i>e;e++)t=n[e],t.selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){return t.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},t.prototype.keyup_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},t.browser_is_supported=function(){var t;return"Microsoft Internet Explorer"===window.navigator.appName?null!==(t=document.documentMode)&&t>=8:!0},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),e.AbstractChosen=t}.call(this),function(){var t;t=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,n,s,o,a;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:this.escapeExpression(t.label),children:0,disabled:t.disabled}),o=t.childNodes,a=[],n=0,s=o.length;s>n;n++)i=o[n],a.push(this.add_option(i,e,t.disabled));return a},t.prototype.add_option=function(t,e,i){return"OPTION"===t.nodeName.toUpperCase()?(""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,selected:t.selected,disabled:i===!0?i:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},t.prototype.escapeExpression=function(t){var e,i;return null==t||t===!1?"":/[\&\<\>\"\'\`]/.test(t)?(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,t.replace(i,function(t){return e[t]||"&amp;"})):t},t}(),t.select_to_array=function(e){var i,n,s,o,a;for(n=new t,a=e.childNodes,s=0,o=a.length;o>s;s++)i=a[s],n.add_node(i);return n.parsed},this.SelectParser=t}.call(this),function(){var t,e,i,n,s={}.hasOwnProperty,o=function(t,e){function i(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};i=this,t=jQuery,t.fn.extend({chosen:function(i){return AbstractChosen.browser_is_supported()?this.each(function(){var n;return n=t(this),n.hasClass("chzn-done")?void 0:n.data("chosen",new e(this,i))}):this}}),e=function(e){function s(){return n=s.__super__.constructor.apply(this,arguments)}return o(s,e),s.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},s.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},s.prototype.set_up_html=function(){var e,i;return e=["chzn-container"],e.push("chzn-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chzn-rtl"),i={"class":e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chzn"),this.container=t("<div />",i),this.is_multiple?this.container.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop"><ul class="chzn-results"></ul></div>'):this.container.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chzn-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},s.prototype.register_observers=function(){var t=this;return this.container.mousedown(function(e){t.container_mousedown(e)}),this.container.mouseup(function(e){t.container_mouseup(e)}),this.container.mouseenter(function(e){t.mouse_enter(e)}),this.container.mouseleave(function(e){t.mouse_leave(e)}),this.search_results.mouseup(function(e){t.search_results_mouseup(e)}),this.search_results.mouseover(function(e){t.search_results_mouseover(e)}),this.search_results.mouseout(function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel DOMMouseScroll",function(e){t.search_results_mousewheel(e)}),this.form_field_jq.bind("liszt:updated",function(e){t.results_update_field(e)}),this.form_field_jq.bind("liszt:activate",function(e){t.activate_field(e)}),this.form_field_jq.bind("liszt:open",function(e){t.container_mousedown(e)}),this.search_field.blur(function(e){t.input_blur(e)}),this.search_field.keyup(function(e){t.keyup_checker(e)}),this.search_field.keydown(function(e){t.keydown_checker(e)}),this.search_field.focus(function(e){t.input_focus(e)}),this.is_multiple?this.search_choices.click(function(e){t.choices_click(e)}):this.container.click(function(t){t.preventDefault()})},s.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},s.prototype.container_mousedown=function(e){return this.is_disabled||(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null!=e&&t(e.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chzn-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(document).click(this.click_test_action),this.results_show()),this.activate_field())},s.prototype.container_mouseup=function(t){return"ABBR"!==t.target.nodeName||this.is_disabled?void 0:this.results_reset(t)},s.prototype.search_results_mousewheel=function(t){var e,i,n;return e=-(null!=(i=t.originalEvent)?i.wheelDelta:void 0)||(null!=(n=t.originialEvent)?n.detail:void 0),null!=e?(t.preventDefault(),"DOMMouseScroll"===t.type&&(e=40*e),this.search_results.scrollTop(e+this.search_results.scrollTop())):void 0},s.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chzn-container-active")?this.close_field():void 0},s.prototype.close_field=function(){return t(document).unbind("click",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},s.prototype.activate_field=function(){return this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},s.prototype.test_active_click=function(e){return this.container.is(t(e.target).closest(".chzn-container"))?this.active_field=!0:this.close_field()},s.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=i.SelectParser.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chzn-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chzn-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},s.prototype.result_do_highlight=function(t){var e,i,n,s,o;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),n=parseInt(this.search_results.css("maxHeight"),10),o=this.search_results.scrollTop(),s=n+o,i=this.result_highlight.position().top+this.search_results.scrollTop(),e=i+this.result_highlight.outerHeight(),e>=s)return this.search_results.scrollTop(e-n>0?e-n:0);if(o>i)return this.search_results.scrollTop(i)}},s.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},s.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(this.container.addClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results())},s.prototype.update_results_content=function(t){return this.search_results.html(t)},s.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this})),this.results_showing=!1},s.prototype.set_tab_index=function(){var t;return this.form_field_jq.attr("tabindex")?(t=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.search_field.attr("tabindex",t)):void 0},s.prototype.set_label_behavior=function(){var e=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.click(function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()}):void 0},s.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},s.prototype.search_results_mouseup=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(e),this.search_field.focus()):void 0},s.prototype.search_results_mouseover=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},s.prototype.search_results_mouseout=function(e){return t(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},s.prototype.choice_build=function(e){var i,n,s=this;return i=t("<li />",{"class":"search-choice"}).html("<span>"+e.html+"</span>"),e.disabled?i.addClass("search-choice-disabled"):(n=t("<a />",{href:"#","class":"search-choice-close",rel:e.array_index}),n.click(function(t){return s.choice_destroy_link_click(t)}),i.append(n)),this.search_container.before(i)},s.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),e.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(t(e.target))},s.prototype.choice_destroy=function(t){return this.result_deselect(t.attr("rel"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()):void 0},s.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_option_count=null,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},s.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},s.prototype.result_select=function(t){var e,i;return this.result_highlight?(e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=e),e.addClass("result-selected"),i=this.results_data[e[0].getAttribute("data-option-array-index")],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(i.text),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},s.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chzn-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chzn-default")),this.selected_item.find("span").text(t)},s.prototype.result_deselect=function(t){var e;return e=this.results_data[t],this.form_field.options[e.options_index].disabled?!1:(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},s.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chzn-single-with-deselect")):void 0},s.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":t("<div/>").text(t.trim(this.search_field.val())).html()},s.prototype.winnow_results_set_highlight=function(){var t,e;return e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),t=e.length?e.first():this.search_results.find(".active-result").first(),null!=t?this.result_do_highlight(t):void 0},s.prototype.no_results=function(e){var i;return i=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(e),this.search_results.append(i)},s.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},s.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},s.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},s.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},s.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},s.prototype.keydown_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},s.prototype.search_field_scale=function(){var e,i,n,s,o,a,r,l,h;if(this.is_multiple){for(n=0,r=0,o="position:absolute; left: -1000px; top: -1000px; display:none;",a=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,h=a.length;h>l;l++)s=a[l],o+=s+":"+this.search_field.css(s)+";";return e=t("<div />",{style:o}),e.text(this.search_field.val()),t("body").append(e),r=e.width()+25,e.remove(),i=this.container.outerWidth(),r>i-10&&(r=i-10),this.search_field.css({width:r+"px"})}},s}(AbstractChosen),i.Chosen=e}.call(this),$(document).ready(function(){var t=$(".tagit-label");"undefined"!=typeof t&&0!=t.length&&$(".ui-widget-content.ui-autocomplete-input").attr("placeholder",""),null!=window.location.href.match("#our-jobs")&&setTimeout(function(){$("html, body").animate({scrollTop:$(".jobs").offset().top-60},1500)},500)}),$(document).ready(function(){function t(){return length=500-$("#job_application_advantages").val().length,0>length?!1:!0}length=$("#job_application_advantages").val()?500-$("#job_application_advantages").val().length:500,500>length&&$(".text_remaining").html("<div class='number'>"+length+"</div>"+"<div class='text'>&nbspof 500 characters remaining</div>"),$(".apply_now_bottom, .apply_now").click(function(){$(window).scrollTop(0),$(".apply_form").show().animate({top:50},500,"easeOutBounce")}),$(".close, .cancel, .go_back_to_your_search, .go_back_to_this_job").click(function(){$(".apply_form").fadeOut(250),$(".apply_form").css("top",25)}),$("#job_application_advantages").keyup(function(){length=500-$("#job_application_advantages").val().length,t()?($(".text_remaining").removeClass("red error"),$(".text_remaining").html("<div class='number'>"+length+"</div>"+"<div class='text'>&nbspof 500 characters remaining</div>")):($(".job_application_advantages .valid_hint").addClass("hidden"),$(".text_remaining").addClass("red error"),$(".text_remaining").html("<div>"+length+"&nbspof 500 characters remaining</div>"))
}),$("#job_application_advantages").blur(function(){t()})}),$(document).ready(function(){$(".contact-us").click(function(){Popup.showPopup({id:"contact_form",width:"600"})}),$("#post_job_form").submit(function(){var t=$(this);t.isValid(ClientSideValidations.forms.post_job_form.validators)&&(t.find("input").each(function(t,e){var i=$(e),n=i.attr("name");n&&(match=n.match(/\[(.+)\]/))&&i.attr("name",match[1])}),$(window).scrollTop(0),Popup.hidePopup("#contact_form"),Popup.showPopup({id:"employer_registration_thankyou",width:"650"}))})}),$(function(){function t(t){userVoiceLoaded||$.getScript(userVoiceURL,function(){userVoiceLoaded=!0,t&&t()})}userVoiceURL=("https:"==document.location.protocol?"https://":"http://")+"//widget.uservoice.com/ybeF60x5BNnqnB8NH5JwYg.js",userVoiceLoaded=!1,window.setTimeout(t,8e3),$(".uservoice_link").click(function(){})}),function(){var t,e,i,n,s=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};t=jQuery,t.fn.disableClientSideValidations=function(){return ClientSideValidations.disable(this),this},t.fn.enableClientSideValidations=function(){return this.filter(ClientSideValidations.selectors.forms).each(function(){return ClientSideValidations.enablers.form(this)}),this.filter(ClientSideValidations.selectors.inputs).each(function(){return ClientSideValidations.enablers.input(this)}),this},t.fn.resetClientSideValidations=function(){return this.filter(ClientSideValidations.selectors.forms).each(function(){return ClientSideValidations.reset(this)}),this},t.fn.validate=function(){return this.filter(ClientSideValidations.selectors.forms).each(function(){return t(this).enableClientSideValidations()}),this},t.fn.isValid=function(s){var o;return o=t(this[0]),o.is("form")?i(o,s):e(o,n(this[0].name,s))},n=function(t,e){return t=t.replace(/_attributes\]\[\w+\]\[(\w+)\]/g,"_attributes][][$1]"),e[t]||{}},i=function(e,i){var n;return e.trigger("form:validate:before.ClientSideValidations"),n=!0,e.find(ClientSideValidations.selectors.validate_inputs).each(function(){return t(this).isValid(i)||(n=!1),!0}),n?e.trigger("form:validate:pass.ClientSideValidations"):e.trigger("form:validate:fail.ClientSideValidations"),e.trigger("form:validate:after.ClientSideValidations"),n},e=function(e,i){var n,s,o,a,r,l,h;return e.trigger("element:validate:before.ClientSideValidations"),l=function(){return e.trigger("element:validate:pass.ClientSideValidations").data("valid",null)},a=function(t){return e.trigger("element:validate:fail.ClientSideValidations",t).data("valid",!1),!1},n=function(){return e.trigger("element:validate:after.ClientSideValidations").data("valid")!==!1},o=function(t){var n,s,o,r,l,h,c,u;r=!0;for(s in t)if(n=t[s],i[s]){for(u=i[s],h=0,c=u.length;c>h;h++)if(l=u[h],o=n.call(t,e,l)){r=a(o);break}if(!r)break}return r},s=e.attr("name").replace(/\[([^\]]*?)\]$/,"[_destroy]"),"1"===t("input[name='"+s+"']").val()?(l(),n()):e.data("changed")===!1?n():(e.data("changed",!1),r=ClientSideValidations.validators.local,h=ClientSideValidations.validators.remote,o(r)&&o(h)&&l(),n())},void 0===window.ClientSideValidations&&(window.ClientSideValidations={}),void 0===window.ClientSideValidations.forms&&(window.ClientSideValidations.forms={}),window.ClientSideValidations.selectors={inputs:':input:not(button):not([type="submit"])[name]:enabled',validate_inputs:":input:enabled[data-validate]",forms:"form[data-validate]"},window.ClientSideValidations.reset=function(e){var i,n;i=t(e),ClientSideValidations.disable(e);for(n in e.ClientSideValidations.settings.validators)e.ClientSideValidations.removeError(i.find("[name='"+n+"']"));return ClientSideValidations.enablers.form(e)},window.ClientSideValidations.disable=function(e){var i;return i=t(e),i.off(".ClientSideValidations"),i.is("form")?ClientSideValidations.disable(i.find(":input")):(i.removeData("valid"),i.removeData("changed"),i.filter(":input").each(function(){return t(this).removeAttr("data-validate")}))},window.ClientSideValidations.enablers={form:function(e){var i,n,s,o;i=t(e),e.ClientSideValidations={settings:window.ClientSideValidations.forms[i.attr("id")],addError:function(t,i){return ClientSideValidations.formBuilders[e.ClientSideValidations.settings.type].add(t,e.ClientSideValidations.settings,i)},removeError:function(t){return ClientSideValidations.formBuilders[e.ClientSideValidations.settings.type].remove(t,e.ClientSideValidations.settings)}},o={"submit.ClientSideValidations":function(t){return i.isValid(e.ClientSideValidations.settings.validators)?void 0:(t.preventDefault(),t.stopImmediatePropagation())},"ajax:beforeSend.ClientSideValidations":function(t){return t.target===this?i.isValid(e.ClientSideValidations.settings.validators):void 0},"form:validate:after.ClientSideValidations":function(t){return ClientSideValidations.callbacks.form.after(i,t)},"form:validate:before.ClientSideValidations":function(t){return ClientSideValidations.callbacks.form.before(i,t)},"form:validate:fail.ClientSideValidations":function(t){return ClientSideValidations.callbacks.form.fail(i,t)},"form:validate:pass.ClientSideValidations":function(t){return ClientSideValidations.callbacks.form.pass(i,t)}};for(s in o)n=o[s],i.on(s,n);return i.find(ClientSideValidations.selectors.inputs).each(function(){return ClientSideValidations.enablers.input(this)})},input:function(e){var i,n,s,o,a,r;n=t(e),a=e.form,i=t(a),r={"focusout.ClientSideValidations":function(){return t(this).isValid(a.ClientSideValidations.settings.validators)},"change.ClientSideValidations":function(){return"job_application_cv"==this.id?(t(this).data("changed",!0),t(this).isValid(a.ClientSideValidations.settings.validators)):t(this).data("changed",!0)},"element:validate:after.ClientSideValidations":function(e){return ClientSideValidations.callbacks.element.after(t(this),e)},"element:validate:before.ClientSideValidations":function(e){return ClientSideValidations.callbacks.element.before(t(this),e)},"element:validate:fail.ClientSideValidations":function(e,i){var n;return n=t(this),ClientSideValidations.callbacks.element.fail(n,i,function(){return a.ClientSideValidations.addError(n,i)},e)},"element:validate:pass.ClientSideValidations":function(e){var i;return i=t(this),ClientSideValidations.callbacks.element.pass(i,function(){return a.ClientSideValidations.removeError(i)},e)}};for(o in r)s=r[o],n.filter(":not(:radio):not([id$=_confirmation])").each(function(){return t(this).attr("data-validate",!0)}).on(o,s);return n.filter(":checkbox").on("click.ClientSideValidations",function(){return t(this).isValid(a.ClientSideValidations.settings.validators),!0}),n.filter("[id$=_confirmation]").each(function(){var e,n,r,l;if(e=t(this),n=i.find("#"+this.id.match(/(.+)_confirmation/)[1]+":input"),n[0]){r={"focusout.ClientSideValidations":function(){return n.data("changed",!0).isValid(a.ClientSideValidations.settings.validators)},"keyup.ClientSideValidations":function(){return n.data("changed",!0).isValid(a.ClientSideValidations.settings.validators)}},l=[];for(o in r)s=r[o],l.push(t("#"+e.attr("id")).on(o,s));return l}})}},window.ClientSideValidations.validators={all:function(){return jQuery.extend({},ClientSideValidations.validators.local,ClientSideValidations.validators.remote)},local:{presence:function(t,e){return/^\s*$/.test(t.val()||"")?e.message:void 0},acceptance:function(t,e){var i;switch(t.attr("type")){case"checkbox":if(!t.prop("checked"))return e.message;break;case"text":if(t.val()!==((null!=(i=e.accept)?i.toString():void 0)||"1"))return e.message}},format:function(t,e){var i;if(i=this.presence(t,e)){if(e.allow_blank===!0)return;return i}return e["with"]&&!e["with"].test(t.val())?e.message:e.without&&e.without.test(t.val())?e.message:void 0},numericality:function(e,i){var n,s,o,a,r,l,h;if(h=jQuery.trim(e.val()),!ClientSideValidations.patterns.numericality.test(h)){if(i.allow_blank===!0&&this.presence(e,{message:i.messages.numericality}))return;return i.messages.numericality}if(h=h.replace(new RegExp("\\"+ClientSideValidations.number_format.delimiter,"g"),"").replace(new RegExp("\\"+ClientSideValidations.number_format.separator,"g"),"."),i.only_integer&&!/^[+-]?\d+$/.test(h))return i.messages.only_integer;n={greater_than:">",greater_than_or_equal_to:">=",equal_to:"==",less_than:"<",less_than_or_equal_to:"<="},r=t(e[0].form);for(s in n)if(l=n[s],null!=i[s]){if(!isNaN(parseFloat(i[s]))&&isFinite(i[s]))o=i[s];else{if(1!==r.find("[name*="+i[s]+"]").size())return;o=r.find("[name*="+i[s]+"]").val()}if(a=new Function("return "+h+" "+l+" "+o),!a())return i.messages[s]}return!i.odd||parseInt(h,10)%2?i.even&&parseInt(h,10)%2?i.messages.even:void 0:i.messages.odd},length:function(t,e){var i,n,s,o,a,r,l,h;if(h=e.js_tokenizer||"split('')",l=new Function("element","return (element.val()."+h+" || '').length")(t),i={is:"==",minimum:">=",maximum:"<="},n={},n.message=e.is?e.messages.is:e.minimum?e.messages.minimum:void 0,a=this.presence(t,n)){if(e.allow_blank===!0)return;return a}for(s in i)if(r=i[s],e[s]&&(o=new Function("return "+l+" "+r+" "+e[s]),!o()))return e.messages[s]},exclusion:function(t,e){var i,n,o,a,r;if(n=this.presence(t,e)){if(e.allow_blank===!0)return;return n}return e["in"]&&(r=t.val(),s.call(function(){var t,i,n,s;for(n=e["in"],s=[],t=0,i=n.length;i>t;t++)o=n[t],s.push(o.toString());return s}(),r)>=0)?e.message:e.range&&(i=e.range[0],a=e.range[1],t.val()>=i&&t.val()<=a)?e.message:void 0},inclusion:function(t,e){var i,n,o,a,r;if(n=this.presence(t,e)){if(e.allow_blank===!0)return;return n}if(e["in"]){if(r=t.val(),s.call(function(){var t,i,n,s;for(n=e["in"],s=[],t=0,i=n.length;i>t;t++)o=n[t],s.push(o.toString());return s}(),r)>=0)return;return e.message}if(e.range){if(i=e.range[0],a=e.range[1],t.val()>=i&&t.val()<=a)return;return e.message}},confirmation:function(t,e){return t.val()!==jQuery("#"+t.attr("id")+"_confirmation").val()?e.message:void 0},uniqueness:function(e,i){var n,s,o,a,r,l,h;return o=e.attr("name"),/_attributes\]\[\d/.test(o)&&(s=o.match(/^(.+_attributes\])\[\d+\](.+)$/),a=s[1],r=s[2],h=e.val(),a&&r&&(n=e.closest("form"),l=!0,n.find(':input[name^="'+a+'"][name$="'+r+'"]').each(function(){if(t(this).attr("name")!==o){if(t(this).val()===h)return l=!1,t(this).data("notLocallyUnique",!0);if(t(this).data("notLocallyUnique"))return t(this).removeData("notLocallyUnique").data("changed",!0)}}),!l))?i.message:void 0}},remote:{uniqueness:function(t,e){var i,n,s,o,a,r,l,h;if(s=ClientSideValidations.validators.local.presence(t,e)){if(e.allow_blank===!0)return;return s}if(i={},i.case_sensitive=!!e.case_sensitive,e.id&&(i.id=e.id),e.scope){i.scope={},h=e.scope;for(n in h)a=h[n],l=t.attr("name").replace(/\[\w+\]$/,"["+n+"]"),r=jQuery("[name='"+l+"']"),jQuery("[name='"+l+"']:checkbox").each(function(){return this.checked?r=this:void 0}),r[0]&&r.val()!==a?(i.scope[n]=r.val(),r.unbind("change."+t.id).bind("change."+t.id,function(){return t.trigger("change.ClientSideValidations"),t.trigger("focusout.ClientSideValidations")})):i.scope[n]=a}return/_attributes\]/.test(t.attr("name"))?(o=t.attr("name").match(/\[\w+_attributes\]/g).pop().match(/\[(\w+)_attributes\]/).pop(),o+=/(\[\w+\])$/.exec(t.attr("name"))[1]):o=t.attr("name"),e["class"]&&(o=e["class"]+"["+o.split("[")[1]),i[o]=t.val(),200===jQuery.ajax({url:ClientSideValidations.remote_validators_url_for("uniqueness"),data:i,async:!1,cache:!1}).status?e.message:void 0}}},window.ClientSideValidations.remote_validators_url_for=function(t){return null!=ClientSideValidations.remote_validators_prefix?"//"+window.location.host+"/"+ClientSideValidations.remote_validators_prefix+"/validators/"+t:"//"+window.location.host+"/validators/"+t},window.ClientSideValidations.disableValidators=function(){var t,e,i,n;if(void 0!==window.ClientSideValidations.disabled_validators){i=window.ClientSideValidations.validators.remote,n=[];for(e in i)t=i[e],-1!==window.ClientSideValidations.disabled_validators.indexOf(e)?n.push(delete window.ClientSideValidations.validators.remote[e]):n.push(void 0);return n}},window.ClientSideValidations.formBuilders={"ActionView::Helpers::FormBuilder":{add:function(e,i,n){var s,o,a,r;return s=t(e[0].form),e.data("valid")!==!1&&null==s.find("label.message[for='"+e.attr("id")+"']")[0]&&(o=jQuery(i.input_tag),r=jQuery(i.label_tag),a=s.find("label[for='"+e.attr("id")+"']:not(.message)"),e.attr("autofocus")&&e.attr("autofocus",!1),e.before(o),o.find("span#input_tag").replaceWith(e),o.find("label.message").attr("for",e.attr("id")),r.find("label.message").attr("for",e.attr("id")),r.insertAfter(a),r.find("label#label_tag").replaceWith(a)),s.find("label.message[for='"+e.attr("id")+"']").text(n)},remove:function(e,i){var n,s,o,a,r;return s=t(e[0].form),n=jQuery(i.input_tag).attr("class"),o=e.closest("."+n.replace(" ",".")),a=s.find("label[for='"+e.attr("id")+"']:not(.message)"),r=a.closest("."+n),o[0]?(o.find("#"+e.attr("id")).detach(),o.replaceWith(e),a.detach(),r.replaceWith(a)):void 0}}},window.ClientSideValidations.patterns={numericality:/^(-|\+)?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d*)?$/},window.ClientSideValidations.callbacks={element:{after:function(){},before:function(){},fail:function(t,e,i){return i()},pass:function(t,e){return e()}},form:{after:function(){},before:function(){},fail:function(){},pass:function(){}}},t(function(){return ClientSideValidations.disableValidators(),t(ClientSideValidations.selectors.forms).validate()})}.call(this),/*
  Client Side Validations - SimpleForm - v2.1.0
  https://github.com/dockyard/client_side_validations-simple_form

  Copyright (c) 2013 DockYard, LLC
  Licensed under the MIT license
  http://www.opensource.org/licenses/mit-license.php
*/
function(){ClientSideValidations.formBuilders["SimpleForm::FormBuilder"]={add:function(t,e,i){return this.wrappers[e.wrapper].add.call(this,t,e,i)},remove:function(t,e){return this.wrappers[e.wrapper].remove.call(this,t,e)},wrappers:{"default":{add:function(t,e,i){var n,s;return n=t.parent().find(""+e.error_tag+"."+e.error_class),s=t.closest(e.wrapper_tag),null==n[0]&&(n=$("<"+e.error_tag+"/>",{"class":e.error_class,text:i}),s.append(n)),s.addClass(e.wrapper_error_class),n.text(i)},remove:function(t,e){var i,n;return n=t.closest(""+e.wrapper_tag+"."+e.wrapper_error_class),n.removeClass(e.wrapper_error_class),i=n.find(""+e.error_tag+"."+e.error_class),i.remove()}},bootstrap:{add:function(t,e,i){var n,s,o;return n=t.parent().find(""+e.error_tag+"."+e.error_class),null==n[0]&&(o=t.closest(e.wrapper_tag),n=$("<"+e.error_tag+"/>",{"class":e.error_class,text:i}),o.append(n)),s=t.closest("."+e.wrapper_class),s.addClass(e.wrapper_error_class),n.text(i)},remove:function(t,e){var i,n,s;return n=t.closest("."+e.wrapper_class+"."+e.wrapper_error_class),s=t.closest(e.wrapper_tag),n.removeClass(e.wrapper_error_class),i=s.find(""+e.error_tag+"."+e.error_class),i.remove()}}}}}.call(this),$(document).ready(function(){window.ClientSideValidations.callbacks.element.fail=function(t,e,i){i(),t.siblings(".valid_hint").remove()},window.ClientSideValidations.callbacks.element.pass=function(t,e){e(),t.siblings(".valid_hint").remove(),"hidden"!=t.attr("type")&&t.parent().append("<div class='valid_hint'>Looks good</div>")},window.ClientSideValidations.validators.local.attachment_content_type=function(t,e){var i=$(t)[0].files[0],n="";return n=void 0===i?"not found":i.type,e.content_type.indexOf(n)<0?e.message:void 0},window.ClientSideValidations.validators.local.attachment_size=function(t,e){var i=$(t)[0].files[0];return i.size>e.less_than?e.messages.numericality:void 0},$("#job_application_cv").change(function(){$("input.fake_file").val($(this).val().split("\\").reverse()[0]),$("input.fake_file").addClass("darker_new_cv_field"),$(this).focusout()})}),/*!
* Clamp.js 0.5.1
*
* Copyright 2011-2013, Joseph Schmitt http://joe.sh
* Released under the WTFPL license
* http://sam.zoy.org/wtfpl/
*/
function(){window.$clamp=function(t,e){function i(t,e){return c.getComputedStyle||(c.getComputedStyle=function(t){return this.el=t,this.getPropertyValue=function(e){var i=/(\-([a-z]){1})/g;return"float"==e&&(e="styleFloat"),i.test(e)&&(e=e.replace(i,function(t,e,i){return i.toUpperCase()})),t.currentStyle&&t.currentStyle[e]?t.currentStyle[e]:null},this}),c.getComputedStyle(t,null).getPropertyValue(e)}function n(e){e=e||t.clientHeight;var i=o(t);return Math.max(Math.floor(e/i),0)}function s(e){return o(t)*e}function o(t){var e=i(t,"line-height");return"normal"==e&&(e=1.2*parseInt(i(t,"font-size"))),parseInt(e)}function a(e){return e.lastChild.children&&0<e.lastChild.children.length?a(Array.prototype.slice.call(e.children).pop()):e.lastChild&&e.lastChild.nodeValue&&""!=e.lastChild.nodeValue&&e.lastChild.nodeValue!=u.truncationChar?e.lastChild:(e.lastChild.parentNode.removeChild(e.lastChild),a(t))}function r(e,i){if(i){var n=e.nodeValue.replace(u.truncationChar,"");if(v||($=0<b.length?b.shift():"",v=n.split($)),1<v.length?(_=v.pop(),l(e,v.join($))):v=null,h&&(e.nodeValue=e.nodeValue.replace(u.truncationChar,""),t.innerHTML=e.nodeValue+" "+h.innerHTML+u.truncationChar),v){if(t.clientHeight<=i){if(!(0<=b.length&&""!=$))return t.innerHTML;l(e,v.join($)+$+_),v=null}}else""==$&&(l(e,""),e=a(t),b=u.splitOnChars.slice(0),$=b[0],_=v=null);if(!u.animate)return r(e,i);setTimeout(function(){r(e,i)},!0===u.animate?10:u.animate)}}function l(t,e){t.nodeValue=e+u.truncationChar}e=e||{};var h,c=window,u={clamp:e.clamp||2,useNativeClamp:"undefined"!=typeof e.useNativeClamp?e.useNativeClamp:!0,splitOnChars:e.splitOnChars||[".","-","–","—"," "],animate:e.animate||!1,truncationChar:e.truncationChar||"…",truncationHTML:e.truncationHTML},d=t.style,p=t.innerHTML,f="undefined"!=typeof t.style.webkitLineClamp,m=u.clamp,g=m.indexOf&&(-1<m.indexOf("px")||-1<m.indexOf("em"));u.truncationHTML&&(h=document.createElement("span"),h.innerHTML=u.truncationHTML);var v,_,b=u.splitOnChars.slice(0),$=b[0];"auto"==m?m=n():g&&(m=n(parseInt(m)));var y;return f&&u.useNativeClamp?(d.overflow="hidden",d.textOverflow="ellipsis",d.webkitBoxOrient="vertical",d.display="-webkit-box",d.webkitLineClamp=m,g&&(d.height=u.clamp+"px")):(d=s(m),d<=t.clientHeight&&(y=r(a(t),d))),{original:p,clamped:y}}}(),function(){this.PageHeader=function(){function t(t){this.pageHeaderSelector=t,this.shrinked=!1}return t.prototype.scroll=function(t){return this.shouldShrink(t)?this.shrink():this.shouldUnshrink(t)?this.unshrink():void 0},t.prototype.shouldShrink=function(t){return this.shrinked===!1&&t>60&&!window.isInMobile()},t.prototype.shrink=function(){return $(this.pageHeaderSelector).addClass("shrink"),this.shrinked=!0},t.prototype.shouldUnshrink=function(t){return this.shrinked===!0&&60>=t&&!window.isInMobile()},t.prototype.unshrink=function(){return $(this.pageHeaderSelector).removeClass("shrink"),this.shrinked=!1},t}()}.call(this),function(){var t;this.stop_current_video=function(){var t;return t=$(".carousel .carousel-inner .item.active iframe"),t.length>0?t[0].contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*"):void 0},t=function(){var t,e,i;return 0===$("#job_employer_id").length?!1:(i=$("#job_employer_id").get(0),t=$(i.options[i.selectedIndex]),e={value_job_credit:t.data("value-job-credit"),trial_job_credit:t.data("trial-job-credit"),premium_job_credit:t.data("premium-job-credit"),district:t.data("district")},$("#job_credit_type_3").length&&($("#job_credit_type_3").parent().contents()[1].nodeValue="Hot job (Remaining "+e.premium_job_credit+")"),$("#job_credit_type_2").length&&($("#job_credit_type_2").parent().contents()[1].nodeValue="Regular job (Remaining "+e.value_job_credit+")"),$("#job_credit_type_1").length&&($("#job_credit_type_1").parent().contents()[1].nodeValue="Trial job (Remaining "+e.trial_job_credit+")"),$("span.employer-no-credit").remove(),e.premium_job_credit<=0&&e.value_job_credit<=0&&e.trial_job_credit<=0?$("#job_employer_id_chzn").append("<span class='employer-no-credit'>This employer doesn't have any credit</span>"):void 0)},$(document).ready(function(){var e,i,n,s,o,a,r,l,h,c;return $(".jd-photos").on("click",function(){return Popup.showPopup({id:"jd-photo-slider",width:660}),$(".carousel").carousel({interval:!1}),$(".carousel").removeClass("slide"),$(".carousel").carousel($(this).data("index")),$(".carousel").addClass("slide"),$(".carousel .carousel-control").click(function(){return stop_current_video()})}),$("#homepage").data("unsubscribed")&&Popup.showPopup({id:"unsubscribed",width:550}),$(".job_credit_type_premium").data("checked")===!0?$(".job_credit_type_premium").prop("checked",!0):$(".job_credit_type_value").data("checked")===!0&&$(".job_credit_type_value").prop("checked",!0),$("#job_employer_id_input").append('<a class="go-to-profile" href="" target="_blank"></a>'),$("#job_employer_id").change(function(){var e,i,n,s,o,a,r,l,h,c,u,d;if(o=$(this).get(0),e=$(o.options[o.selectedIndex]),n={short_description:e.data("short-description"),long_description:e.data("long-description"),culture_description:e.data("culture-description"),email:e.data("employer-email"),company_type:e.data("employer-company-type"),facebook_url:e.data("employer-facebook-url"),website_url:e.data("employer-website-url"),management:e.data("employer-management"),size:e.data("employer-size"),reason_to_join1:e.data("employer-reason-to-join1"),reason_to_join2:e.data("employer-reason-to-join2"),reason_to_join3:e.data("employer-reason-to-join3"),profile_complete:e.data("employer-profile-complete"),enable_premium:e.data("enable-premium"),value_job_credit:e.data("value-job-credit"),trial_job_credit:e.data("trial-job-credit"),premium_job_credit:e.data("premium-job-credit"),city:e.data("city"),district:e.data("district"),slug:e.data("employer-slug"),name:e.data("employer-name"),street_name:e.data("street-name"),street_number:e.data("street-number")},null!=n.name)for($("#job_employer_id_input a.go-to-profile").text("Go to "+n.name+" Employer Profile Page ("+n.profile_complete+" complete)"),h=TinyMCE_editor.ids.filter(function(t){return t.startsWith("job_employer")}),u=0,d=h.length;d>u;u++)l=h[u],tinyMCE.get(l)&&(i=l.slice(13),tinyMCE.get(l).setContent(n[i]),c=function(){return $("#"+l).trigger("bootstrap-limit:initialized")},setTimeout(c,100));if($("#job_employer_id_input a.go-to-profile").attr("href",n.slug),"new"===$("form").data("form-type")){for(a in n)r=n[a],$("#job_employer_"+a+"_input").removeClass("hidden"),$("#job_employer_"+a).val(r).change();$("#job_city").val(n.city),$("#job_street_name").val(n.street_name),$("#job_street_number").val(n.street_number),$("#job_city").trigger("liszt:updated"),s=new DistrictBinding("#job_city","#job_address"),s.reloadDistricts(),s.setDistrict(n.district)}return null!=n.company_type&&""!==n.company_type?$("li#job_company_type_input").hide():$("li#job_company_type_input").show(),null!=n.facebook_url&&""!==n.facebook_url?$("li#job_facebook_url_input").hide():$("li#job_facebook_url_input").show(),null!=n.website_url&&""!==n.website_url?$("li#job_website_url_input").hide():$("li#job_website_url_input").show(),null!=n.management&&""!==n.management?$("li#job_management_input").hide():$("li#job_management_input").show(),null!=n.size&&""!==n.size?$("li#job_size_input").hide():$("li#job_size_input").show(),null!=n.reason_to_join1&&""!==n.reason_to_join1?$("li#job_reason_to_join1_input").hide():$("li#job_reason_to_join1_input").show(),null!=n.reason_to_join2&&""!==n.reason_to_join2?$("li#job_reason_to_join2_input").hide():$("li#job_reason_to_join2_input").show(),null!=n.reason_to_join3&&""!==n.reason_to_join3?$("li#job_reason_to_join3_input").hide():$("li#job_reason_to_join3_input").show(),t(),s=new DistrictBinding("#job_city","#job_address"),s.reloadDistricts(),s.setDistrict(n.district)}),t(),$("#job_primary_category_key, #job_secondary_category_id").change(function(){var t,e;return t=$(this).next(".chzn-container").find("a.chzn-single span"),e=t.text(),t.text(e.substr(0,e.indexOf("(")))}),$("#job_form").submit(function(){var t,e,i;return i=c(),t=$("input#term").is(":checked"),e=window.ClientSideValidations.validators.local.second_city.call($(this),"Second city must be different"),t||$(".term_error").removeClass("hidden"),i&&$(this).isValid(ClientSideValidations.forms.job_form.validators)&&t&&e?!0:(Popup.showPopup({id:"job_form_errors",width:550}),!1)}),$("#job_skill_tag_ids").change(function(){return c()}),c=function(){var t,e,i;if(t=$("#job_skill_tag_ids"),e=t.val(),i=t.next(".skill-tags-limit-warning"),e&&e.length>3)e.pop(),t.val(e),t.trigger("liszt:updated"),0===i.length?t.after("<div class='skill-tags-limit-warning'>Limit 3 skill tags</div>"):i.text("Limit 3 skill tags");else{if(e)return!0;0===i.length?t.after("<div class='skill-tags-limit-warning'>Choose at least 1 skill tag</div>"):i.text("Choose at least 1 skill tag")}return!1},$(".formtastic.job input[maxlength], .formtastic.job textarea[maxlength], .formtastic.employer input[data-maxlength], .formtastic.employer textarea[maxlength]").each(function(){var t,e,i,n,s;return t=$(this),n=t.attr("maxlength"),i=t.attr("id")+"_counter",s=i+"_wrapper",e="#932419",t.after("<p id='"+s+"' class='char-counter'><span id='"+i+"'></span> of "+n+" characters remaining</p>").limit({counter:"#"+i,color:e,threshold:0,removeMaxLengthAttr:!0}).bind("bootstrap-limit:crossed",function(){return $("#"+s).css("color",e)}).bind("bootstrap-limit:uncrossed",function(){return $("#"+s).css("color","")}).bind("bootstrap-limit:initialized",function(){var t,e;return t=$(this).val(),e=n-$("<div>"+t+"</div>").text().length,$("#"+i).text(e)})}),$("input#term").change(function(){var t;return t=$("input#term").is(":checked"),t?$(".term_error").addClass("hidden"):void 0}),$("#scrolltop").click(function(){return $("html, body").animate({scrollTop:0},1e3,"easeOutExpo")}),$(window).scroll(function(){return $(this).scrollTop()>800?$("#scrolltop").fadeIn(600):$("#scrolltop").fadeOut(600)}),$(".confirm input#confirm").change(function(){var t;return t=$(this),t.is(":checked")?$("#submit-button").removeAttr("disabled"):$("#submit-button").attr("disabled",!0)}),e=function(t){var e,i,n,s;for(i=window.location.search.substring(1),s=i.split("&"),e=0;e<s.length;){if(n=s[e].split("="),n[0]===t)return n[1];e++}},a=e("scroll_to"),a?(l=$("#job_"+a),l.length>0&&($("html, body").animate({scrollTop:l.offset().top-1e3},0),$("html, body").animate({scrollTop:l.offset().top-80},2e3,"easeOutExpo"))):r=setInterval(function(){$("html, body").animate({scrollTop:0},0,function(){return clearInterval(r)})},1),$(".one-click-launch").click(function(){var t=this;return $(this).val("Launching"),setInterval(function(){var e,i;return i=$(t).val(),e="Launching...",i===e?i="Launching":i+=".",$(t).val(i)},700),!0}),$(".job_application form#apply_form").submit(function(){var t;return h($(this))?(t="Launching",$(this).children(".actions").children("input[type=submit]").val(t),$(this).children(".actions").children("input[type=submit]").css("width","180px"),$(this).children(".actions").children("input[type=submit]").css("text-align","left"),$(this).children(".actions").children("input[type=submit]").attr("disabled",!0),i(),!0):!1}),$(".apply-button-gray").on("click",function(t){return Popup.showPopupWithoutAnimation({id:"block_abusing_ip",width:450,top:200}),t.preventDefault()}),n="Launching...",i=function(){var t;return t=setInterval(function(){var t,e;return t=$(".job_application form#apply_form .actions input[type=submit]"),e=t.val(),e===n?e="Launching":e+=".",t.val(e)},700)},h=function(t){var e,i;return i=t.children(".job_application_advantages").children("textarea"),e=500-i.val().length,0>e?!1:!0},$(".pageHeader").length>0&&(s=new PageHeader(".pageHeader"),$(window).scroll(function(){return s.scroll($(this).scrollTop())})),$(".skill-tag-backup ul").length>0&&$(".skill-tag-backup ul").tagit(),$("#job_mail_description form#job-mail").bind("ajax:complete",function(t,e){var i;200===e.status&&(Popup.hidePopup("job_mail_description"),i=$("#jr_jd_confirmation_wrapper"),i.html(e.responseText),Popup.registerPopupEvent(),$(this).parents(".popup").length>0?Popup.showPopupWithoutAnimation({id:"jr_jd_confirmation",width:650}):Popup.showPopup({id:"jr_jd_confirmation",width:650}))}),o=function(){var t;return t=document.createElement("style"),t.type="text/css",t.innerHTML="#new_email_confirmation .valid_hint{display:block !important;}#new_email_confirmation .error{display:block !important;}",$("head").append(t)},$("#new_email_confirmation #email_confirmation_email").length>0?($("#new_email_confirmation #email_confirmation_email").on("click",function(){return o()}),$("#new_email_confirmation input[type='submit']").on("click",function(){return o()})):void 0})}.call(this),function(t){t.fn.extend({stickyMojo:function(e){function i(){f.length?console&&console.warn?console.warn(f):alert(f):(p.el.css("left",p.stickyLeft),p.win.bind({scroll:h,resize:function(){p.el.css("left",p.stickyLeft),h()}}))}function n(){d.footerID=t(d.footerID),d.contentID=t(d.contentID)}function s(){return{limit:d.footerID.offset().top-p.stickyHeight,windowTop:p.win.scrollTop()+d.topOffset,stickyTop:p.stickyTop2-p.marg}}function o(){p.el.css({position:"fixed",top:d.topOffset})}function a(){"jobs-content"!==d.contentID.attr("id")&&("left"===d.orientation?d.contentID.css("margin-left",p.el.outerWidth(!0)):p.el.css("margin-left",d.contentID.outerWidth(!0)))}function r(){p.el.css({position:"static","margin-left":"0px"}),d.contentID.css("margin-left","0px")}function l(t){p.el.css({top:t})}function h(){var t=s(),e=t.stickyTop<t.windowTop&&p.win.width()>=p.breakPoint;if(e?(o(),a()):r(),t.limit<t.windowTop){var i=t.limit-t.windowTop;l(i)}}function c(){var t=[];for(var e in d)d[e]||t.push(d[e]);return u()&&t.push("NO IE 7"),t}function u(){return document.querySelector?!1:!0}var d=t.extend({footerID:"",contentID:"",orientation:t(this).css("float")},e),p={el:t(this),stickyLeft:t(d.contentID).outerWidth()+t(d.contentID).offset.left,stickyTop2:t(this).offset().top,stickyHeight:t(this).outerHeight(!0),contentHeight:t(d.contentID).outerHeight(!0),win:t(window),breakPoint:t(this).outerWidth(!0)+t(d.contentID).outerWidth(!0),marg:parseInt(t(this).css("margin-top"),10)},f=c();return n(),this.each(function(){i()})}})}(jQuery),function(){var t,e;t=this.jQuery||window.jQuery,e=t(window),t.fn.stick_in_parent=function(i){var n,s,o,a,r,l,h,c,u,d,p,f;for(null==i&&(i={}),f=i.sticky_class,l=i.inner_scrolling,p=i.recalc_every,d=i.parent,u=i.offset_top,c=i.spacer,o=i.bottoming,null==u&&(u=0),null==d&&(d=void 0),null==l&&(l=!0),null==f&&(f="is_stuck"),n=t(document),null==o&&(o=!0),a=function(i,s,a,r,h,m,g,v){var _,b,$,y,w,C,x,k,S,T,I,D;if(!i.data("sticky_kit")){if(i.data("sticky_kit",!0),w=n.height(),x=i.parent(),null!=d&&(x=x.closest(d)),!x.length)throw"failed to find stick parent";if($=!1,_=!1,I=null!=c?c&&i.closest(c):t("<div />"),I&&I.css("position",i.css("position")),k=function(){var t,e,o;if(!v)return w=n.height(),t=parseInt(x.css("border-top-width"),10),e=parseInt(x.css("padding-top"),10),s=parseInt(x.css("padding-bottom"),10),a=x.offset().top+t+e,r=x.height(),$&&($=!1,_=!1,null==c&&(i.insertAfter(I),I.detach()),i.css({position:"",top:"",width:"",bottom:""}).removeClass(f),o=!0),h=i.offset().top-(parseInt(i.css("margin-top"),10)||0)-u,m=i.outerHeight(!0),g=i.css("float"),I&&I.css({width:i.outerWidth(!0),height:m,display:i.css("display"),"vertical-align":i.css("vertical-align"),"float":g}),o?D():void 0},k(),m!==r)return y=void 0,C=u,T=p,D=function(){var t,d,b,S,D,E;if(!v)return b=!1,null!=T&&(T-=1,0>=T&&(T=p,k(),b=!0)),b||n.height()===w||(k(),b=!0),S=e.scrollTop(),null!=y&&(d=S-y),y=S,$?(o&&(D=S+m+C>r+a,_&&!D&&(_=!1,i.css({position:"fixed",bottom:"",top:C}).trigger("sticky_kit:unbottom"))),h>S&&($=!1,C=u,null==c&&(("left"===g||"right"===g)&&i.insertAfter(I),I.detach()),t={position:"",width:"",top:""},i.css(t).removeClass(f).trigger("sticky_kit:unstick")),l&&(E=e.height(),m+u>E&&(_||(C-=d,C=Math.max(E-m,C),C=Math.min(u,C),$&&i.css({top:C+"px"}))))):S>h&&($=!0,t={position:"fixed",top:C},t.width="border-box"===i.css("box-sizing")?i.outerWidth()+"px":i.width()+"px",i.css(t).addClass(f),null==c&&(i.after(I),("left"===g||"right"===g)&&I.append(i)),i.trigger("sticky_kit:stick")),$&&o&&(null==D&&(D=S+m+C>r+a),!_&&D)?(_=!0,"static"===x.css("position")&&x.css({position:"relative"}),i.css({position:"absolute",bottom:s,top:"auto"}).trigger("sticky_kit:bottom")):void 0},S=function(){return k(),D()},b=function(){return v=!0,e.off("touchmove",D),e.off("scroll",D),e.off("resize",S),t(document.body).off("sticky_kit:recalc",S),i.off("sticky_kit:detach",b),i.removeData("sticky_kit"),i.css({position:"",bottom:"",top:"",width:""}),x.position("position",""),$?(null==c&&(("left"===g||"right"===g)&&i.insertAfter(I),I.remove()),i.removeClass(f)):void 0},e.on("touchmove",D),e.on("scroll",D),e.on("resize",S),t(document.body).on("sticky_kit:recalc",S),i.on("sticky_kit:detach",b),setTimeout(D,0)}},r=0,h=this.length;h>r;r++)s=this[r],a(t(s));return this}}.call(this),function(){this.DistrictBinding=function(){function t(t,e,i){this.cityInputId=t,this.districtInputId=e,this.all_cities_with_districts_as_html=null!=i?i:null,this.citiesSource=$(t).data("cities"),this.districtsSource=$(t).data("districts")}return t.prototype.reloadDistricts=function(){if(""===$(this.cityInputId).val()){if(!this.all_cities_with_districts_as_html)return;return $(this.districtInputId).empty(),console.log($(this.cityInputId).data("all-cities-with-districts")),$(this.districtInputId).append($(this.cityInputId).data("all-cities-with-districts")),$(this.districtInputId).trigger("liszt:updated"),void 0}return $(this.districtInputId).empty(),$(this.districtInputId).append(this.districtsOfCityAsOptions(this.cityCode())),$(this.districtInputId).trigger("liszt:updated")},t.prototype.reloadCity=function(){var t,e,i,n,s,o;s=this.districtsSource;for(t in s)if(n=s[t],n.indexOf($(this.districtInputId).val())>=0){o=this.citiesSource;for(e in o)i=o[e],i===t&&this.setCity(e);return}},t.prototype.setCity=function(t){return $(this.cityInputId).val(t),$(this.cityInputId).trigger("liszt:updated")},t.prototype.setDistrict=function(t){return $(this.districtInputId).val(t),$(this.districtInputId).trigger("liszt:updated")},t.prototype.bindDistrictsToCity=function(){var t=this;return $(this.cityInputId).chosen().change(function(){return t.reloadDistricts()}),$(this.districtInputId).chosen().change(function(){return t.reloadCity()})},t.prototype.city=function(){return $(this.cityInputId).val()},t.prototype.cityCode=function(){return this.citiesSource[this.city()]},t.prototype.districtsOfCityAsOptions=function(t){var e,i,n;return e=this.districtsSource[t],i=new OptionConverter(e),n=i.toOptions(!0),"Select District"!==e[0]&&(n="<option value>Select District</option>"+n),n},t}()}.call(this),function(){this.OptionConverter=function(){function t(t){this.options=t}return t.prototype.toOptions=function(){return this.options.map(function(t){return"<option value='"+t+"'>"+t+"</option>"}).join("")},t}()}.call(this),"undefined"==typeof ITViec.search&&(ITViec.search={}),ITViec.search.MouseClickedFocus=function(t){this.dom=t,this.focusHandlerMethod=null,this.blurHandlerMethod=null,this.addListener()},ITViec.search.MouseClickedFocus.prototype.addListener=function(){var t=this,e="click.itviec.search.mouse_clicked_focus";$(t.dom).off(e),$(t.dom).on(e,function(e){e.stopPropagation(),t.doFocus()}),$("body").off(e),$("body").on(e,function(){t.doBlur()})},ITViec.search.MouseClickedFocus.prototype.doFocus=function(t){"function"==typeof t?this.focusHandlerMethod=t:"function"==typeof this.focusHandlerMethod&&this.focusHandlerMethod()},ITViec.search.MouseClickedFocus.prototype.doBlur=function(t){"function"==typeof t?this.blurHandlerMethod=t:"function"==typeof this.blurHandlerMethod&&this.blurHandlerMethod()},$(document).ready(function(){function t(){$(".feature").tooltip({placement:"bottom",animation:!1,trigger:"hover"}),e(".feature","bottom"),$(".logo-wrapper").tooltip({placement:"bottom",animation:!1,trigger:"hover"}),$(".ele a").tooltip({placement:"bottom",animation:!0,trigger:"hover",delay:{show:1e3}}),$(".logo-wrapper").hover(function(){$(".tooltip").css("left",parseInt($(".tooltip").css("left"))+50+"px"),$(".tooltip").css("top",parseInt($(".tooltip").css("top"))-5+"px"),$(".tooltip").css("left","5px"),$(".tooltip-arrow").css("left","50px"),$(".tooltip-inner").css("min-width","350px"),$(".tooltip-inner").css("max-width","350px"),i("bottom")})}function e(t,e){$(t).hover(function(){i(e)})}function i(t){$(".tooltip").css("opacity","1"),$(".tooltip-inner").css("background-color","#444"),n(t)}function n(t){$(".tooltip-arrow").css("border-"+t,"5px solid #444"),$(".tooltip-arrow").css("border-left","5px solid transparent"),$(".tooltip-arrow").css("border-right","5px solid transparent")}function s(){$(".stickybar").stick_in_parent({offset_top:60})}function o(){var t=$(".search_text_wrapper input.ui-widget-content").val().trim();t.length>0&&$("#search_text").tagit("createTag",t)}function a(){mouseClickedFocus=new ITViec.search.MouseClickedFocus($(".search_text_wrapper ")),mouseClickedFocus.doFocus(function(){$("#search_text").parent().find(".tagit-new input").parents(".search_text_wrapper:first").addClass("blue_search_text_wrapper")}),mouseClickedFocus.doBlur(function(){$("#search_text").parent().find(".tagit-new input").parents(".search_text_wrapper:first").removeClass("blue_search_text_wrapper")}),$("#search").find("#search_text").parent().find(".tagit-new input").focus()}function r(){function e(t){"undefined"!=typeof t&&t&&$(".hiring-now-align-space-wrapper").addClass("hidden")}$(".more-jobs-link").click(function(){$(this).hasClass("company")?$(this).text("Loading More Companies..."):$(this).text("Loading More Jobs...")}),$(".more-jobs-link").bind("ajax:complete",function(i,n){var s=$("<div></div>").hide().html(n.responseJSON.jobs_html);s.insertBefore("#show-more-wrapper"),s.slideDown({duration:"slow",progress:function(){$(".stickybar").trigger("sticky_kit:recalc")}}),$("#show-more-wrapper").html(n.responseJSON.show_more_html);var o=$("#show-more-wrapper").find("#show_more").hasClass("hidden");e(o),Popup.registerPopupEvent(),r(),t()}),$(".more-jobs-link").bind("ajax:error",function(){alert("Cannot load more jobs. Please refresh the page.")})}function l(){function t(t){200==t.status?(Popup.hidePopup("job_mail_subscribe"),wrapper=$("#job_mail_thankyou_wrapper"),wrapper.html(t.responseText),Popup.registerPopupEvent(),$(this).parents(".popup").length>0?Popup.showPopupWithoutAnimation({id:"job_mail_thankyou",width:600}):Popup.showPopup({id:"job_mail_thankyou",width:600})):console.log(t)}$("form#job-mail").each(function(){$(this).enableClientSideValidations()}),$("#job_mail_subscribe form#job-mail").bind("ajax:complete",function(e,i){t(i)}),$("#job-mail-link form#job-mail").bind("ajax:complete",function(e,i){t(i)})}function h(){$("form.job-mail.jr_promotion#job-mail").bind("ajax:success",function(t,e){city=$(this).find("input#job_mail_city").val(),query=$(this).find("input#job_mail_query").val(),p(city,query),f(),$this=$(this),$(this).parents(".jr-promotion-container").children().fadeOut(500),setTimeout(function(){$this.parents(".jr-promotion-container").html(e),$(".jr-promotion-container .thankyou-wrapper").fadeIn(1500)},300),setTimeout(function(){$("#job-robot-promotion").addClass("minimize"),$("#job-robot-promotion").addClass("show-icon")},8e3)})}function c(){$(".jr-promotion-subscribe-form .jr-promotion-close .close").click(function(){$(this).parents("#job-robot-promotion").addClass("minimize"),$(this).parents("#job-robot-promotion").addClass("show-icon"),f()})}function u(){$(".jr-promotion-minimize-form .content .title").click(function(){$(this).parents("#job-robot-promotion").removeClass("minimize"),$(this).parents("#job-robot-promotion").removeClass("maximize"),$(this).parents("#job-robot-promotion").addClass("delay"),$(this).parents("#job-robot-promotion").removeClass("show-icon")})}function d(){$.cookie.json=!0}function p(t,e){value={city:t,query:e},$.cookie("jrSubmission",value,{expires:90,path:"/search"})}function f(){$.cookie("jrDisable","Disable JR Promotion",{expires:3,path:"/search"})}function m(t){city=$(t).find("input#job_mail_city").val(),query=$(t).find("input#job_mail_query").val(),v(city,query)&&$(t).addClass("maximize")}function g(t,e,i){return!($.cookie(t).city==e&&$.cookie(t).query==i)}function v(t,e){return"undefined"!=typeof $.cookie("jrSubmission")&&!g("jrSubmission",t,e)||"undefined"!=typeof $.cookie("jrDisable")?!1:!0}$(".company-logos li a img").tooltip({placement:"top",trigger:"hover",animation:!1}),e(".company-logos li a img","top"),t(),s(),$(".stick#job-mail-link").length>0&&$("#footer-sticky").length>0&&$(".stick#job-mail-link").stickyMojo({footerID:"#footer-sticky",contentID:"#jobs-content",topOffset:10}),$(window).scroll(function(){"fixed"===$(".stick#job-mail-link").css("position")?(leftPosition=$(".employer-container").offset().left,$(".stick#job-mail-link").css("left",leftPosition)):$(".stick#job-mail-link").css("left",0)}),$("#search_form .search_button").click(function(){o()});var _=$("#search_text");_.tagit({singleFieldDelimiter:"-",allowSpaces:!0,placeholderText:"Keyword skill (Java, iOS...), Job Title, Company...",autocomplete:{delay:0,minLength:0,source:function(t,e){var i=$.ui.autocomplete.filter(_.tagit("option","availableTags"),t.term);e(i.slice(0,8))}},afterTagRemoved:function(){_.tagit("updatePlaceholderText")},afterTagAdded:function(t,e){_.tagit("updatePlaceholderText"),e.duringInitialization||$("#search_form").submit()}}),_.tagit("updatePlaceholderText"),_.length>0&&$.getJSON("/api/v1/tags/populars",function(t){_.tagit("option","availableTags",t)}),a(),$("#search_text").parent().find(".tagit-new input").click(function(){0==$("#search_text").tagit("assignedTags").length&&$("#search_text").parent().find(".tagit-new input").autocomplete("search")}),$.each(["#city","#companies_city"],function(t,e){$(e).chosen({disable_search:!0,allow_single_deselect:!0,width:"100%"})}),$.each(["#district","#companies_district"],function(t,e){$(e).chosen({allow_single_deselect:!0,width:"100%"})}),binding=new DistrictBinding("#city","#district",!0),binding.bindDistrictsToCity(),companies_binding=new DistrictBinding("#companies_city","#companies_district",!0),companies_binding.bindDistrictsToCity(),$(document).on("pjax:success",function(){Popup.registerPopupEvent(),l(),r(),registerLongDescriptionToggler(),s(),h(),c(),m("#job-robot-promotion"),u()}),r(),Popup.registerPopupEvent(),l(),h(),c(),u(),d(),m("#job-robot-promotion")}),/* ===========================================================
 * bootstrap-tooltip.js v2.2.2
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,i,n){var s,o;this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.enabled=!0,"click"==this.options.trigger?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=this.options.trigger&&(s="hover"==this.options.trigger?"mouseenter":"focus",o="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,t.proxy(this.leave,this))),this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,e,this.$element.data()),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);return i.options.delay&&i.options.delay.show?(clearTimeout(this.timeout),i.hoverState="in",this.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show),void 0):i.show()},leave:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),i.options.delay&&i.options.delay.hide?(i.hoverState="out",this.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide),void 0):i.hide()},show:function(){var t,e,i,n,s,o,a;if(this.hasContent()&&this.enabled){switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,e=/in/.test(o),t.detach().css({top:0,left:0,display:"block"}).insertAfter(this.$element),i=this.getPosition(e),n=t[0].offsetWidth,s=t[0].offsetHeight,e?o.split(" ")[1]:o){case"bottom":a={top:i.top+i.height,left:i.left+i.width/2-n/2};break;case"top":a={top:i.top-s,left:i.left+i.width/2-n/2};break;case"left":a={top:i.top+i.height/2-s/2,left:i.left-n};break;case"right":a={top:i.top+i.height/2-s/2,left:i.left+i.width}}t.offset(a).addClass(o).addClass("in")}},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){i.off(t.support.transition.end).detach()},500);i.one(t.support.transition.end,function(){clearTimeout(e),i.detach()})}var i=this.tip();return i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():i.detach(),this},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(e){return t.extend({},e?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);i[i.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var n=t(this),s=n.data("tooltip"),o="object"==typeof i&&i;s||n.data("tooltip",s=new e(this,o)),"string"==typeof i&&s[i]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!1},t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(window.jQuery),/* ========================================================================
 * Bootstrap: carousel.js v3.1.1
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";var e=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var i=this,n=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,i){var n=this.$element.find(".item.active"),s=i||n[e](),o=this.interval,a="next"==e?"left":"right",r="next"==e?"first":"last",l=this;if(!s.length){if(!this.options.wrap)return;s=this.$element.find(".item")[r]()}if(s.hasClass("active"))return this.sliding=!1;var h=t.Event("slide.bs.carousel",{relatedTarget:s[0],direction:a});return this.$element.trigger(h),h.isDefaultPrevented()?void 0:(this.sliding=!0,o&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,n.addClass(a),s.addClass(a),n.one(t.support.transition.end,function(){s.removeClass([e,a].join(" ")).addClass("active"),n.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid.bs.carousel")},0)})):(n.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),o&&this.cycle(),this)};var i=t.fn.carousel;t.fn.carousel=function(i){return this.each(function(){var n=t(this),s=n.data("bs.carousel"),o=t.extend({},e.DEFAULTS,n.data(),"object"==typeof i&&i),a="string"==typeof i?i:o.slide;s||n.data("bs.carousel",s=new e(this,o)),"number"==typeof i?s.to(i):a?s[a]():o.interval&&s.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var i,n=t(this),s=t(n.attr("data-target")||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),o=t.extend({},s.data(),n.data()),a=n.attr("data-slide-to");a&&(o.interval=!1),s.carousel(o),(a=n.attr("data-slide-to"))&&s.data("bs.carousel").to(a),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(jQuery),window.ClientSideValidations.validators.remote.email=function(t,e){return 404==$.ajax({url:"/validators/email",data:{id:t.val()},async:!1}).status?e.message:"job_mail_email"!=t[0].id&&404==$.ajax({url:"/validators/uniqueness",data:{id:t.val(),user:t.data("user")},async:!1}).status?"Your email has already existed.":void 0},function(){var t;$(document).ready(function(){return t.openGoogleAuth("#facebook-signin")}),t={openGoogleAuth:function(t){var e,i,n,s;return s=620,e=620,n=(window.innerHeight-e)/2+window.screenY,i=(window.innerWidth-s)/2+window.screenX,$(t).on("click",function(t){return window.open($(this).attr("href"),"ITviec","menubar=no, toolbar=no, status=no, height = "+e+", width = "+s+", top = "+n+", left = "+i),window.sign_in_facebook=!0,t.stopPropagation(),!1}),$(".popup .close").click(function(){return window.sign_in_facebook=!1})}}}.call(this),function(){var t;$(document).ready(function(){return t.dropdownToggle("#user-menu-link")}),t={dropdownToggle:function(t){return $(t).on("click",function(){var t;return t=$(this).prop("hash"),$(t).toggleClass("active"),!1})}}}.call(this),function(){var t;$(document).ready(function(){return t.cv_upload_event(),t.changeCVFileName("#job_application_cv",".fake_file"),"1"===$("#job_application_last_cv").val()?$("#job_application_cv").disableClientSideValidations():$("#job_application_cv").enableClientSideValidations()}),t={changeCVFileName:function(t,e){return $(t).on("change",function(){var t;return t=$(this).val().split("\\"),$(e).val(t[t.length-1]),$(e).addClass("darker_new_cv_field"),$("form").enableClientSideValidations(),$(this).focusout()})},cv_upload_event:function(){return $("#job_application_cv").on("click",function(){return t.switchOption("#cv-filefield-default-checkbox","#cv-filefield-new-checkbox"),$("#job_application_cv").enableClientSideValidations()}),$("#cv-filefield-new-checkbox").on("click",function(){return t.switchOption("#cv-filefield-default-checkbox","#cv-filefield-new-checkbox")}),$("#cv-filefield-default-checkbox").on("click",function(){return t.switchOption("#cv-filefield-new-checkbox","#cv-filefield-default-checkbox"),$("#job_application_cv").disableClientSideValidations(),$(".cv-filefield-new .error").remove()})},switchOption:function(t,e){return $(t).switchClass("fa-dot-circle-o","fa-circle-o"),$(t).removeClass("fa-active"),$(e).switchClass("fa-circle-o","fa-dot-circle-o"),$(e).addClass("fa-active"),$("#cv-filefield-new-checkbox").hasClass("fa fa-dot-circle-o fa-active")?$("#job_application_last_cv").val("0"):$("#job_application_last_cv").val("1")}}}.call(this),function(){var t,e;this.full_search_path=function(t,e,i,n){return null==i&&(i=""),null==n&&(n=!1),""!==t&&(t="/"+t),""!==i&&(i="/"+i),n?"/companies"+t+i+"/"+e:"/jobs"+t+i+"/"+e},this.isLandscape=function(){return 90===window.orientation||-90===window.orientation},this.screenWidth=function(){return isLandscape()?screen.height:screen.width},this.isInMobile=function(){return screenWidth()<=768},this.centerLogoInMobile=function(){var t;if(!(screenWidth()>768))return t=screenWidth()/2-$(".pageMenu__toggle").innerWidth()-$(".pageMenu__logo").innerWidth()/2,$(".pageMenu__logo").css("margin-left",t)},this.initMenuMobile=function(){return $(".collapse").on("show.bs.collapse",function(){return $(".pageMenu__toggle").addClass("pageMenu__toggle--shown")}),$(".collapse").on("hide.bs.collapse",function(){return $(".pageMenu__toggle").removeClass("pageMenu__toggle--shown")})},this.positionUserMenu=function(){var t,e;return t=$(".pageMenu__logo"),e=$(".user-menu"),e.find("button.dropdown-toggle").length>0?e.css("margin-left",screenWidth()/2-t.innerWidth()/2-e.innerWidth()-1):e.css("margin-left",screenWidth()/2-t.innerWidth()/2-e.innerWidth()-10)},this.initMenuDesktop=function(){return $(".dropdown-menu").on("show.bs.dropdown",function(){return $(this).addClass("dropdown-toggle--shown")})},this.clampBlogDescriptions=function(){return screenWidth()>768?void 0:$(".blog__description-content").each(function(){return $clamp(this,{clamp:2})})},t=function(){return $(".dropdown").on("show.bs.dropdown",function(){return $(this).find(".dropdown-toggle").addClass("dropdown-toggle--shown"),$(this).find(".dropdown-menu").first().stop(!0,!0).slideDown(200)})},e=function(){return $(".dropdown").on("hide.bs.dropdown",function(){return $(this).find(".dropdown-toggle").removeClass("dropdown-toggle--shown"),$(this).find(".dropdown-menu").first().stop(!0,!0).slideUp(200)})},this.makeDropdownSlideEffect=function(){return t(),e()},this.autoClosePopupWhenClickOutside=function(){return $(".shadow").on("click",function(){return Popup.hidePopup(),stop_current_video()})},$(function(){var t;return $("#email_confirmation").length>0&&(Popup.showPopup({id:"email_confirmation"}),t=$("#email_confirmation_email").val(),$("#email_confirmation_email").val("tmp"),$("#email_confirmation_email").val(t)),$("#signup_jr_after_signin").length>0&&(Popup.showPopupWithoutAnimation({id:"signup_jr_after_signin"}),Popup.showConfirmPopup("signup_jr_after_signin","sign_in_successful")),$("#active_user_confirmed").length>0&&Popup.showPopup({id:"active_user_confirmed"}),$(".saved.saved-default").hover(function(){return $(this).siblings(".saved-text").addClass("saved-text-hovered")},function(){return $(this).siblings(".saved-text").removeClass("saved-text-hovered")}),$(".saved-text").hover(function(){return $(this).siblings(".saved-default").addClass("saved-default-hovered")},function(){return $(this).siblings(".saved-default").removeClass("saved-default-hovered")}),$("a.keyword-tag").click(function(){var t,e,i;return $(this).hasClass("company")?(t=$("#companies_city").val(),e=$("#companies_district").val(),i=$(this).data("tag"),$(this).attr("href",full_search_path(t,i,e,!0))):(t=$("#city").val(),e=$("#district").val(),i=$(this).data("tag"),$(this).attr("href",full_search_path(t,i,e)))}),centerLogoInMobile(),initMenuMobile(),positionUserMenu(),initMenuDesktop(),clampBlogDescriptions(),makeDropdownSlideEffect(),autoClosePopupWhenClickOutside(),$(window).on("orientationchange",function(){return centerLogoInMobile(),positionUserMenu()}),$(".dropdown--bell-trigger").click(function(){var t=this;return $.ajax({url:$(this).data("user-path"),data:{user:{viewed_jr_notification_at:new Date}},method:"PUT",dataType:"JSON",success:function(){return $(t).find(".pageMenu__alert-jr").addClass("invisible")}})}),$(".notification-login-trigger").length>0&&null==$.cookie("notification-login")&&$(".pageMenu__alert-jr").removeClass("invisible"),$(".notification-login-trigger").click(function(){var t;return t=new Date,t.setHours(24,0,0),$.cookie("notification-login",!0,{expires:t,path:"/"}),$(this).find(".pageMenu__alert-jr").addClass("invisible")}),$("#job_mail_thankyou_wrapper").length>0?(Popup.topValue=100,Popup.showPopup({id:"job_mail_thankyou",width:600})):void 0})}.call(this),function(){var t;$(document).ready(function(){var e;return e=new t,e.initialize()}),t=function(){function t(t){this.wrapper=null!=t?t:"#job-robot-slidein"}return t.prototype.initialize=function(){return this.initializeScroll(),this.initializeClose(),this.bindAjaxForm()},t.prototype.initializeScroll=function(){var t,e;if($.cookie("jr_slide_show")!==!0)return t=!1,e=this,$(window).scroll(function(){if($(this).scrollTop()>e.maxScrollTop()){if(t===!1)return e.slideIn(),t=!0}else if(t===!0)return t=!1,e.slideOut()})},t.prototype.initializeClose=function(){var t=this;return $(""+this.wrapper+" .jr-slidein-close").click(function(){return t.close()})},t.prototype.close=function(){var t;return this.slideOut(),t=this,setTimeout(function(){return $(t.wrapper).remove()},500)},t.prototype.slideIn=function(){return $("#job-robot-slidein").addClass("maximize")},t.prototype.slideOut=function(){return $("#job-robot-slidein").removeClass("maximize")},t.prototype.maxScrollTop=function(){return $(document).height()-$(window).height()-700},t.prototype.setSizeResponsiveMsg=function(t){return $(t).find(".form-blank-email").length>=1?($("#response-message").css("min-width","429px"),$("#response-message").css("min-height","78px")):($("#response-message").css("min-height","78px"),$("#response-message").css("min-width","275px"))},t.prototype.bindAjaxForm=function(){var t;return t=this,$(""+this.wrapper+" .jr_slidein").on("ajax:send",function(){return t.setSizeResponsiveMsg(this),$(this).parents(".jr-slidein-container .content").hide(),$(".waiting-icon").addClass("active")}),$(""+this.wrapper+" .jr_slidein").on("ajax:success",function(t,e){return $.cookie("jr_slide_show",!0,{expires:60,path:"/"}),setTimeout(function(){return $("#response-message").css("width","420px"),$("#response-message").html(e),$(".waiting-icon").removeClass("active")},600)})},t}()}.call(this),function(t,e,i,n,s,o,a){function r(){function e(t,e){a.push({$EventName:t,$Handler:e})}function i(t,e){u.$Each(a,function(i,n){i.$EventName==t&&i.$Handler===e&&a.splice(n,1)})}function n(){a=[]}function s(){u.$Each(r,function(t){u.$RemoveEvent(t.$Obj,t.$EventName,t.$Handler)}),r=[]}var o=this,a=[],r=[];o.$Listen=function(t,e,i,n){u.$AddEvent(t,e,i,n),r.push({$Obj:t,$EventName:e,$Handler:i})},o.$Unlisten=function(t,e,i){u.$Each(r,function(n,s){n.$Obj===t&&n.$EventName==e&&n.$Handler===i&&(u.$RemoveEvent(t,e,i),r.splice(s,1))})},o.$UnlistenAll=s,o.$On=o.addEventListener=e,o.$Off=o.removeEventListener=i,o.$TriggerEvent=function(e){var i=[].slice.call(arguments,1);u.$Each(a,function(n){n.$EventName==e&&n.$Handler.apply(t,i)})},o.$Destroy=function(){s(),n();for(var t in o)delete o[t]}}function l(e,a,r,l,h,d){function p(t){E+=t,P+=t,N+=t,R+=t,z+=t,H+=t,L=t}function f(t,i){var n=t-E+e*i;return p(n),P}function m(t,e){var n=t;if(j&&(n>=P||E>=n)&&(n=((n-E)%j+j)%j+E),!D||x||e||z!=n){var o=i.min(n,P);if(o=i.max(o,E),!D||x||e||o!=H){if(d){var c=(o-N)/(a||1);r.$Reverse&&(c=1-c);var p=u.$Cast(h,d,c,k,T,S,r);u.$Each(p,function(t,e){A[e]&&A[e](l,t)})}M.$OnInnerOffsetChange(H-N,o-N),H=o,u.$Each(F,function(i,n){var s=z>t?F[F.length-n-1]:i;s.$GoToPosition(H-L,e)});var f=z,m=H;z=n,D=s,M.$OnPositionChange(f,m)}}}function g(t,e,n){e&&t.$Locate(P,1),n||(E=i.min(E,t.$GetPosition_OuterBegin()+L),P=i.max(P,t.$GetPosition_OuterEnd()+L)),F.push(t)}function v(){if($){var t=u.$GetNow(),e=i.min(t-O,r.$IntervalMax),n=z+e*C;O=t,n*C>=w*C&&(n=w),m(n),!x&&n*C>=w*C?b(I):W(v)}}function _(t,e,n){$||($=s,x=n,I=e,t=i.max(t,E),t=i.min(t,P),w=t,C=z>w?-1:1,M.$OnStart(),O=u.$GetNow(),W(v))}function b(t){$&&(x=$=I=o,M.$OnStop(),t&&t())}e=e||0;var $,y,w,C,x,k,S,T,I,D,E,P,j,A,M=this,O=0,L=0,z=0,H=0,N=e,R=e+a,F=[],W=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame;u.$IsBrowserSafari()&&u.$BrowserVersion()<7&&(W=n),W=W||function(t){u.$Delay(t,r.$Interval)},M.$Play=function(t,e,i){_(t?z+t:P,e,i)},M.$PlayToPosition=_,M.$PlayToBegin=function(t,e){_(E,t,e)},M.$PlayToEnd=function(t,e){_(P,t,e)},M.$Stop=b,M.$Continue=function(t){_(t)},M.$GetPosition=function(){return z},M.$GetPlayToPosition=function(){return w},M.$GetPosition_Display=function(){return H},M.$GoToPosition=m,M.$GoToBegin=function(){m(E,s)},M.$GoToEnd=function(){m(P,s)},M.$Move=function(t){m(z+t)},M.$CombineMode=function(){return y},M.$GetDuration=function(){return a},M.$IsPlaying=function(){return $},M.$IsOnTheWay=function(){return z>N&&R>=z},M.$SetLoopLength=function(t){j=t},M.$Locate=f,M.$Shift=p,M.$Join=g,M.$Combine=function(t){g(t,0)},M.$Chain=function(t){g(t,1)},M.$GetPosition_InnerBegin=function(){return N},M.$GetPosition_InnerEnd=function(){return R},M.$GetPosition_OuterBegin=function(){return E},M.$GetPosition_OuterEnd=function(){return P},M.$OnPositionChange=M.$OnStart=M.$OnStop=M.$OnInnerOffsetChange=u.$EmptyFunction,M.$Version=u.$GetNow(),r=u.$Extend({$Interval:16,$IntervalMax:50},r),j=r.$LoopLength,A=u.$Extend({},u.$StyleSetter(),r.$Setter),E=N=e,P=R=e+a,S=r.$Round||{},T=r.$During||{},k=u.$Extend({$Default:u.$IsFunction(r.$Easing)&&r.$Easing||c.$EaseSwing},r.$Easing)}function h(){l.call(this,0,0),this.$Revert=u.$EmptyFunction}new function(){function i(t){if(t.constructor===i.caller)throw new Error("Cannot create instance of an abstract class.")}this.$DebugMode=s,this.$Log=function(e,i){var n=t.console||{},s=this.$DebugMode;s&&n.log?n.log(e):s&&i&&alert(e)},this.$Error=function(e,i){var n=t.console||{},s=this.$DebugMode;if(s&&n.error?n.error(e):s&&alert(e),s)throw i||new Error(e)},this.$Fail=function(t){throw new Error(t)},this.$Assert=function(t,e){var i=this.$DebugMode;if(i&&!t)throw new Error("Assert failed "+e||"")},this.$Trace=function(e){var i=t.console||{},n=this.$DebugMode;n&&i.log&&i.log(e)},this.$Execute=function(t){var e=this.$DebugMode;e&&t()},this.$LiveStamp=function(t,i){var n=this.$DebugMode;if(n){var s=e.createElement("DIV");s.setAttribute("id",i),t.$Live=s}},this.$C_AbstractProperty=function(){throw new Error("The property is abstract, it should be implemented by subclass.")},this.$C_AbstractMethod=function(){throw new Error("The method is abstract, it should be implemented by subclass.")},this.$C_AbstractClass=i};var c=t.$JssorEasing$={$EaseSwing:function(t){return-i.cos(t*i.PI)/2+.5},$EaseLinear:function(t){return t},$EaseOutQuad:function(t){return-t*(t-2)},$EaseGoBack:function(){return 1-i.abs(1)},$EaseInWave:function(t){return 1-i.cos(2*t*i.PI)},$EaseOutWave:function(t){return i.sin(2*t*i.PI)},$EaseOutJump:function(t){return 1-((t*=2)<1?(t=1-t)*t*t:(t-=1)*t*t)},$EaseInJump:function(t){return(t*=2)<1?t*t*t:(t=2-t)*t*t}};t.$JssorDirection$={$TO_LEFT:1,$TO_RIGHT:2,$TO_TOP:4,$TO_BOTTOM:8,$HORIZONTAL:3,$VERTICAL:12,$GetDirectionHorizontal:function(t){return 3&t},$GetDirectionVertical:function(t){return 12&t},$IsHorizontal:function(t){return 3&t},$IsVertical:function(t){return 12&t}};var u=t.$Jssor$=new function(){function r(){if(!oe){oe={$Touchable:"ontouchstart"in t||"createTouch"in e};var i;($e.pointerEnabled||(i=$e.msPointerEnabled))&&(oe.$TouchActionAttr=i?"msTouchAction":"touchAction")}return oe}function l(i){if(!me)if(me=-1,"Microsoft Internet Explorer"==ye&&t.attachEvent&&t.ActiveXObject){var n=we.indexOf("MSIE");me=ce,ve=Se(we.substring(n+5,we.indexOf(";",n))),ge=e.documentMode||ve}else if("Netscape"==ye&&t.addEventListener){var s=we.indexOf("Firefox"),o=we.indexOf("Safari"),a=we.indexOf("Chrome"),r=we.indexOf("AppleWebKit");if(s>=0)me=ue,ge=Se(we.substring(s+8));else if(o>=0){var l=we.substring(0,o).lastIndexOf("/");me=a>=0?pe:de,ge=Se(we.substring(l+1,o))}else{var h=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/i.exec(we);h&&(me=ce,ge=ve=Se(h[1]))}r>=0&&(be=Se(we.substring(r+12)))}else{var h=/(opera)(?:.*version|)[ \/]([\w.]+)/i.exec(we);h&&(me=fe,ge=Se(h[2]))}return i==me}function h(){return l(ce)}function d(){return h()&&(6>ge||"BackCompat"==e.compatMode)}function p(){return l(ue)}function f(){return l(de)}function m(){return l(pe)}function g(){return l(fe)}function v(){return f()&&be>534&&535>be}function _(){return h()&&9>ge}function b(t){return ae||(w(["transform","WebkitTransform","msTransform","MozTransform","OTransform"],function(e){return t.style[e]!=a?(ae=e,s):void 0}),ae=ae||"transform"),ae}function $(t){return{}.toString.call(t)}function y(){return re||(re={},w(["Boolean","Number","String","Function","Array","Date","RegExp","Object"],function(t){re["[object "+t+"]"]=t.toLowerCase()})),re}function w(t,e){if("[object Array]"==$(t)){for(var i=0;i<t.length;i++)if(e(t[i],i,t))return s}else for(var n in t)if(e(t[n],n,t))return s}function C(t){return t==n?String(t):y()[$(t)]||"object"}function x(t){for(var e in t)return s}function k(t){try{return"object"==C(t)&&!t.nodeType&&t!=t.window&&(!t.constructor||{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))}catch(e){}}function S(t,e){return{x:t,y:e}}function T(t,e){setTimeout(t,e||0)}function I(t,e,i){var n=t&&"inherit"!=t?t:"";return w(e,function(t){var e=t.exec(n);if(e){var i=n.substr(0,e.index),s=n.substr(e.lastIndex+1,n.length-(e.lastIndex+1));n=i+s}}),n=i+(0!=n.indexOf(" ")?" ":"")+n}function D(t,e){9>ge&&(t.style.filter=e)}function E(t,e,i){if(9>_e){var n=t.style.filter,s=new RegExp(/[\s]*progid:DXImageTransform\.Microsoft\.Matrix\([^\)]*\)/g),o=e?"progid:DXImageTransform.Microsoft.Matrix(M11="+e[0][0]+", M12="+e[0][1]+", M21="+e[1][0]+", M22="+e[1][1]+", SizingMethod='auto expand')":"",a=I(n,[s],o);D(t,a),le.$CssMarginTop(t,i.y),le.$CssMarginLeft(t,i.x)}}function P(t){t.constructor===P.caller&&t.$Construct&&t.$Construct.apply(t,P.caller.arguments)}function j(e){return e||t.event}function A(e,i,s){if(s==a){var o=e.currentStyle||e.style;return s=o[i],""==s&&t.getComputedStyle&&(o=e.ownerDocument.defaultView.getComputedStyle(e,n),o&&(s=o.getPropertyValue(i)||o[i])),s}e.style[i]=s}function M(t,e,i,n){return i==a?Se(A(t,e)):(n&&(i+="px"),A(t,e,i),void 0)}function O(t,e,i){return M(t,e,i,s)}function L(t,e){var i=2&e,n=e?M:A;return function(e,s){return n(e,t,s,i)}}function z(t){if(h()&&9>ve){var e=/opacity=([^)]*)/.exec(t.style.filter||"");return e?Se(e[1])/100:1}return Se(t.style.opacity||"1")}function H(t,e,n){if(h()&&9>ve){var s=t.style.filter||"",o=new RegExp(/[\s]*alpha\([^\)]*\)/g),a=i.round(100*e),r="";(100>a||n)&&(r="alpha(opacity="+a+") ");var l=I(s,[o],r);D(t,l)}else t.style.opacity=1==e?"":i.round(100*e)/100}function N(e,s){var o=s.$Rotate||0,r=s.$Scale==a?1:s.$Scale;if(_()){var l=le.$CreateMatrix(o/180*i.PI,r,r);E(e,o||1!=r?l:n,le.$GetMatrixOffset(l,s.$OriginalWidth,s.$OriginalHeight))}else{var h=b(e);if(h){var c="rotate("+o%360+"deg) scale("+r+")";m()&&be>535&&"ontouchstart"in t&&(c+=" perspective(2000px)"),e.style[h]=c}}}function R(t,e,i,s){for(s=s||"u",t=t?t.firstChild:n;t;t=t.nextSibling)if(1==t.nodeType){if(U(t,s)==e)return t;if(!i){var o=R(t,e,i,s);if(o)return o}}}function F(t,e,i,s){s=s||"u";var o=[];for(t=t?t.firstChild:n;t;t=t.nextSibling)if(1==t.nodeType&&(U(t,s)==e&&o.push(t),!i)){var a=F(t,e,i,s);a.length&&(o=o.concat(a))}return o}function W(t,e,i){for(t=t?t.firstChild:n;t;t=t.nextSibling)if(1==t.nodeType){if(t.tagName==e)return t;if(!i){var s=W(t,e,i);if(s)return s}}}function V(t,e,i){var s=[];for(t=t?t.firstChild:n;t;t=t.nextSibling)if(1==t.nodeType&&((!e||t.tagName==e)&&s.push(t),!i)){var o=V(t,e,i);o.length&&(s=s.concat(o))}return s}function B(){var t,e,i,n,s=arguments,o=1&s[0],r=1+o;for(t=s[r-1]||{};r<s.length;r++)if(e=s[r])for(i in e)n=e[i],n!==a&&(n=e[i],t[i]=o&&k(t[i])?B(o,{},n):n);return t}function G(t,e){var i,n,s,o={};for(i in t)if(n=t[i],s=e[i],n!==s){var a;k(n)&&k(s)&&(n=G(s),a=!x(n)),!a&&(o[i]=n)}return o}function q(t){return e.createElement(t)}function Y(t,e,i){return i==a?t.getAttribute(e):(t.setAttribute(e,i),void 0)}function U(t,e){return Y(t,e)||Y(t,"data-"+e)}function Q(t,e){return e==a?t.className:(t.className=e,void 0)}function J(t){var e={};return w(t,function(t){e[t]=t}),e}function K(t,e){return t.match(e||he)}function X(t,e){return J(K(t||"",e))}function Z(t,e){var i="";return w(e,function(e){i&&(i+=t),i+=e}),i}function te(t,e,i){Q(t,Z(" ",B(G(X(Q(t)),X(e)),X(i))))}function ee(t,e,i){var n=t.cloneNode(!e);return!i&&le.$RemoveAttribute(n,"id"),n}function ie(t){function i(){te(t,o,c[f||d||2&p||p]),u.$Css(t,"pointer-events",f?"none":"")}function n(){d=0,i(),le.$RemoveEvent(e,"mouseup",n),le.$RemoveEvent(e,"touchend",n),le.$RemoveEvent(e,"touchcancel",n)}function s(t){f?le.$CancelEvent(t):(d=4,i(),le.$AddEvent(e,"mouseup",n),le.$AddEvent(e,"touchend",n),le.$AddEvent(e,"touchcancel",n))}var o,r=this,l="",h=["av","pv","ds","dn"],c=[],d=0,p=0,f=0;r.$Selected=function(t){return t==a?p:(p=2&t||1&t,i(),void 0)},r.$Enable=function(t){return t==a?!f:(f=t?0:3,i(),void 0)},t=le.$GetElement(t);var m=u.$Split(Q(t));m&&(l=m.shift()),w(h,function(t){c.push(l+t)}),o=Z(" ",c),c.unshift(""),le.$AddEvent(t,"mousedown",s),le.$AddEvent(t,"touchstart",s)}function ne(){return Te||(Te=B({$MarginTop:le.$CssMarginTop,$MarginLeft:le.$CssMarginLeft,$Clip:le.$SetStyleClip,$Transform:le.$SetStyleTransform},Ie)),Te}function se(){return ne(),Te.$Transform=Te.$Transform,Te}var oe,ae,re,le=this,he=/\S+/g,ce=1,ue=2,de=3,pe=4,fe=5,me=0,ge=0,ve=0,_e=0,be=0,$e=navigator,ye=$e.appName,we=$e.userAgent,Ce=e.documentElement;le.$Device=r,le.$IsBrowserIE=h,le.$IsBrowserIeQuirks=d,le.$IsBrowserFireFox=p,le.$IsBrowserSafari=f,le.$IsBrowserChrome=m,le.$IsBrowserOpera=g,le.$IsBrowserBadTransform=v,le.$IsBrowserIe9Earlier=_,le.$BrowserVersion=function(){return ge},le.$BrowserEngineVersion=function(){return ve||ge},le.$WebKitVersion=function(){return l(),be},le.$Delay=T,le.$Inherit=function(t,e){return e.call(t),B({},t)},le.$Construct=P,le.$GetElement=function(t){return le.$IsString(t)&&(t=e.getElementById(t)),t},le.$GetEvent=j,le.$EvtSrc=function(t){return t=j(t),t.target||t.srcElement||e},le.$EvtTarget=function(t){return t=j(t),t.relatedTarget||t.toElement},le.$EvtWhich=function(t){return t=j(t),t.which||[0,1,3,0,2][t.button]||t.charCode||t.keyCode},le.$MousePosition=function(t){return t=j(t),{x:t.pageX||t.clientX||0,y:t.pageY||t.clientY||0}},le.$PageScroll=function(){var i=e.body;return{x:(t.pageXOffset||Ce.scrollLeft||i.scrollLeft||0)-(Ce.clientLeft||i.clientLeft||0),y:(t.pageYOffset||Ce.scrollTop||i.scrollTop||0)-(Ce.clientTop||i.clientTop||0)}},le.$WindowSize=function(){var t=e.body;return{x:t.clientWidth||Ce.clientWidth,y:t.clientHeight||Ce.clientHeight}},le.$SetStyleTransform=function(t,e){v()?T(le.$CreateCallback(n,N,t,e)):N(t,e)},le.$SetStyleTransformOrigin=function(t,e){var i=b(t);i&&(t.style[i+"Origin"]=e)},le.$CssScale=function(t,e){if(h()&&9>ve||10>ve&&d())t.style.zoom=1==e?"":e;else{var i=b(t);if(i){var n="scale("+e+")",s=t.style[i],o=new RegExp(/[\s]*scale\(.*?\)/g),a=I(s,[o],n);t.style[i]=a}}},le.$EnableHWA=function(t){t.style[b(t)]&&"none"!=t.style[b(t)]||(t.style[b(t)]="perspective(2000px)")},le.$DisableHWA=function(t){t.style[b(t)]="none"};var xe=0,ke=0;le.$WindowResizeFilter=function(t,e){return _()?function(){var i=s,n=d()?t.document.body:t.document.documentElement;if(n){var a=n.offsetWidth-xe,r=n.offsetHeight-ke;a||r?(xe+=a,ke+=r):i=o}i&&e()}:e},le.$MouseOverOutFilter=function(t,e){return function(i){i=j(i);var n=i.type,s=i.relatedTarget||("mouseout"==n?i.toElement:i.fromElement);(!s||s!==e&&!le.$IsChild(e,s))&&t(i)}},le.$AddEvent=function(t,e,i,n){t=le.$GetElement(t),t.addEventListener?("mousewheel"==e&&t.addEventListener("DOMMouseScroll",i,n),t.addEventListener(e,i,n)):t.attachEvent&&(t.attachEvent("on"+e,i),n&&t.setCapture&&t.setCapture())},le.$RemoveEvent=function(t,e,i,n){t=le.$GetElement(t),t.removeEventListener?("mousewheel"==e&&t.removeEventListener("DOMMouseScroll",i,n),t.removeEventListener(e,i,n)):t.detachEvent&&(t.detachEvent("on"+e,i),n&&t.releaseCapture&&t.releaseCapture())},le.$FireEvent=function(t,i){var n;if(e.createEvent)n=e.createEvent("HTMLEvents"),n.initEvent(i,o,o),t.dispatchEvent(n);else{var s="on"+i;n=e.createEventObject(),t.fireEvent(s,n)}},le.$CancelEvent=function(t){t=j(t),t.preventDefault&&t.preventDefault(),t.cancel=s,t.returnValue=o},le.$StopEvent=function(t){t=j(t),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=s},le.$CreateCallback=function(t,e){var i=[].slice.call(arguments,2),n=function(){var n=i.concat([].slice.call(arguments,0));return e.apply(t,n)};return n},le.$InnerText=function(t,i){if(i==a)return t.textContent||t.innerText;var n=e.createTextNode(i);le.$Empty(t),t.appendChild(n)},le.$InnerHtml=function(t,e){return e==a?t.innerHTML:(t.innerHTML=e,void 0)},le.$GetClientRect=function(t){var e=t.getBoundingClientRect();return{x:e.left,y:e.top,w:e.right-e.left,h:e.bottom-e.top}},le.$ClearInnerHtml=function(t){t.innerHTML=""},le.$EncodeHtml=function(t){var e=le.$CreateDiv();return le.$InnerText(e,t),le.$InnerHtml(e)},le.$DecodeHtml=function(t){var e=le.$CreateDiv();return le.$InnerHtml(e,t),le.$InnerText(e)},le.$SelectElement=function(i){var s;t.getSelection&&(s=t.getSelection());var o=n;e.createRange?(o=e.createRange(),o.selectNode(i)):(o=e.body.createTextRange(),o.moveToElementText(i),o.select()),s&&s.addRange(o)},le.$DeselectElements=function(){e.selection?e.selection.empty():t.getSelection&&t.getSelection().removeAllRanges()},le.$Children=function(t,e){for(var i=[],n=t.firstChild;n;n=n.nextSibling)(e||1==n.nodeType)&&i.push(n);return i},le.$FindChild=R,le.$FindChildByTag=W,le.$FindChildrenByTag=V,le.$GetElementsByTag=function(t,e){return t.getElementsByTagName(e)},le.$Extend=B,le.$Unextend=G,le.$IsFunction=function(t){return"function"==C(t)},le.$IsArray=function(t){return"array"==C(t)},le.$IsString=function(t){return"string"==C(t)},le.$IsNumeric=function(t){return!isNaN(Se(t))&&isFinite(t)},le.$Type=C,le.$Each=w,le.$IsNotEmpty=x,le.$CreateElement=q,le.$CreateDiv=function(){return q("DIV")},le.$CreateSpan=function(){return q("SPAN")},le.$EmptyFunction=function(){},le.$Attribute=Y,le.$AttributeEx=U,le.$ClassName=Q,le.$ToHash=J,le.$Split=K,le.$Join=Z,le.$AddClass=function(t,e){te(t,n,e)},le.$RemoveClass=te,le.$ReplaceClass=te,le.$ParentNode=function(t){return t.parentNode},le.$HideElement=function(t){le.$CssDisplay(t,"none")},le.$EnableElement=function(t,e){e?le.$Attribute(t,"disabled",s):le.$RemoveAttribute(t,"disabled")},le.$HideElements=function(t){for(var e=0;e<t.length;e++)le.$HideElement(t[e])},le.$ShowElement=function(t,e){le.$CssDisplay(t,e?"none":"")},le.$ShowElements=function(t,e){for(var i=0;i<t.length;i++)le.$ShowElement(t[i],e)},le.$RemoveAttribute=function(t,e){t.removeAttribute(e)},le.$CanClearClip=function(){return h()&&10>ge},le.$SetStyleClip=function(t,e){if(e)t.style.clip="rect("+i.round(e.$Top)+"px "+i.round(e.$Right)+"px "+i.round(e.$Bottom)+"px "+i.round(e.$Left)+"px)";else{var n=t.style.cssText,s=[new RegExp(/[\s]*clip: rect\(.*?\)[;]?/i),new RegExp(/[\s]*cliptop: .*?[;]?/i),new RegExp(/[\s]*clipright: .*?[;]?/i),new RegExp(/[\s]*clipbottom: .*?[;]?/i),new RegExp(/[\s]*clipleft: .*?[;]?/i)],o=I(n,s,"");u.$CssCssText(t,o)}},le.$GetNow=function(){return+new Date},le.$AppendChild=function(t,e){t.appendChild(e)},le.$AppendChildren=function(t,e){w(e,function(e){le.$AppendChild(t,e)})},le.$InsertBefore=function(t,e,i){(i||e.parentNode).insertBefore(t,e)},le.$InsertAfter=function(t,e,i){le.$InsertBefore(t,e.nextSibling,i||e.parentNode)},le.$InsertAdjacentHtml=function(t,e,i){t.insertAdjacentHTML(e,i)},le.$RemoveElement=function(t,e){(e||t.parentNode).removeChild(t)},le.$RemoveElements=function(t,e){w(t,function(t){le.$RemoveElement(t,e)})},le.$Empty=function(t){le.$RemoveElements(le.$Children(t,s),t)},le.$ParseInt=function(t,e){return parseInt(t,e||10)};var Se=parseFloat;le.$ParseFloat=Se,le.$IsChild=function(t,i){for(var n=e.body;i&&t!==i&&n!==i;)try{i=i.parentNode}catch(s){return o}return t===i},le.$CloneNode=ee,le.$LoadImage=function(t,e){function i(t,s){le.$RemoveEvent(o,"load",i),le.$RemoveEvent(o,"abort",n),le.$RemoveEvent(o,"error",n),e&&e(o,s)}function n(t){i(t,s)}var o=new Image;g()&&11.6>ge||!t?i(!t):(le.$AddEvent(o,"load",i),le.$AddEvent(o,"abort",n),le.$AddEvent(o,"error",n),o.src=t)},le.$LoadImages=function(t,e,i){function n(t){s--,e&&t&&t.src==e.src&&(e=t),!s&&i&&i(e)}var s=t.length+1;w(t,function(t){le.$LoadImage(t.src,n)}),n()},le.$BuildElement=function(t,e,i,n){n&&(t=ee(t));var s=F(t,e);s.length||(s=u.$GetElementsByTag(t,e));for(var o=s.length-1;o>-1;o--){var a=s[o],r=ee(i);Q(r,Q(a)),u.$CssCssText(r,a.style.cssText),u.$InsertBefore(r,a),u.$RemoveElement(a)}return t},le.$Buttonize=function(t){return new ie(t)},le.$Css=A,le.$CssN=M,le.$CssP=O,le.$CssOverflow=L("overflow"),le.$CssTop=L("top",2),le.$CssLeft=L("left",2),le.$CssWidth=L("width",2),le.$CssHeight=L("height",2),le.$CssMarginLeft=L("marginLeft",2),le.$CssMarginTop=L("marginTop",2),le.$CssPosition=L("position"),le.$CssDisplay=L("display"),le.$CssZIndex=L("zIndex",1),le.$CssFloat=function(t,e){return A(t,h()?"styleFloat":"cssFloat",e)},le.$CssOpacity=function(t,e,i){return e==a?z(t):(H(t,e,i),void 0)},le.$CssCssText=function(t,e){return e==a?t.style.cssText:(t.style.cssText=e,void 0)};var Te,Ie={$Opacity:le.$CssOpacity,$Top:le.$CssTop,$Left:le.$CssLeft,$Width:le.$CssWidth,$Height:le.$CssHeight,$Position:le.$CssPosition,$Display:le.$CssDisplay,$ZIndex:le.$CssZIndex};le.$StyleSetter=ne,le.$StyleSetterEx=se,le.$GetStyles=function(t,e){ne();var i={};return w(e,function(e,n){Ie[n]&&(i[n]=Ie[n](t))}),i},le.$SetStyles=function(t,e){var i=ne();w(e,function(e,n){i[n]&&i[n](t,e)})},le.$SetStylesEx=function(t,e){se(),le.$SetStyles(t,e)};var De=new function(){function t(t,e){for(var i=t[0].length,n=t.length,s=e[0].length,o=[],a=0;n>a;a++)for(var r=o[a]=[],l=0;s>l;l++){for(var h=0,c=0;i>c;c++)h+=t[a][c]*e[c][l];r[l]=h}return o}var e=this;e.$ScaleX=function(t,i){return e.$ScaleXY(t,i,0)},e.$ScaleY=function(t,i){return e.$ScaleXY(t,0,i)},e.$ScaleXY=function(e,i,n){return t(e,[[i,0],[0,n]])},e.$TransformPoint=function(e,i){var n=t(e,[[i.x],[i.y]]);return S(n[0][0],n[1][0])}};le.$CreateMatrix=function(t,e,n){var s=i.cos(t),o=i.sin(t);return[[s*e,-o*n],[o*e,s*n]]},le.$GetMatrixOffset=function(t,e,n){var s=De.$TransformPoint(t,S(-e/2,-n/2)),o=De.$TransformPoint(t,S(e/2,-n/2)),a=De.$TransformPoint(t,S(e/2,n/2)),r=De.$TransformPoint(t,S(-e/2,n/2));return S(i.min(s.x,o.x,a.x,r.x)+e/2,i.min(s.y,o.y,a.y,r.y)+n/2)},le.$Cast=function(t,e,s,o,a,r,l){var h=e;if(t){h={};for(var d in e){var p=r[d]||1,f=a[d]||[0,1],m=(s-f[0])/f[1];m=i.min(i.max(m,0),1),m*=p;var g=i.floor(m);m!=g&&(m-=g);var v,_=o[d]||o.$Default||c.$EaseSwing,b=_(m),$=t[d];e[d];var y=e[d];u.$IsNumeric(y)?v=$+y*b:(v=u.$Extend({$Offset:{}},t[d]),u.$Each(y.$Offset,function(t,e){var i=t*b;v.$Offset[e]=i,v[e]+=i
})),h[d]=v}(e.$Zoom||e.$Rotate)&&(h.$Transform={$Rotate:h.$Rotate||0,$Scale:h.$Zoom,$OriginalWidth:l.$OriginalWidth,$OriginalHeight:l.$OriginalHeight})}if(e.$Clip&&l.$Move){var w=h.$Clip.$Offset,C=(w.$Top||0)+(w.$Bottom||0),x=(w.$Left||0)+(w.$Right||0);h.$Left=(h.$Left||0)+x,h.$Top=(h.$Top||0)+C,h.$Clip.$Left-=x,h.$Clip.$Right-=x,h.$Clip.$Top-=C,h.$Clip.$Bottom-=C}return h.$Clip&&u.$CanClearClip()&&!h.$Clip.$Top&&!h.$Clip.$Left&&h.$Clip.$Right==l.$OriginalWidth&&h.$Clip.$Bottom==l.$OriginalHeight&&(h.$Clip=n),h}},d=t.$JssorSlideshowFormations$=new function(){function t(t){return(t&u)==u}function e(t){return(t&d)==d}function n(t,e,i){i.push(e),t[e]=t[e]||[],t[e].push(i)}var o=this,a=0,r=1,l=2,h=3,c=1,u=2,d=4,p=8,f=256,m=512,g=1024,v=2048,_=v+c,b=v+u,$=m+c,y=m+u,w=f+d,C=f+p,x=g+d,k=g+p;o.$FormationStraight=function(t){for(var e,i=t.$Cols,s=t.$Rows,o=t.$Assembly,a=t.$Count,r=[],l=0,h=0,c=i-1,u=s-1,d=a-1,h=0;s>h;h++)for(l=0;i>l;l++){switch(o){case _:e=d-(l*s+(u-h));break;case x:e=d-(h*i+(c-l));break;case $:e=d-(l*s+h);case w:e=d-(h*i+l);break;case b:e=l*s+h;break;case C:e=h*i+(c-l);break;case y:e=l*s+(u-h);break;default:e=h*i+l}n(r,e,[h,l])}return r},o.$FormationSwirl=function(t){var e,i,o=t.$Cols,c=t.$Rows,u=t.$Assembly,d=t.$Count,p=[],f=[],m=0,g=0,v=0,k=o-1,S=c-1,T=0;switch(u){case _:g=k,v=0,i=[l,r,h,a];break;case x:g=0,v=S,i=[a,h,r,l];break;case $:g=k,v=S,i=[h,r,l,a];break;case w:g=k,v=S,i=[r,h,a,l];break;case b:g=0,v=0,i=[l,a,h,r];break;case C:g=k,v=0,i=[r,l,a,h];break;case y:g=0,v=S,i=[h,a,l,r];break;default:g=0,v=0,i=[a,l,r,h]}for(m=0;d>m;){if(e=v+","+g,g>=0&&o>g&&v>=0&&c>v&&!f[e])f[e]=s,n(p,m++,[v,g]);else switch(i[T++%i.length]){case a:g--;break;case l:v--;break;case r:g++;break;case h:v++}switch(i[T%i.length]){case a:g++;break;case l:v++;break;case r:g--;break;case h:v--}}return p},o.$FormationZigZag=function(t){var e,i,s=t.$Cols,o=t.$Rows,c=t.$Assembly,u=t.$Count,d=[],p=0,f=0,m=0,g=s-1,v=o-1,k=0;switch(c){case _:f=g,m=0,i=[l,r,h,r];break;case x:f=0,m=v,i=[a,h,r,h];break;case $:f=g,m=v,i=[h,r,l,r];break;case w:f=g,m=v,i=[r,h,a,h];break;case b:f=0,m=0,i=[l,a,h,a];break;case C:f=g,m=0,i=[r,l,a,l];break;case y:f=0,m=v,i=[h,a,l,a];break;default:f=0,m=0,i=[a,l,r,l]}for(p=0;u>p;)if(e=m+","+f,f>=0&&s>f&&m>=0&&o>m&&"undefined"==typeof d[e])switch(n(d,p++,[m,f]),i[k%i.length]){case a:f++;break;case l:m++;break;case r:f--;break;case h:m--}else{switch(i[k++%i.length]){case a:f--;break;case l:m--;break;case r:f++;break;case h:m++}switch(i[k++%i.length]){case a:f++;break;case l:m++;break;case r:f--;break;case h:m--}}return d},o.$FormationStraightStairs=function(i){var s=i.$Cols,o=i.$Rows,a=i.$Assembly,r=i.$Count,l=[],h=0,c=0,u=0,d=s-1,p=o-1,f=r-1;switch(a){case _:case y:case $:case b:var m=0,g=0;break;case C:case x:case w:case k:var m=d,g=0;break;default:a=k;var m=d,g=0}for(c=m,u=g;r>h;){switch(e(a)||t(a)?n(l,f-h++,[u,c]):n(l,h++,[u,c]),a){case _:case y:c--,u++;break;case $:case b:c++,u--;break;case C:case x:c--,u--;break;case k:case w:default:c++,u++}if(0>c||0>u||c>d||u>p){switch(a){case _:case y:m++;break;case C:case x:case $:case b:g++;break;case k:case w:default:m--}if(0>m||0>g||m>d||g>p){switch(a){case _:case y:m=d,g++;break;case $:case b:g=p,m++;break;case C:case x:g=p,m--;break;case k:case w:default:m=0,g++}g>p?g=p:0>g?g=0:m>d?m=d:0>m&&(m=0)}u=g,c=m}}return l},o.$FormationSquare=function(t){var e,s,o,a,r,l=t.$Cols||1,h=t.$Rows||1,c=[];for(o=h>l?(h-l)/2:0,a=l>h?(l-h)/2:0,r=i.round(i.max(l/2,h/2))+1,e=0;l>e;e++)for(s=0;h>s;s++)n(c,r-i.min(e+1+o,s+1+a,l-e+o,h-s+a),[s,e]);return c},o.$FormationRectangle=function(t){var e,s,o,a=t.$Cols||1,r=t.$Rows||1,l=[];for(o=i.round(i.min(a/2,r/2))+1,e=0;a>e;e++)for(s=0;r>s;s++)n(l,o-i.min(e+1,s+1,a-e,r-s),[s,e]);return l},o.$FormationRandom=function(t){for(var e,s=[],o=0;o<t.$Rows;o++)for(e=0;e<t.$Cols;e++)n(s,i.ceil(1e5*i.random())%13,[o,e]);return s},o.$FormationCircle=function(t){for(var e,s=t.$Cols||1,o=t.$Rows||1,a=[],r=s/2-.5,l=o/2-.5,h=0;s>h;h++)for(e=0;o>e;e++)n(a,i.round(i.sqrt(i.pow(h-r,2)+i.pow(e-l,2))),[e,h]);return a},o.$FormationCross=function(t){for(var e,s=t.$Cols||1,o=t.$Rows||1,a=[],r=s/2-.5,l=o/2-.5,h=0;s>h;h++)for(e=0;o>e;e++)n(a,i.round(i.min(i.abs(h-r),i.abs(e-l))),[e,h]);return a},o.$FormationRectangleCross=function(t){for(var e,s=t.$Cols||1,o=t.$Rows||1,a=[],r=s/2-.5,l=o/2-.5,h=i.max(r,l)+1,c=0;s>c;c++)for(e=0;o>e;e++)n(a,i.round(h-i.max(r-i.abs(c-r),l-i.abs(e-l)))-1,[e,c]);return a}};t.$JssorSlideshowRunner$=function(t,e,a,h,p){function f(t,e){var n={$Interval:e,$Duration:1,$Delay:0,$Cols:1,$Rows:1,$Opacity:0,$Zoom:0,$Clip:0,$Move:o,$SlideOut:o,$Reverse:o,$Formation:d.$FormationRandom,$Assembly:1032,$ChessMode:{$Column:0,$Row:0},$Easing:c.$EaseSwing,$Round:{},$Blocks:[],$During:{}};return u.$Extend(n,t),n.$Count=n.$Cols*n.$Rows,u.$IsFunction(n.$Easing)&&(n.$Easing={$Default:n.$Easing}),n.$FramesCount=i.ceil(n.$Duration/n.$Interval),n.$GetBlocks=function(t,e){t/=n.$Cols,e/=n.$Rows;var i=t+"x"+e;if(!n.$Blocks[i]){n.$Blocks[i]={$Width:t,$Height:e};for(var s=0;s<n.$Cols;s++)for(var o=0;o<n.$Rows;o++)n.$Blocks[i][o+","+s]={$Top:o*e,$Right:s*t+t,$Bottom:o*e+e,$Left:s*t}}return n.$Blocks[i]},n.$Brother&&(n.$Brother=f(n.$Brother,e),n.$SlideOut=s),n}function m(t,e,n,a,r,l){function h(t){var e=t.$Formation(t);return t.$Reverse?e.reverse():e}var c,d,p,f,m,g=this,v={},_={},b=[],$=n.$ChessMode.$Column||0,y=n.$ChessMode.$Row||0,w=n.$GetBlocks(r,l),C=h(n),x=C.length-1,k=n.$Duration+n.$Delay*x,S=a+k,T=n.$SlideOut;if(S+=50,g.$EndTime=S,g.$ShowFrame=function(t){t-=a;var e=k>t;if(e||m){m=e,T||(t=k-t);var s=i.ceil(t/n.$Interval);u.$Each(_,function(t,e){var n=i.max(s,t.$Min);n=i.min(n,t.length-1),t.$LastFrameIndex!=n&&(t.$LastFrameIndex||T?n==t.$Max&&T&&u.$HideElement(b[e]):u.$ShowElement(b[e]),t.$LastFrameIndex=n,u.$SetStylesEx(b[e],t[n]))})}},e=u.$CloneNode(e),u.$IsBrowserIe9Earlier()){var I=!e["no-image"],D=u.$FindChildrenByTag(e);u.$Each(D,function(t){(I||t["jssor-slider"])&&u.$CssOpacity(t,u.$CssOpacity(t),s)})}u.$Each(C,function(t,e){u.$Each(t,function(t){var a=t[0],h=t[1],m=a+","+h,g=o,b=o,C=o;$&&h%2&&(3&$&&(g=!g),12&$&&(b=!b),16&$&&(C=!C)),y&&a%2&&(3&y&&(g=!g),12&y&&(b=!b),16&y&&(C=!C)),n.$Top=n.$Top||4&n.$Clip,n.$Bottom=n.$Bottom||8&n.$Clip,n.$Left=n.$Left||1&n.$Clip,n.$Right=n.$Right||2&n.$Clip;var x=b?n.$Bottom:n.$Top,k=b?n.$Top:n.$Bottom,S=g?n.$Right:n.$Left,I=g?n.$Left:n.$Right;n.$Clip=x||k||S||I,f={},p={$Top:0,$Left:0,$Opacity:1,$Width:r,$Height:l},d=u.$Extend({},p),c=u.$Extend({},w[m]),n.$Opacity&&(p.$Opacity=2-n.$Opacity),n.$ZIndex&&(p.$ZIndex=n.$ZIndex,d.$ZIndex=0);var D=n.$Cols*n.$Rows>1||n.$Clip;if(n.$Zoom||n.$Rotate){var E=s;if(u.$IsBrowserIe9Earlier()&&(n.$Cols*n.$Rows>1?E=o:D=o),E){p.$Zoom=n.$Zoom?n.$Zoom-1:1,d.$Zoom=1,(u.$IsBrowserIe9Earlier()||u.$IsBrowserOpera())&&(p.$Zoom=i.min(p.$Zoom,2));var P=n.$Rotate;p.$Rotate=360*P*(C?-1:1),d.$Rotate=0}}if(D){if(n.$Clip){var j=n.$ScaleClip||1,A=c.$Offset={};x&&k?(A.$Top=w.$Height/2*j,A.$Bottom=-A.$Top):x?A.$Bottom=-w.$Height*j:k&&(A.$Top=w.$Height*j),S&&I?(A.$Left=w.$Width/2*j,A.$Right=-A.$Left):S?A.$Right=-w.$Width*j:I&&(A.$Left=w.$Width*j)}f.$Clip=c,d.$Clip=w[m]}var M=g?1:-1,O=b?1:-1;n.x&&(p.$Left+=r*n.x*M),n.y&&(p.$Top+=l*n.y*O),u.$Each(p,function(t,e){u.$IsNumeric(t)&&t!=d[e]&&(f[e]=t-d[e])}),v[m]=T?d:p;var L=n.$FramesCount,z=i.round(e*n.$Delay/n.$Interval);_[m]=new Array(z),_[m].$Min=z,_[m].$Max=z+L-1;for(var H=0;L>=H;H++){var N=u.$Cast(d,f,H/L,n.$Easing,n.$During,n.$Round,{$Move:n.$Move,$OriginalWidth:r,$OriginalHeight:l});N.$ZIndex=N.$ZIndex||1,_[m].push(N)}})}),C.reverse(),u.$Each(C,function(i){u.$Each(i,function(i){var n=i[0],s=i[1],o=n+","+s,a=e;(s||n)&&(a=u.$CloneNode(e)),u.$SetStyles(a,v[o]),u.$CssOverflow(a,"hidden"),u.$CssPosition(a,"absolute"),t.$AddClipElement(a),b[o]=a,u.$ShowElement(a,!T)})})}function g(){var t=this,e=0;l.call(t,0,v),t.$OnPositionChange=function(t,i){i-e>x&&(e=i,b&&b.$ShowFrame(i),_&&_.$ShowFrame(i))},t.$Transition=$}var v,_,b,$,y=this,w=0,C=h.$TransitionsOrder,x=8;y.$GetTransition=function(){var t=0,e=h.$Transitions,n=e.length;return t=C?w++%n:i.floor(i.random()*n),e[t]&&(e[t].$Index=t),e[t]},y.$Initialize=function(n,s,o,r,l){$=l,l=f(l,x);var h=r.$Item,c=o.$Item;h["no-image"]=!r.$Image,c["no-image"]=!o.$Image;var u=h,d=c,p=l,g=l.$Brother||f({},x);l.$SlideOut||(u=c,d=h);var w=g.$Shift||0;_=new m(t,d,g,i.max(w-g.$Interval,0),e,a),b=new m(t,u,p,i.max(g.$Interval-w,0),e,a),_.$ShowFrame(0),b.$ShowFrame(0),v=i.max(_.$EndTime,b.$EndTime),y.$Index=n},y.$Clear=function(){t.$Clear(),_=n,b=n},y.$GetProcessor=function(){var t=n;return b&&(t=new g),t},(u.$IsBrowserIe9Earlier()||u.$IsBrowserOpera()||p&&u.$WebKitVersion()<537)&&(x=16),r.call(y),l.call(y,-1e7,1e7)};var p=t.$JssorSlider$=function(d,m){function g(){var t=this;l.call(t,-1e8,2e8),t.$GetCurrentSlideInfo=function(){var e=t.$GetPosition_Display(),n=i.floor(e),s=N(n),o=e-i.floor(e);return{$Index:s,$VirtualIndex:n,$Position:o}},t.$OnPositionChange=function(t,e){var n=i.floor(e);n!=e&&e>t&&n++,O(n,s),J.$TriggerEvent(p.$EVT_POSITION_CHANGE,N(e),N(t),e,t)}}function v(){var t=this;l.call(t,0,0,{$LoopLength:Ye}),u.$Each(_i,function(e){1&ai&&e.$SetLoopLength(Ye),t.$Chain(e),e.$Shift(je/Ze)})}function _(){var t=this,e=ci.$Elmt;l.call(t,-1,2,{$Easing:c.$EaseLinear,$Setter:{$Position:C},$LoopLength:Ye},e,{$Position:1},{$Position:-2}),t.$Wrapper=e}function b(t,e){var i,a,r,h,c,u=this;l.call(u,-1e8,2e8,{$IntervalMax:100}),u.$OnStart=function(){Oe=s,ze=n,J.$TriggerEvent(p.$EVT_SWIPE_START,N(We.$GetPosition()),We.$GetPosition())},u.$OnStop=function(){Oe=o,h=o;var t=We.$GetCurrentSlideInfo();J.$TriggerEvent(p.$EVT_SWIPE_END,N(We.$GetPosition()),We.$GetPosition()),!t.$Position&&M(t.$VirtualIndex,qe)},u.$OnPositionChange=function(t,e){var n;if(h)n=c;else if(n=a,r){var s=e/r;n=K.$SlideEasing(s)*(a-i)+i}We.$GoToPosition(n)},u.$PlayCarousel=function(t,e,n,s){i=t,a=e,r=n,We.$GoToPosition(t),u.$GoToPosition(0),u.$PlayToPosition(n,s)},u.$StandBy=function(t){h=s,c=t,u.$Play(t,n,s)},u.$SetStandByPosition=function(t){c=t},u.$MoveCarouselTo=function(t){We.$GoToPosition(t)},We=new g,We.$Combine(t),We.$Combine(e)}function $(){var t=this,e=H();u.$CssZIndex(e,0),u.$Css(e,"pointerEvents","none"),t.$Elmt=e,t.$AddClipElement=function(t){u.$AppendChild(e,t),u.$ShowElement(e)},t.$Clear=function(){u.$HideElement(e),u.$Empty(e)}}function y(t,e){function a(e){x&&x.$Revert(),y&&y.$Revert(),$(t,e),A=s,y=new ne.$Class(t,ne,1),x=new ne.$Class(t,ne),x.$GoToPosition(0),y.$GoToPosition(0)}function h(){y.$Version<ne.$Version&&a()}function c(t,i,n){if(!P&&(P=s,T&&n)){var a=n.width,r=n.height,l=a,h=r;if(a&&r&&K.$FillMode){if(3&K.$FillMode&&(!(4&K.$FillMode)||a>Ue||r>Qe)){var c=o,d=Ue/Qe*r/a;1&K.$FillMode?c=d>1:2&K.$FillMode&&(c=1>d),l=c?a*Qe/r:Ue,h=c?Qe:r*Ue/a}u.$CssWidth(T,l),u.$CssHeight(T,h),u.$CssTop(T,(Qe-h)/2),u.$CssLeft(T,(Ue-l)/2)}u.$CssPosition(T,"absolute"),J.$TriggerEvent(p.$EVT_LOAD_END,e)}u.$HideElement(i),t&&t(H)}function d(t,i,n,s){if(s==ze&&qe==e&&De&&!Ie){var o=N(t);ui.$Initialize(o,e,i,H,n),i.$HideContentForSlideshow(),Ve.$Locate(o,1),Ve.$GoToPosition(o),Be.$PlayCarousel(t,t,0)}}function f(i){if(i==ze&&qe==e){if(!M){var s=n;ui&&(ui.$Index==e?s=ui.$GetProcessor():ui.$Clear()),h(),M=new w(t,e,s,H.$GetCaptionSliderIn(),H.$GetCaptionSliderOut()),M.$SetPlayer(L)}!M.$IsPlaying()&&M.$Replay()}}function m(t,s,o){if(t==e){t!=s?_i[s]&&_i[s].$ParkOut():!o&&M&&M.$AdjustIdleOnPark(),L&&L.$Enable();var a=ze=u.$GetNow();H.$LoadImage(u.$CreateCallback(n,f,a))}else{var r=i.abs(e-t),l=ti+K.$LazyLoading-1;(!j||l>=r)&&H.$LoadImage()}}function g(){qe==e&&M&&(M.$Stop(),L&&L.$Quit(),L&&L.$Disable(),M.$OpenSlideshowPanel())}function v(){qe==e&&M&&M.$Stop()}function _(t){!Me&&J.$TriggerEvent(p.$EVT_CLICK,e,t)}function b(){L=O.pInstance,M&&M.$SetPlayer(L)}function $(t,e,i){if(!u.$Attribute(t,"jssor-slider")){i=i||0,A||("IMG"==t.tagName&&(R.push(t),u.$Attribute(t,"src")||(j=s,t["display-origin"]=u.$CssDisplay(t),u.$HideElement(t))),u.$IsBrowserIe9Earlier()&&u.$CssZIndex(t,(u.$CssZIndex(t)||0)+1),K.$HWA&&u.$WebKitVersion()&&(u.$WebKitVersion()<534||!Pe&&!u.$IsBrowserChrome())&&u.$EnableHWA(t));var n=u.$Children(t);u.$Each(n,function(n){var a=n.tagName,r=u.$AttributeEx(n,"u");if("player"!=r||O||(O=n,O.pInstance?b():u.$AddEvent(O,"dataavailable",b)),"caption"==r){if(!u.$IsBrowserIE()&&!e){var l=u.$CloneNode(n,o,s);u.$InsertBefore(l,n,t),u.$RemoveElement(n,t),n=l,e=s}}else A||i||T||("A"==a?(T="image"==u.$AttributeEx(n,"u")?u.$FindChildByTag(n,"IMG"):u.$FindChild(n,"image",s),T&&(I=n,u.$SetStyles(I,Z),D=u.$CloneNode(I,s),u.$CssDisplay(D,"block"),u.$SetStyles(D,Z),u.$CssOpacity(D,0),u.$Css(D,"backgroundColor","#000"))):"IMG"==a&&"image"==u.$AttributeEx(n,"u")&&(T=n),T&&(T.border=0,u.$SetStyles(T,Z)));$(n,e,i+1)})}}var y,x,k,S,T,I,D,E,P,j,A,M,O,L,z,H=this,R=[];l.call(H,-ti,ti+1,{$SlideItemAnimator:s}),H.$LoadImage=function(t,i){i=i||S,R.length&&!P?(u.$ShowElement(i),E||(E=s,J.$TriggerEvent(p.$EVT_LOAD_START,e),u.$Each(R,function(t){u.$Attribute(t,"src")||(t.src=u.$AttributeEx(t,"src2"),u.$CssDisplay(t,t["display-origin"]))})),u.$LoadImages(R,T,u.$CreateCallback(n,c,t,i))):c(t,i)},H.$GoForNextSlide=function(){var t=e;K.$AutoPlaySteps<0&&(t-=Ye);var s=t+K.$AutoPlaySteps*ee;if(2&ai&&(s=N(s)),1&ai||(s=i.max(0,i.min(s,Ye-ti))),s!=e){if(ui){var o=ui.$GetTransition(Ye);if(o){var a=ze=u.$GetNow(),r=_i[N(s)];return r.$LoadImage(u.$CreateCallback(n,d,s,r,o,a),S)}}q(s)}},H.$TryActivate=function(){m(e,e,s)},H.$ParkOut=function(){L&&L.$Quit(),L&&L.$Disable(),H.$UnhideContentForSlideshow(),M&&M.$Abort(),M=n,a()},H.$StampSlideItemElements=function(t){t=z+"_"+t},H.$HideContentForSlideshow=function(){u.$HideElement(t)},H.$UnhideContentForSlideshow=function(){u.$ShowElement(t)},H.$EnablePlayer=function(){L&&L.$Enable()},H.$OnInnerOffsetChange=function(t,e){var i=ti-e;C(k,i)},H.$GetCaptionSliderIn=function(){return y},H.$GetCaptionSliderOut=function(){return x},H.$Index=e,r.call(H);var F=u.$FindChild(t,"thumb",s);F&&(H.$Thumb=u.$CloneNode(F),u.$RemoveAttribute(F,"id"),u.$HideElement(F)),u.$ShowElement(t),S=u.$CloneNode(he),u.$CssZIndex(S,1e3),u.$AddEvent(t,"click",_),a(s),H.$Image=T,H.$Link=D,H.$Item=t,H.$Wrapper=k=t,u.$AppendChild(k,S),J.$On(203,m),J.$On(28,v),J.$On(24,g)}function w(t,e,i,n,a){function r(){u.$Empty(di),Te&&v&&x.$Link&&u.$AppendChild(di,x.$Link),u.$ShowElement(di,!v&&x.$Image)}function h(){_&&(_=o,J.$TriggerEvent(p.$EVT_ROLLBACK_END,e,m,w,f,m,g),y.$GoToPosition(f)),y.$Replay()}function c(t){$=t,y.$Stop(),y.$Replay()}var d,f,m,g,v,_,b,$,y=this,w=0,C=0,x=_i[e];l.call(y,0,0),y.$Replay=function(){var t=y.$GetPosition_Display();if(!Le&&!Oe&&!$&&qe==e){t||(d&&!v&&(v=s,y.$OpenSlideshowPanel(s),J.$TriggerEvent(p.$EVT_SLIDESHOW_START,e,w,C,d,g)),r());var i,n=p.$EVT_STATE_CHANGE;t!=g&&(t==m?i=g:t==f?i=m:t?t>m?(_=s,i=m,n=p.$EVT_ROLLBACK_START):i=y.$GetPlayToPosition():i=f),J.$TriggerEvent(n,e,t,w,f,m,g);var o=De&&(!ii||ri);t==g?(m!=g&&!(12&ii)||o)&&x.$GoForNextSlide():(o||t!=m)&&y.$PlayToPosition(i,h)}},y.$AdjustIdleOnPark=function(){m==g&&m==y.$GetPosition_Display()&&y.$GoToPosition(f)},y.$Abort=function(){ui&&ui.$Index==e&&ui.$Clear();var t=y.$GetPosition_Display();g>t&&J.$TriggerEvent(p.$EVT_STATE_CHANGE,e,-t-1,w,f,m,g)},y.$OpenSlideshowPanel=function(t){i&&u.$CssOverflow($e,t&&i.$Transition.$Outside?"":"hidden")},y.$OnInnerOffsetChange=function(t,i){v&&i>=d&&(v=o,r(),x.$UnhideContentForSlideshow(),ui.$Clear(),J.$TriggerEvent(p.$EVT_SLIDESHOW_END,e,w,C,d,g)),J.$TriggerEvent(p.$EVT_PROGRESS_CHANGE,e,i,w,f,m,g)},y.$SetPlayer=function(t){t&&!b&&(b=t,t.$On($JssorPlayer$.$EVT_SWITCH,c))},i&&y.$Chain(i),d=y.$GetPosition_OuterEnd(),y.$GetPosition_OuterEnd(),y.$Chain(n),f=n.$GetPosition_OuterEnd(),m=f+(u.$ParseFloat(u.$AttributeEx(t,"idle"))||ni),a.$Shift(m),y.$Combine(a),g=y.$GetPosition_OuterEnd()}function C(t,e){var n=ye>0?ye:te,s=Ke*e*(1&n),o=Xe*e*(1&n>>1);s=i.round(s),o=i.round(o),u.$CssLeft(t,s),u.$CssTop(t,o)}function x(){fi=Oe,mi=Be.$GetPlayToPosition(),pi=We.$GetPosition()}function k(){x(),(Le||!ri&&12&ii)&&(Be.$Stop(),J.$TriggerEvent(p.$EVT_FREEZE))}function S(t){if(!(Le||!ri&&12&ii||Be.$IsPlaying())){var e=We.$GetPosition(),n=i.ceil(pi);t&&i.abs(He)>=K.$MinDragOffsetToSlide&&(n=i.ceil(e),n+=Re),1&ai||(n=i.min(Ye-ti,i.max(n,0)));var s=i.abs(n-e);s=1-i.pow(1-s,5),!Me&&fi?Be.$Continue(mi):e==n?(be.$EnablePlayer(),be.$TryActivate()):Be.$PlayCarousel(e,n,s*si)}}function T(t){!u.$AttributeEx(u.$EvtSrc(t),"nodrag")&&u.$CancelEvent(t)}function I(t){D(t,1)}function D(t,i){t=u.$GetEvent(t);var a=u.$EvtSrc(t);if(!(we||u.$AttributeEx(a,"nodrag")||!L()||i&&1!=t.touches.length)){if(Le=s,Ce=o,ze=n,u.$AddEvent(e,i?"touchmove":"mousemove",E),u.$GetNow(),Me=0,k(),fi||(ye=0),i){var r=t.touches[0];li=r.clientX,hi=r.clientY}else{var l=u.$MousePosition(t);li=l.x,hi=l.y}He=0,Ne=0,Re=0,J.$TriggerEvent(p.$EVT_DRAG_START,N(pi),pi,t)}}function E(t){if(Le){t=u.$GetEvent(t);var e;if("mousemove"!=t.type){var n=t.touches[0];e={x:n.clientX,y:n.clientY}}else e=u.$MousePosition(t);if(e){var o=e.x-li,a=e.y-hi;if(i.floor(pi)!=pi&&(ye=ye||te&we),!o&&!a||ye||(ye=3==we?i.abs(a)>i.abs(o)?2:1:we,$i&&1==ye&&i.abs(a)-i.abs(o)>3&&(Ce=s)),ye){var r=a,l=Xe;if(1==ye&&(r=o,l=Ke),!(1&ai)){if(r>0){var h=l*qe,c=r-h;c>0&&(r=h+5*i.sqrt(c))}if(0>r){var h=l*(Ye-ti-qe),c=-r-h;c>0&&(r=-h-5*i.sqrt(c))}}-2>He-Ne?Re=0:He-Ne>2&&(Re=-1),Ne=He,He=r,gi=pi-He/l/(Ge||1),He&&ye&&!Ce&&(u.$CancelEvent(t),Oe?Be.$SetStandByPosition(gi):Be.$StandBy(gi))}}}}function P(){if(z(),Le){Le=o,u.$GetNow(),u.$RemoveEvent(e,"mousemove",E),u.$RemoveEvent(e,"touchmove",E),Me=He,Be.$Stop();var t=We.$GetPosition();J.$TriggerEvent(p.$EVT_DRAG_END,N(t),t,N(pi),pi),12&ii&&x(),S(s)}}function j(t){if(Me){u.$StopEvent(t);for(var e=u.$EvtSrc(t);e&&le!==e;){"A"==e.tagName&&u.$CancelEvent(t);try{e=e.parentNode}catch(i){break}}}}function A(t){return _i[qe],qe=N(t),be=_i[qe],O(t),qe}function M(t,e){ye=0,A(t),J.$TriggerEvent(p.$EVT_PARK,N(t),e)}function O(t,e){_e=t,u.$Each(ei,function(i){i.$SetCurrentIndex(N(t),t,e)})}function L(){var t=p.$DragRegistry||0,e=Ae;return $i&&1&e&&(e&=1),p.$DragRegistry|=e,we=e&~t}function z(){we&&(p.$DragRegistry&=~Ae,we=0)}function H(){var t=u.$CreateDiv();return u.$SetStyles(t,Z),u.$CssPosition(t,"absolute"),t}function N(t){return(t%Ye+Ye)%Ye}function R(t,e){var n=t;e?ai?2&ai&&(n=N(n+_e),e=o):(n=i.min(i.max(n+_e,0),Ye-ti),e=o):ai&&(n=J.$GetVirtualIndex(n)),q(n,K.$SlideDuration,e)}function F(){u.$Each(ei,function(t){t.$Show(t.$Options.$ChanceToShow<=ri)})}function W(){ri||(ri=1,F(),Le||(12&ii&&S(),3&ii&&_i[qe].$TryActivate()))}function V(){ri&&(ri=0,F(),Le||!(12&ii)||k())}function B(){Z={$Width:Ue,$Height:Qe,$Top:0,$Left:0},u.$Each(ge,function(t){u.$SetStyles(t,Z),u.$CssPosition(t,"absolute"),u.$CssOverflow(t,"hidden"),u.$HideElement(t)}),u.$SetStyles(he,Z)}function G(t,e){q(t,e,s)}function q(t,e,n){if(oi&&(!Le&&(ri||!(12&ii))||K.$NaviQuitDrag)){Oe=s,Le=o,Be.$Stop(),e==a&&(e=si);var r=Fe.$GetPosition_Display(),l=t;n&&(l=r+t,l=t>0?i.ceil(l):i.floor(l)),2&ai&&(l=N(l)),1&ai||(l=i.max(0,i.min(l,Ye-ti)));var h=(l-r)%Ye;l=r+h;var c=r==l?0:e*i.abs(h);c=i.min(c,1.5*e*ti),Be.$PlayCarousel(r,l,c||1)}}function Y(){return u.$CssWidth(X||d)}function U(){return u.$CssHeight(X||d)}function Q(t,i){if(t==a)return u.$CssWidth(d);if(!X){var n=u.$CreateDiv(e);u.$ClassName(n,u.$ClassName(d)),u.$CssCssText(n,u.$CssCssText(d)),u.$CssDisplay(n,"block"),u.$CssPosition(n,"relative"),u.$CssTop(n,0),u.$CssLeft(n,0),u.$CssOverflow(n,"visible"),X=u.$CreateDiv(e),u.$CssPosition(X,"absolute"),u.$CssTop(X,0),u.$CssLeft(X,0),u.$CssWidth(X,u.$CssWidth(d)),u.$CssHeight(X,u.$CssHeight(d)),u.$SetStyleTransformOrigin(X,"0 0"),u.$AppendChild(X,n);var s=u.$Children(d);u.$AppendChild(d,X),u.$Css(d,"backgroundImage",""),u.$Each(s,function(t){u.$AppendChild(u.$AttributeEx(t,"noscale")?d:n,t)})}Ge=t/(i?u.$CssHeight:u.$CssWidth)(X),u.$CssScale(X,Ge);var o=i?Ge*Y():t,r=i?t:Ge*U();u.$CssWidth(d,o),u.$CssHeight(d,r),u.$Each(ei,function(t){t.$Relocate(o,r)})}var J=this;J.$PlayTo=q,J.$GoTo=function(t){We.$GoToPosition(t)},J.$Next=function(){G(1)},J.$Prev=function(){G(-1)},J.$Pause=function(){De=o},J.$Play=function(){De||(De=s,_i[qe]&&_i[qe].$TryActivate())},J.$SetSlideshowTransitions=function(t){K.$SlideshowOptions.$Transitions=t},J.$SetCaptionTransitions=function(t){ne.$CaptionTransitions=t,ne.$Version=u.$GetNow()},J.$SlidesCount=function(){return ge.length},J.$CurrentIndex=function(){return qe},J.$IsAutoPlaying=function(){return De},J.$IsDragging=function(){return Le},J.$IsSliding=function(){return Oe},J.$IsMouseOver=function(){return!ri},J.$LastDragSucceded=function(){return Me},J.$OriginalWidth=J.$GetOriginalWidth=Y,J.$OriginalHeight=J.$GetOriginalHeight=U,J.$ScaleHeight=J.$GetScaleHeight=function(t){return t==a?u.$CssHeight(d):(Q(t,s),void 0)},J.$ScaleWidth=J.$SetScaleWidth=J.$GetScaleWidth=Q,J.$GetVirtualIndex=function(t){var e=i.ceil(N(je/Ze)),n=N(t-_e+e);return n>ti?t-_e>Ye/2?t-=Ye:-Ye/2>=t-_e&&(t+=Ye):t=_e+n-e,t},r.call(J),J.$Elmt=d=u.$GetElement(d);var K=u.$Extend({$FillMode:0,$LazyLoading:1,$StartIndex:0,$AutoPlay:o,$Loop:1,$HWA:s,$NaviQuitDrag:s,$AutoPlaySteps:1,$AutoPlayInterval:3e3,$PauseOnHover:1,$SlideDuration:500,$SlideEasing:c.$EaseOutQuad,$MinDragOffsetToSlide:20,$SlideSpacing:0,$DisplayPieces:1,$ParkingPosition:0,$UISearchMode:1,$PlayOrientation:1,$DragOrientation:1},m);K.$Idle!=a&&(K.$AutoPlayInterval=K.$Idle),K.$Cols!=a&&(K.$DisplayPieces=K.$Cols);var X,Z,te=3&K.$PlayOrientation,ee=(4&K.$PlayOrientation)/-4||1,ie=K.$SlideshowOptions,ne=u.$Extend({$Class:h,$PlayInMode:1,$PlayOutMode:1},K.$CaptionSliderOptions),se=K.$BulletNavigatorOptions,oe=K.$ArrowNavigatorOptions,ae=K.$ThumbnailNavigatorOptions,re=!K.$UISearchMode,le=u.$FindChild(d,"slides",re),he=u.$FindChild(d,"loading",re)||u.$CreateDiv(e),ce=u.$FindChild(d,"navigator",re),ue=u.$FindChild(d,"arrowleft",re),de=u.$FindChild(d,"arrowright",re),pe=u.$FindChild(d,"thumbnavigator",re),fe=u.$CssWidth(le),me=u.$CssHeight(le),ge=[],ve=u.$Children(le);u.$Each(ve,function(t){"DIV"!=t.tagName||u.$AttributeEx(t,"u")?u.$IsBrowserIe9Earlier()&&u.$CssZIndex(t,(u.$CssZIndex(t)||0)+1):ge.push(t)});var _e,be,$e,ye,we,Ce,xe,ke,Se,Te,Ie,De,Ee,Pe,je,Ae,Me,Oe,Le,ze,He,Ne,Re,Fe,We,Ve,Be,Ge,qe=-1,Ye=ge.length,Ue=K.$SlideWidth||fe,Qe=K.$SlideHeight||me,Je=K.$SlideSpacing,Ke=Ue+Je,Xe=Qe+Je,Ze=1&te?Ke:Xe,ti=i.min(K.$DisplayPieces,Ye),ei=[],ii=K.$PauseOnHover,ni=K.$AutoPlayInterval,si=K.$SlideDuration,oi=Ye>ti,ai=oi?K.$Loop:0,ri=1,li=0,hi=0,ci=new $;De=K.$AutoPlay,J.$Options=m,B(),u.$Attribute(d,"jssor-slider",s),u.$CssZIndex(le,u.$CssZIndex(le)||0),u.$CssPosition(le,"absolute"),$e=u.$CloneNode(le,s),u.$InsertBefore($e,le),ie&&(Te=ie.$ShowLink,Ee=ie.$Class,Pe=1==ti&&Ye>1&&Ee&&(!u.$IsBrowserIE()||u.$BrowserVersion()>=8)),je=Pe||ti>=Ye||!(1&ai)?0:K.$ParkingPosition,Ae=(ti>1||je?te:-1)&K.$DragOrientation;var ui,di,pi,fi,mi,gi,vi=le,_i=[],bi=u.$Device(),$i=bi.$Touchable;bi.$TouchActionAttr&&u.$Css(vi,bi.$TouchActionAttr,[n,"pan-y","pan-x","none"][Ae]||""),Ve=new _,Pe&&(ui=new Ee(ci,Ue,Qe,ie,$i)),u.$AppendChild($e,Ve.$Wrapper),u.$CssOverflow(le,"hidden"),di=H(),u.$Css(di,"backgroundColor","#000"),u.$CssOpacity(di,0),u.$InsertBefore(di,vi.firstChild,vi);for(var yi=0;yi<ge.length;yi++){var wi=ge[yi],Ci=new y(wi,yi);_i.push(Ci)}u.$HideElement(he),Fe=new v,Be=new b(Fe,Ve),Ae&&(u.$AddEvent(le,"mousedown",D),u.$AddEvent(le,"touchstart",I),u.$AddEvent(le,"dragstart",T),u.$AddEvent(le,"selectstart",T),u.$AddEvent(e,"mouseup",P),u.$AddEvent(e,"touchend",P),u.$AddEvent(e,"touchcancel",P),u.$AddEvent(t,"blur",P)),ii&=$i?10:5,ce&&se&&(xe=new se.$Class(ce,se,Y(),U()),ei.push(xe)),oe&&ue&&de&&(oe.$Loop=ai,oe.$DisplayPieces=ti,ke=new oe.$Class(ue,de,oe,Y(),U()),ei.push(ke)),pe&&ae&&(ae.$StartIndex=K.$StartIndex,Se=new ae.$Class(pe,ae),ei.push(Se)),u.$Each(ei,function(t){t.$Reset(Ye,_i,he),t.$On(f.$NAVIGATIONREQUEST,R)}),Q(Y()),u.$AddEvent(le,"click",j),u.$AddEvent(d,"mouseout",u.$MouseOverOutFilter(W,d)),u.$AddEvent(d,"mouseover",u.$MouseOverOutFilter(V,d)),F(),K.$ArrowKeyNavigation&&u.$AddEvent(e,"keydown",function(t){37==t.keyCode?G(-1):39==t.keyCode&&G(1)});var xi=K.$StartIndex;1&ai||(xi=i.max(0,i.min(xi,Ye-ti))),Be.$PlayCarousel(xi,xi,0)};t.$JssorSlideo$=p,p.$EVT_CLICK=21,p.$EVT_DRAG_START=22,p.$EVT_DRAG_END=23,p.$EVT_SWIPE_START=24,p.$EVT_SWIPE_END=25,p.$EVT_LOAD_START=26,p.$EVT_LOAD_END=27,p.$EVT_FREEZE=28,p.$EVT_POSITION_CHANGE=202,p.$EVT_PARK=203,p.$EVT_SLIDESHOW_START=206,p.$EVT_SLIDESHOW_END=207,p.$EVT_PROGRESS_CHANGE=208,p.$EVT_STATE_CHANGE=209,p.$EVT_ROLLBACK_START=210,p.$EVT_ROLLBACK_END=211;var f={$NAVIGATIONREQUEST:1,$INDEXCHANGE:2,$RESET:3};t.$JssorBulletNavigator$=function(t,e){function a(t){-1!=t&&T[t].$Selected(t==k)}function l(t){h.$TriggerEvent(f.$NAVIGATIONREQUEST,t*v)}var h=this;r.call(h),t=u.$GetElement(t);var c,d,p,m,g,v,_,b,$,y,w,C,x,k=0,S=[],T=[];h.$Elmt=t,h.$GetCurrentIndex=function(){return m},h.$SetCurrentIndex=function(t){if(t!=m){var e=k,n=i.floor(t/v);k=n,m=t,a(e),a(n)}},h.$Show=function(e){u.$ShowElement(t,e)};var I;h.$Relocate=function(e,i){if(!I||g.$Scale==o){var e=u.$ParentNode(t).clientWidth,i=u.$ParentNode(t).clientHeight;1&g.$AutoCenter&&u.$CssLeft(t,(e-d)/2),2&g.$AutoCenter&&u.$CssTop(t,(i-p)/2),I=s}};var D;h.$Reset=function(e){if(!D){c=i.ceil(e/v),k=0;var o=C+b,a=x+$,r=i.ceil(c/_)-1;d=C+o*(y?_-1:r),p=x+a*(y?r:_-1),u.$CssWidth(t,d),u.$CssHeight(t,p);for(var h=0;c>h;h++){var f=u.$CreateSpan();u.$InnerText(f,h+1);var m=u.$BuildElement(w,"numbertemplate",f,s);u.$CssPosition(m,"absolute");var I=h%(r+1);u.$CssLeft(m,y?h%_*o:o*I),u.$CssTop(m,y?a*I:i.floor(h/(r+1))*a),u.$AppendChild(t,m),S[h]=m,1&g.$ActionMode&&u.$AddEvent(m,"click",u.$CreateCallback(n,l,h)),2&g.$ActionMode&&u.$AddEvent(m,"mouseover",u.$MouseOverOutFilter(u.$CreateCallback(n,l,h),m)),T[h]=u.$Buttonize(m)}D=s}},h.$Options=g=u.$Extend({$SpacingX:0,$SpacingY:0,$Orientation:1,$ActionMode:1},e),w=u.$FindChild(t,"prototype"),C=u.$CssWidth(w),x=u.$CssHeight(w),u.$RemoveElement(w,t),v=g.$Steps||1,_=g.$Lanes||1,b=g.$SpacingX,$=g.$SpacingY,y=g.$Orientation-1,g.$Scale==o&&u.$Attribute(t,"noscale",s)},t.$JssorArrowNavigator$=function(t,e,i){function a(t){h.$TriggerEvent(f.$NAVIGATIONREQUEST,t,s)}function l(n){u.$ShowElement(t,n||!i.$Loop&&0==p),u.$ShowElement(e,n||!i.$Loop&&p>=d-i.$DisplayPieces),c=n}var h=this;r.call(h);var c,d,p,m,g,v=u.$CssWidth(t),_=u.$CssHeight(t);h.$GetCurrentIndex=function(){return p},h.$SetCurrentIndex=function(t,e,i){i?p=e:(p=t,l(c))},h.$Show=l;var b;h.$Relocate=function(i,n){if(!b||m.$Scale==o){var a=u.$ParentNode(t).clientWidth,n=u.$ParentNode(t).clientHeight;1&m.$AutoCenter&&(u.$CssLeft(t,(a-v)/2),u.$CssLeft(e,(a-v)/2)),2&m.$AutoCenter&&(u.$CssTop(t,(n-_)/2),u.$CssTop(e,(n-_)/2)),b=s}};var $;h.$Reset=function(i){d=i,p=0,$||(u.$AddEvent(t,"click",u.$CreateCallback(n,a,-g)),u.$AddEvent(e,"click",u.$CreateCallback(n,a,g)),u.$Buttonize(t),u.$Buttonize(e),$=s)},h.$Options=m=u.$Extend({$Steps:1},i),g=m.$Steps,m.$Scale==o&&(u.$Attribute(t,"noscale",s),u.$Attribute(e,"noscale",s))},t.$JssorThumbnailNavigator$=function(t,e){function l(t,e){function i(){r.$Selected(c==e)}function o(t){(t||!C.$LastDragSucceded())&&S.$TriggerEvent(f.$NAVIGATIONREQUEST,e)}var a,r,l,h=this;h.$Index=e,h.$Highlight=i,l=t.$Thumb||t.$Image||u.$CreateDiv(),h.$Wrapper=a=u.$BuildElement(k,"thumbnailtemplate",l,s),r=u.$Buttonize(a),1&d.$ActionMode&&u.$AddEvent(a,"click",u.$CreateCallback(n,o,0)),2&d.$ActionMode&&u.$AddEvent(a,"mouseover",u.$MouseOverOutFilter(u.$CreateCallback(n,o,1),a))}var h,c,d,m,g,v,_,b,$,y,w,C,x,k,S=this,T=[];r.call(S),t=u.$GetElement(t),S.$GetCurrentIndex=function(){return c},S.$SetCurrentIndex=function(t,e,n){var s=c;c=t,-1!=s&&T[s].$Highlight(),T[t].$Highlight(),!n&&C.$PlayTo(C.$GetVirtualIndex(i.floor(e/v)))},S.$Show=function(e){u.$ShowElement(t,e)},S.$Relocate=u.$EmptyFunction;var I;S.$Reset=function(e,n){if(!I){h=e,i.ceil(h/v),c=-1,w=i.min(w,n.length);var a=1&d.$Orientation,r=$+($+_)*(v-1)*(1-a),f=y+(y+b)*(v-1)*a,k=r+(r+_)*(w-1)*a,S=f+(f+b)*(w-1)*(1-a);u.$CssPosition(x,"absolute"),u.$CssOverflow(x,"hidden"),1&d.$AutoCenter&&u.$CssLeft(x,(m-k)/2),2&d.$AutoCenter&&u.$CssTop(x,(g-S)/2),u.$CssWidth(x,k),u.$CssHeight(x,S);var D=[];u.$Each(n,function(t,e){var n=new l(t,e),s=n.$Wrapper,o=i.floor(e/v),r=e%v;u.$CssLeft(s,($+_)*r*(1-a)),u.$CssTop(s,(y+b)*r*a),D[o]||(D[o]=u.$CreateDiv(),u.$AppendChild(x,D[o])),u.$AppendChild(D[o],s),T.push(n)});var E=u.$Extend({$HWA:o,$AutoPlay:o,$NaviQuitDrag:o,$SlideWidth:r,$SlideHeight:f,$SlideSpacing:_*a+b*(1-a),$MinDragOffsetToSlide:12,$SlideDuration:200,$PauseOnHover:1,$PlayOrientation:d.$Orientation,$DragOrientation:d.$DisableDrag?0:d.$Orientation},d);C=new p(t,E),I=s}},S.$Options=d=u.$Extend({$SpacingX:3,$SpacingY:3,$DisplayPieces:1,$Orientation:1,$AutoCenter:3,$ActionMode:1},e),d.$Rows!=a&&(d.$Lanes=d.$Rows),m=u.$CssWidth(t),g=u.$CssHeight(t),x=u.$FindChild(t,"slides",s),k=u.$FindChild(x,"prototype"),$=u.$CssWidth(k),y=u.$CssHeight(k),u.$RemoveElement(k,x),v=d.$Lanes||1,_=d.$SpacingX,b=d.$SpacingY,w=d.$DisplayPieces,d.$Scale==o&&u.$Attribute(t,"noscale",s)},t.$JssorCaptionSlider$=function(t,e,n){function s(t,e){function o(t,e){var i={};return u.$Each(f,function(n,s){var o=u.$AttributeEx(t,n+(e||""));if(o){var a={};"t"==n?a.$Value=o:o.indexOf("%")+1?a.$Percent=u.$ParseFloat(o)/100:a.$Value=u.$ParseFloat(o),i[s]=a}}),i}function a(){return p[i.floor(i.random()*p.length)]}function r(t){var e;if("*"==t)e=a();else if(t){var n=p[u.$ParseInt(t)]||p[t];u.$IsArray(n)&&(t!=l?(l=t,g[t]=0,c[t]=n[i.floor(i.random()*n.length)]):g[t]++,n=c[t],u.$IsArray(n)&&(n=n.length&&n[g[t]%n.length],u.$IsArray(n)&&(n=n[i.floor(i.random()*n.length)]))),e=n,u.$IsString(e)&&(e=r(e))}return e}var l,h=[],c=[],g=[],v=u.$Children(t);return u.$Each(v,function(t){var i=[];i.$Elmt=t;var a="caption"==u.$AttributeEx(t,"u");u.$Each(n?[0,3]:[2],function(n,l){if(a){var h,c;if(2==n&&u.$AttributeEx(t,"t3")||(c=o(t,n),2!=n||c.$Transition||(c.$Delay=c.$Delay||{$Value:0},c=u.$Extend(o(t,0),c))),c&&c.$Transition&&(h=r(c.$Transition.$Value))){var p=u.$Extend({$Delay:0},h);u.$Each(c,function(t,e){var i=(m[e]||m.$Default).apply(m,[p[e],c[e]]);isNaN(i)||(p[e]=i)}),l||(c.$BeginTime?p.$BeginTime=c.$BeginTime.$Value||0:2&d&&(p.$BeginTime=0))}i.push(p)}e%2&&!l&&(i.$Children=s(t,e+1))}),h.push(i)}),h}function o(t,e,s){var o={$Easing:e.$Easing,$Round:e.$Round,$During:e.$During,$Reverse:n&&!s},a=t,r=u.$ParentNode(t),h=u.$CssWidth(a),c=u.$CssHeight(a),d=u.$CssWidth(r),p=u.$CssHeight(r),f={},m={},g=e.$ScaleClip||1;if(e.$Opacity&&(m.$Opacity=1-e.$Opacity),o.$OriginalWidth=h,o.$OriginalHeight=c,e.$Zoom||e.$Rotate){m.$Zoom=(e.$Zoom||2)-2,(u.$IsBrowserIe9Earlier()||u.$IsBrowserOpera())&&(m.$Zoom=i.min(m.$Zoom,1)),f.$Zoom=1;var v=e.$Rotate||0;m.$Rotate=360*v,f.$Rotate=0}else if(e.$Clip){var _={$Top:0,$Right:h,$Bottom:c,$Left:0},b=u.$Extend({},_),$=b.$Offset={},y=4&e.$Clip,w=8&e.$Clip,C=1&e.$Clip,x=2&e.$Clip;y&&w?($.$Top=c/2*g,$.$Bottom=-$.$Top):y?$.$Bottom=-c*g:w&&($.$Top=c*g),C&&x?($.$Left=h/2*g,$.$Right=-$.$Left):C?$.$Right=-h*g:x&&($.$Left=h*g),o.$Move=e.$Move,m.$Clip=b,f.$Clip=_}var k=0,S=0;e.x&&(k-=d*e.x),e.y&&(S-=p*e.y),(k||S||o.$Move)&&(m.$Left=k,m.$Top=S);var T=e.$Duration;return f=u.$Extend(f,u.$GetStyles(a,m)),o.$Setter=u.$StyleSetterEx(),new l(e.$Delay,T,o,a,f,m)}function r(t,e){return u.$Each(e,function(e){var i,n=e.$Elmt,s=e[0],l=e[1];if(s&&(i=o(n,s),t=i.$Locate(s.$BeginTime==a?t:s.$BeginTime,1)),t=r(t,e.$Children),l){var u=o(n,l,1);u.$Locate(t,1),c.$Combine(u),h.$Combine(u)}i&&c.$Combine(i)}),t}var h,c=this,d=n?e.$PlayInMode:e.$PlayOutMode,p=e.$CaptionTransitions,f={$Transition:"t",$Delay:"d",$Duration:"du",x:"x",y:"y",$Rotate:"r",$Zoom:"z",$Opacity:"f",$BeginTime:"b"},m={$Default:function(t,e){return isNaN(e.$Value)?t*=e.$Percent:t=e.$Value,t},$Opacity:function(t,e){return this.$Default(t-1,e)}};m.$Zoom=m.$Opacity,l.call(c,0,0),c.$Revert=function(){c.$GoToPosition(c.$GetPosition_OuterEnd()*(n||0)),h.$GoToPosition(0)},h=new l(0,0),r(0,d?s(t,1):[])}}(window,document,Math,null,!0,!1);var SliderEmployer={init:function(){$("#slider-employer").length&&this.runSlider()},runSlider:function(){function t(){var e=i.$Elmt.parentNode.clientWidth;e?i.$ScaleWidth(Math.min(e,800)):window.setTimeout(t,30)}var e={$PauseOnHover:1,$ArrowKeyNavigation:!0,$SlideWidth:720,$SlideSpacing:0,$DisplayPieces:2,$ParkingPosition:40,$ArrowNavigatorOptions:{$Class:$JssorArrowNavigator$,$ChanceToShow:2,$AutoCenter:2,$Steps:1}},i=new $JssorSlider$("slider-employer",e);t(),$(window).bind("load",t),$(window).bind("resize",t),$(window).bind("orientationchange",t)}};$(document).ready(function(){SliderEmployer.init()}),/*
 * jQuery showLoading plugin v1.0
 * 
 * Copyright (c) 2009 Jim Keller
 * Context - http://www.contextllc.com
 * 
 * Dual licensed under the MIT and GPL licenses.
 *
 */
jQuery.fn.showLoading=function(t){var e,i={addClass:"",beforeShow:"",afterShow:"",hPos:"center",vPos:"center",indicatorZIndex:5001,overlayZIndex:5e3,parent:"",marginTop:0,marginLeft:0,overlayWidth:null,overlayHeight:null};jQuery.extend(i,t);var n=jQuery("<div></div>"),s=jQuery("<div></div>");e=i.indicatorID?i.indicatorID:jQuery(this).attr("id"),jQuery(n).attr("id","loading-indicator-"+e),jQuery(n).addClass("loading-indicator"),i.addClass&&jQuery(n).addClass(i.addClass),jQuery(s).css("display","none"),jQuery(document.body).append(s),jQuery(s).attr("id","loading-indicator-"+e+"-overlay"),jQuery(s).addClass("loading-indicator-overlay"),i.addClass&&jQuery(s).addClass(i.addClass+"-overlay");var o,a,r=jQuery(this).css("border-top-width"),l=jQuery(this).css("border-left-width");r=isNaN(parseInt(r))?0:r,l=isNaN(parseInt(l))?0:l;var h=jQuery(this).offset().left+parseInt(l),c=jQuery(this).offset().top+parseInt(r);o=null!==i.overlayWidth?i.overlayWidth:parseInt(jQuery(this).width())+parseInt(jQuery(this).css("padding-right"))+parseInt(jQuery(this).css("padding-left")),a=null!==i.overlayHeight?i.overlayWidth:parseInt(jQuery(this).height())+parseInt(jQuery(this).css("padding-top"))+parseInt(jQuery(this).css("padding-bottom")),jQuery(s).css("width",o.toString()+"px"),jQuery(s).css("height",a.toString()+"px"),jQuery(s).css("left",h.toString()+"px"),jQuery(s).css("position","absolute"),jQuery(s).css("top",c.toString()+"px"),jQuery(s).css("z-index",i.overlayZIndex),i.overlayCSS&&jQuery(s).css(i.overlayCSS),jQuery(n).css("display","none"),jQuery(document.body).append(n),jQuery(n).css("position","absolute"),jQuery(n).css("z-index",i.indicatorZIndex);var u=c;i.marginTop&&(u+=parseInt(i.marginTop));var d=h;i.marginLeft&&(d+=parseInt(i.marginTop)),"center"==i.hPos.toString().toLowerCase()?jQuery(n).css("left",(d+(jQuery(s).width()-parseInt(jQuery(n).width()))/2).toString()+"px"):"left"==i.hPos.toString().toLowerCase()?jQuery(n).css("left",(d+parseInt(jQuery(s).css("margin-left"))).toString()+"px"):"right"==i.hPos.toString().toLowerCase()?jQuery(n).css("left",(d+(jQuery(s).width()-parseInt(jQuery(n).width()))).toString()+"px"):jQuery(n).css("left",(d+parseInt(i.hPos)).toString()+"px"),"center"==i.vPos.toString().toLowerCase()?jQuery(n).css("top",(u+(jQuery(s).height()-parseInt(jQuery(n).height()))/2).toString()+"px"):"top"==i.vPos.toString().toLowerCase()?jQuery(n).css("top",u.toString()+"px"):"bottom"==i.vPos.toString().toLowerCase()?jQuery(n).css("top",(u+(jQuery(s).height()-parseInt(jQuery(n).height()))).toString()+"px"):jQuery(n).css("top",(u+parseInt(i.vPos)).toString()+"px"),i.css&&jQuery(n).css(i.css);var p={overlay:s,indicator:n,element:this};return"function"==typeof i.beforeShow&&i.beforeShow(p),jQuery(s).show(),jQuery(n).show(),"function"==typeof i.afterShow&&i.afterShow(p),this},jQuery.fn.hideLoading=function(t){var e={};return jQuery.extend(e,t),indicatorID=e.indicatorID?e.indicatorID:jQuery(this).attr("id"),jQuery(document.body).find("#loading-indicator-"+indicatorID).remove(),jQuery(document.body).find("#loading-indicator-"+indicatorID+"-overlay").remove(),this},$(document).ready(function(){ThankYouPage.init()});var ThankYouPage={init:function(){var t=this;t.page=$(".container-thankyou"),t.bindAjaxForm()},bindAjaxForm:function(){var t=this;$(t.page).find("form#job-mail").on("ajax:complete",function(){$(".containt").showLoading({addClass:"loading-indicator"}),setTimeout(function(){t.confirmationPage(),$(".containt").hideLoading()},2e3)})},confirmationPage:function(){var t=this,e=$(t.page).find(".confirmation"),i=t.getParamsForm();$(e).find(".skills").text(i.skills),$(e).find(".cities").text(i.cities),$(e).find(".email").text(i.email),$(t.page).find(".subscription").hide(),$(e).show()},getParamsForm:function(){var t=this,e=$(t.page).find("form#job-mail"),i=$(e).find("#job_mail_query"),n=i.val().split("-").filter(Boolean);return n=$.map(n,function(t){return t.replace(/\+/g," ")}),{skills:t.formatSkillTags(n),email:e.find("#job_mail_email").val()+",",cities:e.find("#job_mail_city").val().split("+").filter(Boolean).join(" and ")}},formatSkillTags:function(t){var e=t.join(", "),i=e.lastIndexOf(",");return-1==i?e:e.substring(0,i)+" and "+e.substring(i+1,e.length)}},SkillTagsSelection={init:function(t){this.page=t,this.selectEvent()},selectEvent:function(){var t=this;$(t.page).find(".get-jobs").attr("disabled",!0),$(t.page).find(".jobrobot_skill_tags button").click(function(){$(this).toggleClass("active"),t.getTagValue($(this),".jobrobot_skill_tags","#job_mail_query"),t.activateButton(".jobrobot_skill_tags",3),t.enableGetJob(t.page)}),$(t.page).find(".jobrobot_cities button").click(function(){$(this).toggleClass("active"),$skillTagsElement=$(this).parents(".jobrobot_cities").siblings("form").find("#job_mail_city"),this_text=$(this).find(".text").data("city-code"),""==$skillTagsElement.val()?$skillTagsElement.val(this_text):$skillTagsElement.val(""),t.activateButton(".jobrobot_cities",1),t.enableGetJob(t.page)})},getTagValue:function(t,e,i){$skillTagsElement=t.parents(e).siblings("form").find(i),this_text=t.find(".text").text().replace(/\s/g,"+"),tagValues=$skillTagsElement.val().split("-"),Popup.pushTagValue(tagValues,this_text,$skillTagsElement)},activateButton:function(t,e){$(t+" button.active").length<e?$(t+" button").attr("disabled",!1):$(t+" button").not(".active").attr("disabled",!0)},enableGetJob:function(){var t=this;$(t.page).find(".jobrobot_skill_tags button.active").length>0&&$(t.page).find(".jobrobot_cities button.active").length>0?$(".get-jobs").attr("disabled",!1):$(".get-jobs").attr("disabled",!0)}};$(document).ready(function(){JobRobotLandingPage.init()});var JobRobotLandingPage={init:function(){var t=this;t.page=$(".container-jobrobot"),t.CITIES={"Ho Chi Minh":"ho-chi-minh-hcm","Ha Noi":"ha-noi","Da Nang":"da-nang"},t.page.length>0&&(SkillTagsSelection.init(t.page),t.submitJobMail())},submitJobMail:function(){var t=this;$(t.page).find("form#job-mail").on("ajax:complete",function(){$(".containt").showLoading({addClass:"loading-indicator"}),setTimeout(function(){t.responseToConfirmPage(),$(".containt").hideLoading()},2e3)})},responseToConfirmPage:function(){var t=this,e=$(t.page).find(".confirmation"),i=t.getParamsForm();$(e).find(".skills").text(ThankYouPage.formatSkillTags(i.skills)),$(e).find(".cities").text(i.city),$(e).find(".email").text(i.email),$(t.page).find(".subscription").hide(),$(e).show(),t.updateLinkViewJobsButton(i)},getParamsForm:function(){var t=this,e=$(t.page).find("form#job-mail"),i=$(e).find("#job_mail_query"),n=i.val().split("-").filter(Boolean);return n=$.map(n,function(t){return t.replace(/\+/g," ")}),{skills:n,email:e.find("#job_mail_email").val()+",",city:e.find("#job_mail_city").val().replace("-","").replace(/\+/g," ")}},updateLinkViewJobsButton:function(t){var e=this,i=$(e.page).find(".view-jobs .button-red");i.attr("href",full_search_path(e.mapCities(t.city),t.skills.join("-")))},mapCities:function(t){return"All"==t?"":this.CITIES[t]}};$(document).ready(function(){AutoJRLightBox.initialize()});var AutoJRLightBox={initialize:function(){var t=this;t.cookieId="auto_jr_lightbox",t.run()},cookie:function(t){$.cookie(this.cookieId,!0,{expires:t,path:"/"})},show:function(){var t=this;setTimeout(function(){$(".job-show-page").length>0?$(".job-description-mail-link a.popup-link").trigger("click"):Popup.showPopup({id:"job_mail_subscribe"}),t.cookie(7)},3e3)},run:function(){var t=this;!$.cookie(t.cookieId)&&$(".has-jr").length>0&&(t.show(),$('form#job-mail[data-section="top"]').bind("ajax:success",function(){t.cookie(90)}))}};$(document).ready(function(){MyJobRobotPage.init(),UpdateEmailUser.init()});var UpdateEmailUser={init:function(){this.clickSave(),this.countClick=0,this.preventSubmitByEnter()},preventSubmitByEnter:function(){$("#my-account-tab form").on("keypress",function(t){return 13==t.keyCode?!1:void 0})},clickSave:function(){var t,e,i,n=this;$("#collapseEmail .save-email").click(function(){t=$("#user_id").val(),e=$("#user_email[type='text']").val(),i=""!=e&&$(this).closest(".panel-contain").find(".field_with_errors").length<=0,i&&n.updateEmail(t,e)})},updateEmail:function(t,e){var i=this;$.ajax({url:"/users/"+t+"/add_pending_email",dataType:"json",method:"PUT",data:{user:{pending_email:e}},success:function(n){1==n.valid?($("#collapseEmail .message").hide(),i.showPopup(e),i.countClick+=1,i.checkAbuseRobot(t)):$("#collapseEmail .message").show()}})},showPopup:function(t){var e="We just sent a confirmation message to "+t+". Go to your inbox now to confirm your email address.";$("#notificate_when_email_updated .header-title").text(e),Popup.showPopup({id:"notificate_when_email_updated",width:650})},checkAbuseRobot:function(t){this.countClick>=4&&this.pending_change_email(t)},pending_change_email:function(t){$.ajax({url:"/users/"+t+"/pending_change_email",dataType:"json",method:"PUT",success:function(t){1==t.valid&&window.location.reload()}})}},MyJobRobotPage={init:function(){$("#jobrobot-tab").length<=0||(this.MAXJR=10,this.initPopupUnsubscribed(),this.tableJR=document.getElementById("table-jobrobot"),this.initTags(),this.initChosen(),this.eventOfTable())},initTags:function(){var t=this;$(".search_skilltags").tagit({availableTags:$(".search_skilltags").data("tags"),singleFieldDelimiter:"-",tagLimit:3,autocomplete:{delay:0,minLength:2,source:function(t,e){var i=$.ui.autocomplete.filter($(".search_skilltags").data("tags"),t.term);e(i.slice(0,8))}},beforeTagRemoved:function(t,e){e.tag.closest("ul").find(".tagit-close").length<=1&&(e.tag.closest("ul").find(".tagit-new input").css("width","100%"),e.tag.closest("ul").find(".tagit-new input").attr("placeholder","Keyword, skill..."))},afterTagRemoved:function(){$(this).focus(),t.updateSubscribedJobRobot($(this).closest("tr"),$(this).closest("td.keywords"))},afterTagAdded:function(e,i){i.duringInitialization||(i.tag.closest("ul").find(".tagit-new input").css("width","50px"),i.tag.closest("ul").find(".tagit-new input").attr("placeholder",""),t.updateSubscribedJobRobot($(this).closest("tr"),$(this).closest("td.keywords")))},onTagLimitExceeded:function(){t.showMessageLimitTags($(this).closest("td.keywords"))},allowSpaces:!0,placeholderText:""})},initChosen:function(){$(".search_city").chosen({disable_search:!0,allow_single_deselect:!0,width:"100%"})},initDefaultRow:function(){var t=this;$(this.tableJR).find("tbody tr").length-1<=0&&setTimeout(function(){t.hideAddNewButton(),$(".add-new-job-robot button").trigger("click")},0)},initPopupUnsubscribed:function(){$("#jobrobot-tab").data("unsubscribed")&&(this.activeJobRobotTab(),Popup.showPopup({id:"unsubscribed",width:550}))},activeJobRobotTab:function(){$("ul#account-tabs li.tab-account").removeClass("active"),$("ul#account-tabs li.tab-job-robot").addClass("active"),$("#my-account-tab").removeClass("active in"),$("#jobrobot-tab").addClass("active in")},eventOfTable:function(){var t=this;this.initDefaultRow(),this.subscribeJobRobot(),this.unsubscribeJobRobot(),this.autoSaveSubscribedJR(),this.setStatusAddNewButton(),$(".add-new-job-robot button").click(function(){t.addRowJobRobot()})},addRowJobRobot:function(){var t=this,e=$(t.tableJR).find("tr.new-job-robot").clone();$(e).find(".keywords input").addClass("search_skilltags"),$(e).find(".city select").addClass("search_city"),t.tableJR.insertRow(t.tableJR.rows.length),$(t.tableJR).find("tr:last").append(e.html()),t.initTags(),t.initChosen(),$(t.tableJR).find("tr:last").find(".tagit-new input").attr("placeholder","Keyword, skill..."),t.setStatusAddNewButton(),t.autoSaveSubscribedJR()},subscribeJobRobot:function(){var t=this;$(t.tableJR).on("click",".subscribe-action",function(){var e=$(this).closest("tr");t.isValidJobRobot(e)&&(t.loading(),$.ajax({url:"/subscribe",method:"POST",dataType:"json",data:{campaign:"jr_jd",get_job_mail:!0,job_mail:t.paramsJobRobot(e)}}).complete(function(i){"undefined"!=typeof i.responseJSON&&($(e).attr("data-jr-id",i.responseJSON.id),"undefined"==typeof $(e).attr("old-id")&&$(e).attr("old-id",i.responseJSON.id)),setTimeout(function(){t.changeStatus(e),t.showAddNewButton(),t.hideLoading(),t.flashMessage("subscribed")},1e3)}))})},unsubscribeJobRobot:function(){var t=this;$(t.tableJR).on("click",".ion-close",function(){var e=$(this).closest("tr"),i=$(e).attr("data-jr-id");"undefined"!=typeof i?(t.showConfirmationPopup(e),$(".go-unsubscribe").on("click",function(){Popup.hidePopup(),$(this).closest(".popup_confirm_jr").attr("data-jr-id")==i&&$.ajax({url:"/unsubscribe/*",dataType:"json",data:{unsubscribed_email:{unsubscribeable_type:"JobMail",unsubscribeable_id:i}}}).complete(function(i){1==i.responseJSON.status&&(setTimeout(function(){t.loading()},300),t.setStatusAddNewButton(),setTimeout(function(){$(e).remove(),t.hideLoading(),t.flashMessage("unsubscribed")},1200))})})):($(e).remove(),t.setStatusAddNewButton())})},autoSaveSubscribedJR:function(){var t=this;$(".search_city").chosen().change(function(){t.updateSubscribedJobRobot($(this).closest("tr"),$(this).closest("td.city"))})},updateSubscribedJobRobot:function(t,e){var i=this,n=$(t).attr("data-jr-id");"undefined"!=typeof n&&this.isValidJobRobot(t)&&$.ajax({url:"/job_mails/"+n,method:"PUT",dataType:"json",data:{campaign:"jr_jd",job_mail:i.paramsJobRobot(t)}}).complete(function(){i.showMessageSaved(e)})},isValidJobRobot:function(t){var e=!0,i=this.paramsJobRobot(t);return i.query.length<=0?(e=!1,$(t).find("ul.tagit").addClass("errors")):$(t).find("ul.tagit").removeClass("errors"),e},paramsJobRobot:function(t){var e,i,n=[];return $(t).find(".tagit-label").each(function(t,e){n.push($(e).text().split(" ").join("+"))}),n=n.filter(Boolean).join("-"),e=$("p.email_of_user").text().trim(),i=$(t).find(".chzn-container a.chzn-single span:first").text().trim(),{email:e,query:n,city:i}},getStatusJR:function(t){return $(t).find(".status p").attr("data-status")},changeStatus:function(t){$(t).find(".action button").remove(),$(t).find("p.msg-subscribed").show()},setStatusAddNewButton:function(){$(this.tableJR).find("tbody tr").length-1>=this.MAXJR?($(".add-new-job-robot button").attr("disabled",!0),$(".add-new-job-robot button").addClass("button-disabled"),$(".add-new-job-robot .message-limit-tags").show()):($(".add-new-job-robot button").attr("disabled",!1),$(".add-new-job-robot button").removeClass("button-disabled"),$(".add-new-job-robot .message-limit-tags").hide())},showMessageSaved:function(t){this.showMessage(t,".message-saved")},showMessageLimitTags:function(t){this.showMessage(t,".message-limit-tags")},showMessage:function(t,e){var i=$(t).find(e+" .popover");setTimeout(function(){$(i).css("display","block"),$(i).addClass("in"),$(i).fadeIn(1e3)},200),setTimeout(function(){$(i).fadeOut(3e3)},1e3)},showAddNewButton:function(){$(".add-new-job-robot").show(),$(".msg-new-job-robot").hide()},flashMessage:function(t){"subscribed"==t?$("#jobrobot-tab p.notice").text("Subscribed successfully."):$("#jobrobot-tab p.notice").text("Unsubscribed successfully."),$("#jobrobot-tab p.notice").show(),$("#jobrobot-tab p.notice").addClass("valid_hint")},hideAddNewButton:function(){$(".add-new-job-robot").hide(),$(".msg-new-job-robot").show()},loading:function(){$("#table-jobrobot").showLoading({addClass:"loading-indicator"})},hideLoading:function(){$("#table-jobrobot").hideLoading()},showConfirmationPopup:function(t){var e=this;e.changeTitlePopup(t),Popup.showPopup({id:"confirm_unsubscribe_job_robot",width:650})},getSkillTags:function(t){var e=[];return $(t).find(".tagit-label").each(function(t,i){e.push($(i).text().trim())}),e.filter(Boolean).join(", ")},changeTitlePopup:function(t){var e="Are you sure you want to unsubscribe from your Job Robot for "+this.getSkillTags(t)+"?";$("#confirm_unsubscribe_job_robot .popup_confirm_jr").attr("data-jr-id",$(t).attr("data-jr-id")),$("#confirm_unsubscribe_job_robot .header-title").text(e)}};!function(){var t;$(document).ready(function(){return t.init()}),t={init:function(){return this.apply()},apply:function(){var t;return t=this,$(document).on("click",".apply-one-click",function(){var e,i;return t.loading($(this)),e=$(this),i=$(this).data("job-id"),$.ajax("/job/"+i+"/job_applications",{type:"POST",dataType:"json",success:function(){return setTimeout(function(){return t.hideLoading(e)},1e3)}})})},loading:function(t){return $(t).showLoading({addClass:"small-loading-indicator"})},hideLoading:function(t){return $(t).fadeOut(200),$(t).addClass("none-display"),$(t).closest(".job-bottom").find(".applied").addClass("position-applied-message").removeClass("none-display"),$(t).closest(".job-bottom").find(".applied").fadeIn(200),setTimeout(function(){return $(t).hideLoading()},50)}}}.call(this),function(t,e){function i(){t.removeEventListener("load",i,!1),r=!0}function n(t){return l=l||new n.Class(t)}function s(t,e){for(var i in e)t[i]=e[i];return t}function o(){"#ath"==e.location.hash&&history.replaceState("",t.document.title,e.location.href.split("#")[0]),h.test(e.location.href)&&history.replaceState("",t.document.title,e.location.href.replace(h,"$1")),c.test(e.location.search)&&history.replaceState("",t.document.title,e.location.href.replace(c,"$2"))}var a="addEventListener"in t,r=!1;"complete"===e.readyState?r=!0:a&&t.addEventListener("load",i,!1);var l,h=/\/ath(\/)?$/,c=/([\?&]ath=[^&]*$|&ath=[^&]*(&))/;n.intl={de_de:{ios:"Um diese Web-App zum Home-Bildschirm hinzuzufügen, tippen Sie auf %icon und dann <strong>Zum Home-Bildschirm</strong>.",android:'Um diese Web-App zum Home-Bildschirm hinzuzufügen, öffnen Sie das Menü und tippen dann auf <strong>Zum Startbildschirm hinzufügen</strong>. <small>Wenn Ihr Gerät eine Menütaste hat, lässt sich das Browsermenü über diese öffnen. Ansonsten tippen Sie auf <span class="ath-action-icon">icon</span>.</small>'},da_dk:{ios:"For at tilføje denne web app til hjemmeskærmen: Tryk %icon og derefter <strong>Føj til hjemmeskærm</strong>.",android:'For at tilføje denne web app til hjemmeskærmen, åbn browser egenskaber menuen og tryk på <strong>Føj til hjemmeskærm</strong>. <small>Denne menu kan tilgås ved at trykke på menu knappen, hvis din enhed har en, eller ved at trykke på det øverste højre menu ikon <span class="ath-action-icon">icon</span>.</small>'},en_us:{ios:"To add this web app to the home screen: tap %icon and then <strong>Add to Home Screen</strong>.",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},da_dk:{ios:"For at tilføje denne web app til din startskærm: tryk på %icon og vælg <strong>Føj til hjemmeskærm</strong>.",android:'For at tilføje denne web app til din startskærm, åben browserens værktøjsmenuog tryk på <strong>Tilføj til hjemmeskærm</strong>. <small>Menuen kan aktiveres ved at trykke på den fysiske menuknap hvis din enhed har en, eller ved at trykke på menuikonet i øverste højre hjørne <span class="ath-action-icon">icon</span>.</small>'},es_es:{ios:"Para añadir esta aplicación web a la pantalla de inicio: pulsa %icon y selecciona <strong>Añadir a pantalla de inicio</strong>.",android:'Para añadir esta aplicación web a la pantalla de inicio, abre las opciones y pulsa <strong>Añadir a pantalla inicio</strong>. <small>El menú se puede acceder pulsando el botón táctil en caso de tenerlo, o bien el icono de la parte superior derecha de la pantalla <span class="ath-action-icon">icon</span>.</small>'},fi_fi:{ios:"Liitä tämä sovellus kotivalikkoon: klikkaa %icon ja tämän jälkeen <strong>Lisää kotivalikkoon</strong>.",android:'Lisätäksesi tämän sovelluksen aloitusnäytölle, avaa selaimen valikko ja klikkaa tähti -ikonia tai <strong>Lisää aloitusnäytölle tekstiä</strong>. <small>Valikkoon pääsee myös painamalla menuvalikkoa, jos laitteessasi on sellainen tai koskettamalla oikealla yläkulmassa menu ikonia <span class="ath-action-icon">icon</span>.</small>'},fr_fr:{ios:"Pour ajouter cette application web sur l'écran d'accueil : Appuyez %icon et sélectionnez <strong>Ajouter sur l'écran d'accueil</strong>.",android:'Pour ajouter cette application web sur l\'écran d\'accueil : Appuyez sur le bouton "menu", puis sur <strong>Ajouter sur l\'écran d\'accueil</strong>. <small>Le menu peut-être accessible en appyant sur le bouton "menu" du téléphone s\'il en possède un <i class="fa fa-bars"></i>. Sinon, il se trouve probablement dans la coin supérieur droit du navigateur %icon.</small>'},he_il:{ios:'<span dir="rtl">להוספת האפליקציה למסך הבית: ללחוץ על %icon ואז <strong>הוסף למסך הבית</strong>.</span>',android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},it_it:{ios:"Per aggiungere questa web app alla schermata iniziale: premi %icon e poi <strong>Aggiungi a Home</strong>.",android:'Per aggiungere questa web app alla schermata iniziale, apri il menu opzioni del browser e premi su <strong>Aggiungi alla homescreen</strong>. <small>Puoi accedere al menu premendo il pulsante hardware delle opzioni se la tua device ne ha uno, oppure premendo l\'icona <span class="ath-action-icon">icon</span> in alto a destra.</small>'},ja_jp:{ios:"このウェプアプリをホーム画面に追加するために%iconを押して<strong>ホーム画面に追加</strong>。",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},ko_kr:{ios:"홈 화면에 바로가기 생성: %icon 을 클릭한 후 <strong>홈 화면에 추가</strong>.",android:'브라우저 옵션 메뉴의 <string>홈 화면에 추가</string>를 클릭하여 홈화면에 바로가기를 생성할 수 있습니다. <small>옵션 메뉴는 장치의 메뉴 버튼을 누르거나 오른쪽 상단의 메뉴 아이콘 <span class="ath-action-icon">icon</span>을 클릭하여 접근할 수 있습니다.</small>'},nb_no:{ios:"For å installere denne appen på hjem-skjermen: trykk på %icon og deretter <strong>Legg til på Hjem-skjerm</strong>.",android:'For å legge til denne webappen på startsiden åpner en nettlesermenyen og velger <strong>Legg til på startsiden</strong>. <small>Menyen åpnes ved å trykke på den fysiske menyknappen hvis enheten har det, eller ved å trykke på menyikonet øverst til høyre <span class="ath-action-icon">icon</span>.</small>'},pt_br:{ios:"Para adicionar este app à tela de início: clique %icon e então <strong>Tela de início</strong>.",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},pt_pt:{ios:"Para adicionar esta app ao ecrã principal: clique %icon e depois <strong>Ecrã principal</strong>.",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},nl_nl:{ios:"Om deze webapp op je telefoon te installeren, klik op %icon en dan <strong>Zet in beginscherm</strong>.",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},ru_ru:{ios:'Чтобы добавить этот сайт на свой домашний экран, нажмите на иконку %icon и затем <strong>На экран "Домой"</strong>.',android:'Чтобы добавить сайт на свой домашний экран, откройте меню браузера и нажмите на <strong>Добавить на главный экран</strong>. <small>Меню можно вызвать, нажав на кнопку меню вашего телефона, если она есть. Или найдите иконку сверху справа <span class="ath-action-icon">иконка</span>.</small>'},sv_se:{ios:"För att lägga till denna webbapplikation på hemskärmen: tryck på %icon och därefter <strong>Lägg till på hemskärmen</strong>.",android:'För att lägga till den här webbappen på hemskärmen öppnar du webbläsarens alternativ-meny och väljer <strong>Lägg till på startskärmen</strong>. <small>Man hittar menyn genom att trycka på hårdvaruknappen om din enhet har en sådan, eller genom att trycka på menyikonen högst upp till höger <span class="ath-action-icon">icon</span>.</small>'},zh_cn:{ios:"如要把应用程式加至主屏幕,请点击%icon, 然后<strong>加至主屏幕</strong>",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},zh_tw:{ios:"如要把應用程式加至主屏幕, 請點擊%icon, 然後<strong>加至主屏幕</strong>.",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'}};for(var u in n.intl)n.intl[u.substr(0,2)]=n.intl[u];n.defaults={appID:"org.cubiq.addtohome",fontSize:15,debug:!1,logging:!1,modal:!1,mandatory:!1,autostart:!0,skipFirstVisit:!1,startDelay:1,lifespan:15,displayPace:1440,maxDisplayCount:0,icon:!0,message:"",validLocation:[],onInit:null,onShow:null,onRemove:null,onAdd:null,onPrivate:null,privateModeOverride:!1,detectHomescreen:!1};var d=t.navigator.userAgent,p=t.navigator;s(n,{hasToken:"#ath"==e.location.hash||h.test(e.location.href)||c.test(e.location.search),isRetina:t.devicePixelRatio&&t.devicePixelRatio>1,isIDevice:/iphone|ipod|ipad/i.test(d),isMobileChrome:d.indexOf("Android")>-1&&/Chrome\/[.0-9]*/.test(d)&&-1==d.indexOf("Version"),isMobileIE:d.indexOf("Windows Phone")>-1,language:p.language&&p.language.toLowerCase().replace("-","_")||""}),n.language=n.language&&n.language in n.intl?n.language:"en_us",n.isMobileSafari=n.isIDevice&&d.indexOf("Safari")>-1&&d.indexOf("CriOS")<0,n.OS=n.isIDevice?"ios":n.isMobileChrome?"android":n.isMobileIE?"windows":"unsupported",n.OSVersion=d.match(/(OS|Android) (\d+[_\.]\d+)/),n.OSVersion=n.OSVersion&&n.OSVersion[2]?+n.OSVersion[2].replace("_","."):0,n.isStandalone="standalone"in t.navigator&&t.navigator.standalone,n.isTablet=n.isMobileSafari&&d.indexOf("iPad")>-1||n.isMobileChrome&&d.indexOf("Mobile")<0,n.isCompatible=n.isMobileSafari&&n.OSVersion>=6||n.isMobileChrome;var f={lastDisplayTime:0,returningVisitor:!1,displayCount:0,optedout:!1,added:!1};n.removeSession=function(t){try{if(!localStorage)throw new Error("localStorage is not defined");localStorage.removeItem(t||n.defaults.appID)}catch(e){}},n.doLog=function(t){this.options.logging&&console.log(t)},n.Class=function(i){if(this.doLog=n.doLog,this.options=s({},n.defaults),s(this.options,i),i.debug&&"undefined"==typeof i.logging&&(this.options.logging=!0),a){if(this.options.mandatory=this.options.mandatory&&("standalone"in t.navigator||this.options.debug),this.options.modal=this.options.modal||this.options.mandatory,this.options.mandatory&&(this.options.startDelay=-.5),this.options.detectHomescreen=this.options.detectHomescreen===!0?"hash":this.options.detectHomescreen,this.options.debug&&(n.isCompatible=!0,n.OS="string"==typeof this.options.debug?this.options.debug:"unsupported"==n.OS?"android":n.OS,n.OSVersion="ios"==n.OS?"8":"4"),this.container=e.documentElement,this.session=this.getItem(this.options.appID),this.session=this.session?JSON.parse(this.session):void 0,!n.hasToken||n.isCompatible&&this.session||(n.hasToken=!1,o()),!n.isCompatible)return this.doLog("Add to homescreen: not displaying callout because device not supported"),void 0;this.session=this.session||f;try{if(!localStorage)throw new Error("localStorage is not defined");localStorage.setItem(this.options.appID,JSON.stringify(this.session)),n.hasLocalStorage=!0}catch(r){n.hasLocalStorage=!1,this.options.onPrivate&&this.options.onPrivate.call(this)}for(var l=!this.options.validLocation.length,h=this.options.validLocation.length;h--;)if(this.options.validLocation[h].test(e.location.href)){l=!0;break}if(this.getItem("addToHome")&&this.optOut(),this.session.optedout)return this.doLog("Add to homescreen: not displaying callout because user opted out"),void 0;if(this.session.added)return this.doLog("Add to homescreen: not displaying callout because already added to the homescreen"),void 0;if(!l)return this.doLog("Add to homescreen: not displaying callout because not a valid location"),void 0;if(n.isStandalone)return this.session.added||(this.session.added=!0,this.updateSession(),this.options.onAdd&&n.hasLocalStorage&&this.options.onAdd.call(this)),this.doLog("Add to homescreen: not displaying callout because in standalone mode"),void 0;if(this.options.detectHomescreen){if(n.hasToken)return o(),this.session.added||(this.session.added=!0,this.updateSession(),this.options.onAdd&&n.hasLocalStorage&&this.options.onAdd.call(this)),this.doLog("Add to homescreen: not displaying callout because URL has token, so we are likely coming from homescreen"),void 0;"hash"==this.options.detectHomescreen?history.replaceState("",t.document.title,e.location.href+"#ath"):"smartURL"==this.options.detectHomescreen?history.replaceState("",t.document.title,e.location.href.replace(/(\/)?$/,"/ath$1")):history.replaceState("",t.document.title,e.location.href+(e.location.search?"&":"?")+"ath=")}if(!this.session.returningVisitor&&(this.session.returningVisitor=!0,this.updateSession(),this.options.skipFirstVisit))return this.doLog("Add to homescreen: not displaying callout because skipping first visit"),void 0;if(!this.options.privateModeOverride&&!n.hasLocalStorage)return this.doLog("Add to homescreen: not displaying callout because browser is in private mode"),void 0;this.ready=!0,this.options.onInit&&this.options.onInit.call(this),this.options.autostart&&(this.doLog("Add to homescreen: autostart displaying callout"),this.show())}},n.Class.prototype={events:{load:"_delayedShow",error:"_delayedShow",orientationchange:"resize",resize:"resize",scroll:"resize",click:"remove",touchmove:"_preventDefault",transitionend:"_removeElements",webkitTransitionEnd:"_removeElements",MSTransitionEnd:"_removeElements"},handleEvent:function(t){var e=this.events[t.type];e&&this[e](t)},show:function(i){if(this.options.autostart&&!r)return setTimeout(this.show.bind(this),50),void 0;if(this.shown)return this.doLog("Add to homescreen: not displaying callout because already shown on screen"),void 0;var s=Date.now(),o=this.session.lastDisplayTime;if(i!==!0){if(!this.ready)return this.doLog("Add to homescreen: not displaying callout because not ready"),void 0;if(s-o<6e4*this.options.displayPace)return this.doLog("Add to homescreen: not displaying callout because displayed recently"),void 0;if(this.options.maxDisplayCount&&this.session.displayCount>=this.options.maxDisplayCount)return this.doLog("Add to homescreen: not displaying callout because displayed too many times already"),void 0}this.shown=!0,this.session.lastDisplayTime=s,this.session.displayCount++,this.updateSession(),this.applicationIcon||(this.applicationIcon="ios"==n.OS?e.querySelector('head link[rel^=apple-touch-icon][sizes="152x152"],head link[rel^=apple-touch-icon][sizes="144x144"],head link[rel^=apple-touch-icon][sizes="120x120"],head link[rel^=apple-touch-icon][sizes="114x114"],head link[rel^=apple-touch-icon]'):e.querySelector('head link[rel^="shortcut icon"][sizes="196x196"],head link[rel^=apple-touch-icon]'));var a="";"object"==typeof this.options.message&&n.language in this.options.message?a=this.options.message[n.language][n.OS]:"object"==typeof this.options.message&&n.OS in this.options.message?a=this.options.message[n.OS]:this.options.message in n.intl?a=n.intl[this.options.message][n.OS]:""!==this.options.message?a=this.options.message:n.OS in n.intl[n.language]&&(a=n.intl[n.language][n.OS]),a="<p>"+a.replace("%icon",'<span class="ath-action-icon">icon</span>')+"</p>",this.viewport=e.createElement("div"),this.viewport.className="ath-viewport",this.options.modal&&(this.viewport.className+=" ath-modal"),this.options.mandatory&&(this.viewport.className+=" ath-mandatory"),this.viewport.style.position="absolute",this.element=e.createElement("div"),this.element.className="ath-container ath-"+n.OS+" ath-"+n.OS+(n.OSVersion+"").substr(0,1)+" ath-"+(n.isTablet?"tablet":"phone"),this.element.style.cssText="-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0s;-webkit-transition-timing-function:ease-out;transition-property:transform,opacity;transition-duration:0s;transition-timing-function:ease-out;",this.element.style.webkitTransform="translate3d(0,-"+t.innerHeight+"px,0)",this.element.style.transform="translate3d(0,-"+t.innerHeight+"px,0)",this.options.icon&&this.applicationIcon&&(this.element.className+=" ath-icon",this.img=e.createElement("img"),this.img.className="ath-application-icon",this.img.addEventListener("load",this,!1),this.img.addEventListener("error",this,!1),this.img.src=this.applicationIcon.href,this.element.appendChild(this.img)),this.element.innerHTML+=a,this.viewport.style.left="-99999em",this.viewport.appendChild(this.element),this.container.appendChild(this.viewport),this.img?this.doLog("Add to homescreen: not displaying callout because waiting for img to load"):this._delayedShow()
},_delayedShow:function(){setTimeout(this._show.bind(this),1e3*this.options.startDelay+500)},_show:function(){var i=this;this.updateViewport(),t.addEventListener("resize",this,!1),t.addEventListener("scroll",this,!1),t.addEventListener("orientationchange",this,!1),this.options.modal&&e.addEventListener("touchmove",this,!0),this.options.mandatory||setTimeout(function(){i.element.addEventListener("click",i,!0)},1e3),setTimeout(function(){i.element.style.webkitTransitionDuration="1.2s",i.element.style.transitionDuration="1.2s",i.element.style.webkitTransform="translate3d(0,0,0)",i.element.style.transform="translate3d(0,0,0)"},0),this.options.lifespan&&(this.removeTimer=setTimeout(this.remove.bind(this),1e3*this.options.lifespan)),this.options.onShow&&this.options.onShow.call(this)},remove:function(){clearTimeout(this.removeTimer),this.img&&(this.img.removeEventListener("load",this,!1),this.img.removeEventListener("error",this,!1)),t.removeEventListener("resize",this,!1),t.removeEventListener("scroll",this,!1),t.removeEventListener("orientationchange",this,!1),e.removeEventListener("touchmove",this,!0),this.element.removeEventListener("click",this,!0),this.element.addEventListener("transitionend",this,!1),this.element.addEventListener("webkitTransitionEnd",this,!1),this.element.addEventListener("MSTransitionEnd",this,!1),this.element.style.webkitTransitionDuration="0.3s",this.element.style.opacity="0"},_removeElements:function(){this.element.removeEventListener("transitionend",this,!1),this.element.removeEventListener("webkitTransitionEnd",this,!1),this.element.removeEventListener("MSTransitionEnd",this,!1),this.container.removeChild(this.viewport),this.shown=!1,this.options.onRemove&&this.options.onRemove.call(this)},updateViewport:function(){if(this.shown){this.viewport.style.width=t.innerWidth+"px",this.viewport.style.height=t.innerHeight+"px",this.viewport.style.left=t.scrollX+"px",this.viewport.style.top=t.scrollY+"px";var i=e.documentElement.clientWidth;this.orientation=i>e.documentElement.clientHeight?"landscape":"portrait";var s="ios"==n.OS?"portrait"==this.orientation?screen.width:screen.height:screen.width;this.scale=screen.width>i?1:s/t.innerWidth,this.element.style.fontSize=this.options.fontSize/this.scale+"px"}},resize:function(){clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.updateViewport.bind(this),100)},updateSession:function(){n.hasLocalStorage!==!1&&localStorage&&localStorage.setItem(this.options.appID,JSON.stringify(this.session))},clearSession:function(){this.session=f,this.updateSession()},getItem:function(t){try{if(!localStorage)throw new Error("localStorage is not defined");return localStorage.getItem(t)}catch(e){n.hasLocalStorage=!1}},optOut:function(){this.session.optedout=!0,this.updateSession()},optIn:function(){this.session.optedout=!1,this.updateSession()},clearDisplayCount:function(){this.session.displayCount=0,this.updateSession()},_preventDefault:function(t){t.preventDefault(),t.stopPropagation()}},t.addToHomescreen=n}(window,document),addToHomescreen.intl.en_us={ios:'<h3>Add ITviec to your phone! </h3> <div style="margin-bottom:10px;">tap %icon and then <strong>Add to Home Screen</strong>.</div>',android:'<h3>Add ITviec to your phone! </h3> <div style="margin-bottom:10px;">open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon %icon.</small></div>'},$(document).ready(function(){"/"==window.location.pathname&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(window.history.pushState("object or string","irrelevent","?utm_source=(direct)&utm_medium=bookmark"),addToHomescreen({skipFirstVisit:!0,maxDisplayCount:1,lifespan:0}))}),function(){var t;$(document).ready(function(){return t.init()}),t={init:function(){return this.searchCompanyText=$("#search_companies_text"),this.getDataTags(),this.searchInput(),this.animationIconActiveTab(),this.behaviorInputSearchUI(),this.initPlaceholder()},initPlaceholder:function(){return 0===$("#search_companies_form").find(".tagit-close").length?$("#search_companies_form").find(".tagit-new input").attr("placeholder","Keyword skill (Java, iOS...), Company..."):void 0},getDataTags:function(){var t;return t=this,t.searchCompanyText.length>0?$.getJSON("/api/v1/tags/populars/companies",function(e){t.searchCompanyText.tagit("option","availableTags",e)}):void 0},searchInput:function(){var t;return t=this,$(t.searchCompanyText).tagit({availableTags:$(t.searchCompanyText).data("tags"),singleFieldDelimiter:"-",autocomplete:{delay:0,minLength:2,source:function(e,i){var n;n=$.ui.autocomplete.filter(t.searchCompanyText.tagit("option","availableTags"),e.term),i(n.slice(0,8))}},beforeTagRemoved:function(e,i){i.tag.closest("ul").find(".tagit-close").length<=1&&(i.tag.closest("ul").find(".tagit-new input").attr("placeholder","Keyword skill (Java, iOS...), Company..."),t.addBorderInputSearch())},afterTagRemoved:function(){$(".tagit-new input").focus()},afterTagAdded:function(e,i){t.searchCompanyText.tagit("updatePlaceholderText"),i.duringInitialization||(i.tag.closest("ul").find(".tagit-new input").attr("placeholder",""),$("#search_companies_form").submit())},allowSpaces:!0,placeholderText:""})},animationIconActiveTab:function(){var t;return t=$(".search-options .triangle"),$("#search-tabs a").click(function(){return"#jobs-tab"===$(this).attr("href")?($(t).addClass("trans-to-jobs"),$(t).removeClass("trans-to-companies"),$("#search_form").submit()):($(t).addClass("trans-to-companies"),$(t).removeClass("trans-to-jobs"),$("#search_companies_form").submit())})},behaviorInputSearchUI:function(){var t;return t=this,$("#search_companies_form .search_text_wrapper input").click(function(){return t.addBorderInputSearch()}),$("#search_companies_form .search_text_wrapper input").blur(function(){return t.removeBorderInputSearch()})},addBorderInputSearch:function(){return $("#search_companies_form .search_text_wrapper").addClass("blue_search_text_wrapper")},removeBorderInputSearch:function(){return $("#search_companies_form .search_text_wrapper").removeClass("blue_search_text_wrapper")}}}.call(this),function(){var t,e;$(document).ready(function(){return t.init()}),t={init:function(){return this.signIn(),this.signUp(),this.getStartSignIn()},getStartSignIn:function(){return $("#active_user_confirmed").on("click",".sign-in-btn",function(){return $(".pageHeader a.popup-link").trigger("click")})},signIn:function(){return this.submitForm("#signin-tab"),this.submitForm("#user-sessions-tab")},signUp:function(){return this.submitForm("#signup-tab")},submitForm:function(t){var i;return i=this,$(t).find("form").attr("novalidate","novalidate"),$(t).find("form").submit(function(n){return n.preventDefault(),e.formIsValid($(this))?i.callbackSubmit(t):!1})},callbackSubmit:function(t){var e,i;return i=this,e=$(t).find("form").attr("id"),$(t).find("form").bind("ajax:complete",function(n,s){return s.responseJSON&&s.responseJSON.success?"signin_form"===e?window.location.reload():($(t).showLoading({addClass:"loading-indicator"}),setTimeout(function(){return PopupAuthentication.responseConfirmation(),$(t).hideLoading()},1e3),void 0):i.messageErrorsServer(t,s)})},messageErrorsServer:function(t,e){var i,n,s;return i=$(t).find("form").attr("id"),s=$(t).find(".errors ul"),$(s).find("li").remove(),n="signup_form"===i?"Oops! Email has already been taken.":e.responseJSON.inactive?"Your account was not activated yet.":"Oops! Wrong username or password.",$(s).append("<li><span>"+n+"</span></li>")}},e={formIsValid:function(t){return this.validator(t),$(t).find(".field_error").length<=0},validator:function(t){var e,i;return i=this,i.resetFormErrors(t),e=$(t).find(".form-group input"),$.each(e,function(t,e){return""===$(e).val()?$(e).addClass("field_error"):("email"===$(e).attr("type")?i.validateEmail(e):"password"===$(e).attr("type")?i.validatePassword(e):$(e).removeClass("field_error"),void 0)})},validateEmail:function(t){var e,i;return i=this,e=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,e.test($(t).val())?$(t).removeClass("field_error"):($(t).addClass("field_error"),i.showErrors(t,"Please correct the email address"))},validatePassword:function(t){var e;return e=this,"signin_form"===$(t).closest("form").attr("id")?($(t).removeClass("field_error"),!1):$(t).val().length>=8?$(t).removeClass("field_error"):($(t).addClass("field_error"),e.showErrors(t,"Password must be at least 8 characters"))},showErrors:function(t,e){var i;return i=$(t).closest("form").parent().find(".errors ul"),$(i).append("<li><span>"+e+"</span></li>")},resetFormErrors:function(t){return $(t).parent().find(".errors ul li").remove()}}}.call(this),function(){var t;$(document).ready(function(){return t.init()}),t={init:function(){return this.submitForm("#reset_password"),this.submitForm("#change_password"),this.showPopupUpdatedPassword()},showPopupUpdatedPassword:function(){return $("#updated_password_success").length>0?Popup.showPopup({id:"updated_password_success"}):void 0},submitForm:function(t){var e;return e=this,$(t).attr("novalidate","novalidate"),$(t).submit(function(){return e.formIsValid($(this))?"change_password"===$(t).attr("id")?!0:e.callbackSubmit(this):!1})},callbackSubmit:function(t){var e,i;return i=this,e=$(t).parent(),$(t).bind("ajax:complete",function(n,s){var o;return s.responseJSON&&s.responseJSON.success?($(e).showLoading({addClass:"loading-indicator"}),setTimeout(function(){return $(t).hide(),$(".user-coverable .reponse-message").show(),$(e).hideLoading()},1e3),void 0):(o=s.responseJSON.only_social_account?"Oops! Cannot reset password for this email because you've never used email sign-in.":"Email address does not exist.",i.resetFormErrors(t),i.showErrors(t,o))})},formIsValid:function(t){return this.validator(t),$(t).find(".field_error").length<=0},validator:function(t){var e,i;i=this,i.resetFormErrors(t),e=$(t).find(".form-group input"),$.each(e,function(t,e){return""===$(e).val()?$(e).addClass("field_error"):"password"===$(e).attr("type")?i.validatePassword(e):$(e).removeClass("field_error")})},validatePassword:function(t){var e;return e=this,$(t).val().length>=8?$(t).removeClass("field_error"):($(t).addClass("field_error"),e.showErrors(t,"Password must be at least 8 characters"))},showErrors:function(t,e){var i;return i=$(t).find(".errors ul"),$(i).append("<li><span>"+e+"</span></li>")},resetFormErrors:function(t){return $(t).find(".errors ul li").remove()}}}.call(this),function(){var t,e,i,n,s,o,a,r;$(document).ready(function(){return t.init(),n.init(),e.init(),s.init()}),t={init:function(){return $(".company-content .company-page").length<=0?void 0:(this.disableAutoSlider(),this.locations())},disableAutoSlider:function(){return $("#slider-photos").carousel({interval:!1}),$("#slider-photos-mobile").carousel({interval:!1})},locations:function(){return i.init()}},i={init:function(){return this.initLocation(),this.chooseLocation()},initLocation:function(){return $(".location-content .location .full-address:first").addClass("active"),this.moveArrowTo($(".location-content .location .full-address:first"))},resetLocation:function(){return $(".location-content .location .full-address").removeClass("active")},moveArrowTo:function(t){var e,i;return this.resetLocation(),$(t).addClass("active"),e=$(".full-address.active").position().top,i=e+parseInt($(t).css("padding-top"))+$(t).height()/2-10,$(".location-content .location .triangle").css("top",i)},chooseLocation:function(){var t;return t=this,$(".location-content .location .full-address").click(function(){return t.moveArrowTo(this)})}},n={init:function(){return this.buttonFollow=$("#follow-company"),this.callbackFollowing(),this.follow(),this.subscribeJR(),this.callbackFollowingWhenNotSignIn(),this.autoShowFollowLightbox()},autoShowFollowLightbox:function(){return 0!==$("#job_mail_employer.popup_container").length?null==$.cookie("follow-company")?setTimeout(function(){var t;return Popup.showPopup({id:"job_mail_employer",width:650}),t=new Date,t.setHours(24,0,0),$.cookie("follow-company",!0,{expires:t,path:"/"})},5e3):void 0:void 0},follow:function(){var t;return t=this,$(t.buttonFollow).click(function(){return $(this).hasClass("notfollow")?$("#follow-company-form").submit():t.unfollow()})},unfollow:function(){var t,e;return e=this,t=e.buttonFollow.attr("data-jobmail-id"),e.loading(),$.ajax({url:"/unsubscribe/*",dataType:"json",data:{unsubscribed_email:{unsubscribeable_type:"JobMail",unsubscribeable_id:t}}}).complete(function(t){return t.responseJSON.status===!0?setTimeout(function(){return e.unfollowBehavior(),e.updateJobMailId(""),e.hideLoading()},500):window.location.reload()})},callbackFollowing:function(){var t;return t=this,$("#follow-company-form").bind("ajax:complete",function(e,i){return t.loading(),t.updateJobMailId(i.responseJSON.id),t.cookieForPopup(),setTimeout(function(){return t.followingBehavior(),t.hideLoading()},500),t.valueOfCookie()<=3?setTimeout(function(){return Popup.showPopup({id:"follow_confirmed",width:650})},1e3):void 0})},callbackFollowingWhenNotSignIn:function(){var t;return t=this,$("#jr-employer-form").bind("ajax:complete",function(){return $("#job_mail_employer .popup .content").showLoading({addClass:"small-loading-indicator"}),t.cookieForPopup(),setTimeout(function(){return $("#job_mail_employer .popup .content").fadeOut(3e3),$("#job_mail_employer .popup .content").remove(),$("#job_mail_employer .popup .content").hideLoading(),$("#job_mail_employer .popup .content").fadeIn(2e3),$("#job_mail_employer .popup").append($("#follow_confirmed .popup .content"))},700)})},followingBehavior:function(){return $(this.buttonFollow).removeClass("notfollow"),$(this.buttonFollow).addClass("following"),$(this.buttonFollow).text("Following")},unfollowBehavior:function(){return $(this.buttonFollow).removeClass("following"),$(this.buttonFollow).addClass("notfollow"),$(this.buttonFollow).text("Follow")},updateJobMailId:function(t){return $(this.buttonFollow).attr("data-jobmail-id",t)},subscribeJR:function(){var t;return t="job_mail_employer",$("#follow-company-email").click(function(){return Popup.showPopup({id:"job_mail_employer",width:650})})},cookieForPopup:function(){var t;return t=$.cookie("follow_confirmed_cookie"),"undefined"==typeof t&&(t=0),$.cookie("follow_confirmed_cookie",t+1,{expires:365,path:"/"})},valueOfCookie:function(){var t;return t=$.cookie("follow_confirmed_cookie"),"undefined"==typeof t&&(t=0),t},loading:function(){return $(this.buttonFollow).showLoading({addClass:"follow-loading-indicator"})},hideLoading:function(){return $(this.buttonFollow).hideLoading()}},e={init:function(){return this.selectSkillTags(),this.submitForm(),o.init(),a.init(),r.init(),this.customeCheckMarkforEditor(),this.customeCheckMarkLocations()},submitForm:function(){var t;return t=this,t.initCheckTerm(),$("input#term_employer").change(function(){return t.enablePreviewButton($(this))})},initCheckTerm:function(){var t;return t=$("input#term_employer"),this.enablePreviewButton(t)},enablePreviewButton:function(t){return $(t).is(":checked")?$(".submit_employer_btn").removeAttr("disabled"):$(".submit_employer_btn").attr("disabled",!0)},selectSkillTags:function(){var t;return t=this,this.selectorPrimary=$("#employer_primary_skill_tag_ids"),this.selectorSecondary=$("#employer_secondary_skill_tag_ids"),$.each([t.selectorPrimary,t.selectorSecondary],function(e,i){return $(i).chosen({max_selected_options:3}),$(i).bind("liszt:maxselected",function(){return t.showErrors($(this),"Limit 3 skill tags")}),$(i).chosen().change(function(e,i){var n;return n=$(this).val(),t.resetErrors($(this)),n&&n.length>0?t.validateExistSkill(i.selected,$(this)):void 0})})},validateExistSkill:function(t,e){var i,n,s;return n=this,s=e.val(),i="employer_secondary_skill_tag_ids"===$(e).attr("id")?$(n.selectorPrimary).val():$(n.selectorSecondary).val(),i&&i.length>0&&i.indexOf(t)>=0?(s.splice(s.indexOf(t),1),e.val(s),e.trigger("liszt:updated"),n.showErrors(e,"Skill tag already selected")):void 0},showErrors:function(t,e){return this.resetErrors(t),$(t).next().before("<div class='skill-tags-limit-warning'>"+e+"</div>")},resetErrors:function(t){return $(t).parent().find(".skill-tags-limit-warning").remove()},customeCheckMarkforEditor:function(){return $("#employer_long_description_input .icon-status").after("<p style='clear:both;'></p>"),$("#employer_culture_description_input .icon-status").after("<p style='clear:both;'></p>")},customeCheckMarkLocations:function(){return $('li.select[id^="employer_locations_attributes_"] .icon-complete').addClass("icon-complete-safari"),$('li.select[id^="employer_locations_attributes_"] .icon-incomplete').addClass("icon-incomplete-safari"),$('li.select[id^="employer_locations_attributes_"] .chzn-container').css("padding-bottom","15px")}},o={init:function(){return this.section=$(".locations_section"),this.addMoreLocations(),this.bindDistrictsToCity()},bindDistrictsToCity:function(){var t;return t=["1","2","3"],$.each(t,function(t,e){var i;return i=new DistrictBinding("#employer_city_"+e,"#employer_district_"+e),i.bindDistrictsToCity()})},addMoreLocations:function(){var t;return t=this,t.initLinkAddMore(),$(t.section).find(".add-more-location").click(function(){var e;return e=$(t.section).find("fieldset.locations.hidden"),e.length>0&&e.first().removeClass("hidden"),e.last().hasClass("hidden")?void 0:$(this).hide()})},initLinkAddMore:function(){return $(this.section).find("fieldset.locations.hidden").length<=0?$(this.section).find(".add-more-location").hide():void 0}},a={init:function(){return this.initChoosePhotoVideo(),this.chooseOptionPhotoVideo()},initChoosePhotoVideo:function(){var t;return t=this,$(".photos_videos_radios:checked").each(function(e,i){t.enableOptionPhotoVideo(i)})},chooseOptionPhotoVideo:function(){var t;return t=this,$(".photos_videos_radios").click(function(){t.enableOptionPhotoVideo(this)})},enableOptionPhotoVideo:function(t){var e;return e=$(t).closest("fieldset.job_description_photos"),$(e).find(".photos_videos_item").closest("li").hide(),$(e).find(".photos_videos_"+$(t).val()).closest("li").show(),$(e).find(".photos_videos_"+$(t).val()).show()}},r={init:function(){return $(".edit.admin_employers").length<=0?void 0:this.showStatus()},showStatus:function(){var t;return t=this,t.statusOfDetailsSection(),t.statusOfLocationSection(),t.statusOfMainInfoSection()},statusOfDetailsSection:function(){var t,e;return t=$("#employer_form fieldset.details_section"),e=$.merge($(t).find("ol > li > input"),$(t).find("ol > li > select")),this.checkStatusSection(e)},statusOfLocationSection:function(){var t,e;return e=$("#employer_form fieldset.locations_section"),t=$.merge($(e).find(".locations:not(.hidden) ol > li > input"),$(e).find(".locations:not(.hidden) ol >li > select")),this.checkStatusSection(t)},statusOfMainInfoSection:function(){var t,e;return e=$("#employer_form fieldset.main_info_section"),t=$.merge($(e).find("ol > li").not(".boolean").not(".boolean_string").not(".select").not(".file").find("input"),$(e).find("ol > li > textarea")),this.checkStatusSection(t),this.statusOfSkillTags()},statusOfSkillTags:function(){var t,e;return t=this,e=[$("#employer_primary_skill_tag_ids"),$("#employer_secondary_skill_tag_ids")],$(e).each(function(e,i){return""===$(i).val()||null===$(i).val()?t.incompleteStatus($(i).next()):t.completeStatus($(i).next()),$(i).closest("li").find(".icon-status").addClass("status-skill-tags"),$(i).chosen().change(function(){var e;t.removeStatusIcon($(this).next()),e=$(i).closest("li").find(".chzn-container"),""===$(this).val()||null===$(this).val()?t.incompleteStatus($(e)):t.completeStatus($(e)),$(i).closest("li").find(".icon-status").addClass("status-skill-tags")})})},checkStatusSection:function(t){var e;return e=this,$(t).each(function(t,i){return e.checkStatusItem(i)}),e.eventStatusSection(t)},eventStatusSection:function(t){var i;return i=this,$(t).each(function(t,n){return $(n).blur(function(){return i.removeStatusIcon(n),i.checkStatusItem(n),e.customeCheckMarkLocations()}),$(n).change(function(){return i.removeStatusIcon(n),i.checkStatusItem(n),e.customeCheckMarkLocations()})})},checkStatusItem:function(t){var e;return e=this,""===$(t).val()||null===$(t).val()?e.incompleteStatus(t):e.completeStatus(t)},completeStatus:function(t){return $(t).after('<label class="label icon-status icon-complete"></label>')},incompleteStatus:function(t){return $(t).after('<label class="label icon-status icon-incomplete">Add now</label>')},removeStatusIcon:function(t){var e;return e=$(t).closest("li").find(".icon-status"),e.length>0?$(e).remove():void 0}},s={init:function(){return $("#featured_companies .clickable").click(function(){return window.open($(this).closest(".company").attr("data-employer-url"),"_blank")})}}}.call(this),function(){var t;$(document).ready(function(){var e;return e=new t,e.initialize()}),t=function(){function t(){this.menu="#user-notifications",this.path="/api/v1/notifications/user_notifications"}return t.prototype.initialize=function(){var t;return t=this,$(""+this.menu).length>0?$.getJSON(this.path,function(e){return $(""+t.menu+" .pageMenu__link--saved").remove(),$(""+t.menu).append(e.html)}):void 0},t}()}.call(this);